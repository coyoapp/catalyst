var n=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(n,e,i){return i={path:e,exports:{},require:function(n,e){return t()}},n(i,i.exports),i.exports}function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e((function(e){(function(n,t){if(e.exports){e.exports=t()}else{n.log=t()}})(n,(function(){var n=function(){};var e="undefined";var t=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent);var i=["trace","debug","info","warn","error"];function o(n,e){var t=n[e];if(typeof t.bind==="function"){return t.bind(n)}else{try{return Function.prototype.bind.call(t,n)}catch(e){return function(){return Function.prototype.apply.apply(t,[n,arguments])}}}}function r(){if(console.log){if(console.log.apply){console.log.apply(console,arguments)}else{Function.prototype.apply.apply(console.log,[console,arguments])}}if(console.trace)console.trace()}function s(i){if(i==="debug"){i="log"}if(typeof console===e){return false}else if(i==="trace"&&t){return r}else if(console[i]!==undefined){return o(console,i)}else if(console.log!==undefined){return o(console,"log")}else{return n}}function c(e,t){for(var o=0;o<i.length;o++){var r=i[o];this[r]=o<e?n:this.methodFactory(r,e,t)}this.log=this.debug}function f(n,t,i){return function(){if(typeof console!==e){c.call(this,t,i);this[n].apply(this,arguments)}}}function u(n,e,t){return s(n)||f.apply(this,arguments)}function a(n,t,o){var r=this;var s;t=t==null?"WARN":t;var f="loglevel";if(typeof n==="string"){f+=":"+n}else if(typeof n==="symbol"){f=undefined}function a(n){var t=(i[n]||"silent").toUpperCase();if(typeof window===e||!f)return;try{window.localStorage[f]=t;return}catch(n){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(n){}}function d(){var n;if(typeof window===e||!f)return;try{n=window.localStorage[f]}catch(n){}if(typeof n===e){try{var t=window.document.cookie;var i=t.indexOf(encodeURIComponent(f)+"=");if(i!==-1){n=/^([^;]+)/.exec(t.slice(i))[1]}}catch(n){}}if(r.levels[n]===undefined){n=undefined}return n}function l(){if(typeof window===e||!f)return;try{window.localStorage.removeItem(f);return}catch(n){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(n){}}r.name=n;r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};r.methodFactory=o||u;r.getLevel=function(){return s};r.setLevel=function(t,i){if(typeof t==="string"&&r.levels[t.toUpperCase()]!==undefined){t=r.levels[t.toUpperCase()]}if(typeof t==="number"&&t>=0&&t<=r.levels.SILENT){s=t;if(i!==false){a(t)}c.call(r,t,n);if(typeof console===e&&t<r.levels.SILENT){return"No console available for logging"}}else{throw"log.setLevel() called with invalid level: "+t}};r.setDefaultLevel=function(n){t=n;if(!d()){r.setLevel(n,false)}};r.resetLevel=function(){r.setLevel(t,false);l()};r.enableAll=function(n){r.setLevel(r.levels.TRACE,n)};r.disableAll=function(n){r.setLevel(r.levels.SILENT,n)};var w=d();if(w==null){w=t}r.setLevel(w,false)}var d=new a;var l={};d.getLogger=function n(e){if(typeof e!=="symbol"&&typeof e!=="string"||e===""){throw new TypeError("You must supply a name when creating a logger.")}var t=l[e];if(!t){t=l[e]=new a(e,d.getLevel(),d.methodFactory)}return t};var w=typeof window!==e?window.log:undefined;d.noConflict=function(){if(typeof window!==e&&window.log===d){window.log=w}return d};d.getLoggers=function n(){return l};d["default"]=d;return d}))}));class o{constructor(){this.id=(Math.random()+1).toString(36).substring(2);this.i18n=new Map;window.addEventListener("cat-i18n-set",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.set(e.i18n,true)}}));window.addEventListener("cat-i18n-clear",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.clear(true)}}))}static getInstance(){if(!o.instance){o.instance=new o}return o.instance}set(n,e=false){const t=Object.entries(n);t.forEach((([n,e])=>this.i18n.set(n,e)));i.info(`[CatI18nRegistry] Registered ${t.length!==1?"messages":"message"}`);!e&&window.dispatchEvent(this.buildEvent("cat-i18n-set",{i18n:n,id:this.id}))}clear(n=false){this.i18n.clear();i.info(`[CatI18nRegistry] Cleared messages`);!n&&window.dispatchEvent(this.buildEvent("cat-i18n-clear"))}t(n,e){const t=this.i18n.get(n);if(t===undefined){i.error(`[CatI18nRegistry] Unknown message key: ${n}`);return n}return t.replace(/{{\s*([-a-zA-Z._]+)\s*}}/g,((n,t)=>{var i;return`${(i=e===null||e===void 0?void 0:e[t])!==null&&i!==void 0?i:""}`}))}buildEvent(n,e){return new CustomEvent(n,{bubbles:true,composed:true,detail:e})}}const r=o.getInstance();class s{constructor(){this.id=(Math.random()+1).toString(36).substring(2);this.icons=new Map;window.addEventListener("cat-icons-added",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.addIcons(e.icons,e.setName,true)}}));window.addEventListener("cat-icons-removed",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.removeIcons(e.names,e.setName,true)}}))}static getInstance(){if(!s.instance){s.instance=new s}return s.instance}getIcon(n,e){const t=this.icons.get(this.buildName(n,e));if(!t){i.error(`[CatIconRegistry] Unknown icon${e?` in set ${e}`:""}: ${n}`)}return t}addIcons(n,e,t=false){const o=Object.entries(n);const r=o.length;o.forEach((([n,t])=>this.icons.set(this.buildName(n,e),t)));i.info(`[CatIconRegistry] Added ${r!==1?"icons":"icon"}${e?` to set ${e}`:""}`);!t&&window.dispatchEvent(this.buildEvent("cat-icons-added",{id:this.id,icons:n,setName:e}));return this}removeIcons(n,e,t=false){const o=n.length;n.forEach((n=>this.icons.delete(this.buildName(n,e))));i.info(`[CatIconRegistry] Removed ${o!==1?"icons":"icon"}${e?` from set ${e}`:""}`);!t&&window.dispatchEvent(this.buildEvent("cat-icons-removed",{id:this.id,names:n,setName:e}));return this}buildName(n,e){return e?`${e}:name`:n}buildEvent(n,e){return new CustomEvent(n,{bubbles:true,composed:true,detail:e})}}const c=s.getInstance();export{o as C,n as a,r as b,e as c,c as d,s as e,i as l};
//# sourceMappingURL=p-ccfebe33.js.map