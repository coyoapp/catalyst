{"version":3,"names":["setAttributeDefault","host","attr","value","hostElement","hasAttribute","setAttribute","String","catAlertCss","CatAlert","this","mapIcon","Map","mapRole","connectedCallback","get","color","render","h","Host","noIcon","size","icon","class","loadImg","src","Promise","resolve","reject","image","Image","addEventListener","catAvatarCss","CatAvatar","onSrcChanged","then","backgroundImage","undefined","componentWillLoad","componentWillRender","label","log","warn","url","href","target","urlTarget","style","cssStyle","cssClass","content","getInitials","avatar","round","Boolean","initials","split","map","n","join","catBadgeCss","CatBadge","_breakpoints","Breakpoints","xs","s","m","l","xl","isBreakpoint","includes","hasV8BreakIterator","Intl","v8BreakIterator","Platform","constructor","EDGE","test","navigator","userAgent","TRIDENT","BLINK","window","chrome","CSS","WEBKIT","IOS","FIREFOX","ANDROID","SAFARI","mediaQueriesForWebkitCompatibility","Set","mediaQueryStyleNode","MediaMatcher","_platform","_matchMedia","matchMedia","bind","query","createEmptyStyleRule","has","document","createElement","head","appendChild","sheet","insertRule","add","e","error","catButtonCss","CatButton","onIconOnlyChanged","mediaQueryList","removeEventListener","mediaQueryListener","mediaMatcher","event","_iconOnly","matches","iconOnly","isIconButton","a11yLabel","haltDisabledEvents","disabled","loading","preventDefault","stopImmediatePropagation","async","options","button","focus","blur","click","ref","el","a11yCurrent","id","buttonId","part","active","noEllipsis","variant","onClick","onFocus","onBlur","nativeAttributes","type","submit","name","buttonGroupPosition","iconSize","spinnerSize","hasPrefixIcon","iconRight","hasSuffixIcon","catClick","emit","catFocus","catBlur","catButtonGroupCss","CatButtonGroup","formElements","role","onSlotchange","onSlotChange","Array","from","querySelectorAll","forEach","element","index","length","catCardCss","CatCard","CatFormHint","props","hint","slottedHint","errorMap","errors","Object","entries","key","params","i18n","t","isArray","item","catCheckboxCss","nextUniqueId","CatCheckbox","_id","identifier","onCheckedChange","checked","indeterminate","onIndeterminateChange","updateResolved","componentDidLoad","hasSlottedLabel","querySelector","hasSlottedHint","input","htmlFor","labelHidden","labelLeft","required","onInput","viewBox","points","catChange","resolvedValue","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","int","bool","debounce","fn","wait","_this","args","arguments","clearTimeout","setTimeout","apply","arrayify","obj","toggleClass","elem","className","classList","remove","tag","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","getEventTarget","composedPath","path","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","getHours","parseFloat","H","J","day","K","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","i","minutes","setMinutes","j","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","getMonth","getSeconds","getMinutes","substring","createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","assign","_i","TypeError","_loop_1","source","keys","args_1","__assign","p","prototype","hasOwnProperty","call","__spreadArrays","il","r","k","a","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","defaultOptions","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","_createElement","createDay","destroy","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","requestAnimationFrame","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","defaultDate","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","onYearInput","eventTarget","delta","toString","handler","ev","push","triggerChange","evt","setupMobile","debouncedResize","onResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","body","_dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","title","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","focusAndClose","delta_1","ctrlKey","stopPropagation","elems","concat","filter","x","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","_enable","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","default","customPositionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","editableSheet","styleSheets","createStyleSheet","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","b","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","inputType","mobileFormatStr","defaultValue","step","data","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","global","factory","module","exports","weekSelectPlugin","fp","onDayHover","childNodes","dayIndSeven","weekStartDay","weekEndDay","ceil","day_1","highlightWeek","selDate","clearHover","getFormat","language","formatTime","minute","DateTimeFormat","time","datetime","daterange","replace","getHour12","dateStr","getFirstDayOfWeek","Locale","weekInfo","getWeekInfo","firstDay","daysForLocale","weekday","getUTCDate","getUTCDay","setUTCDate","monthsForLocale","setUTCMonth","getLocale","catDatepickerCss","CatDatepickerFlat","shadowRoot","pickr","doFocus","doBlur","requiredMarker","horizontal","autoComplete","clearable","textPrefix","textSuffix","readonly","errorUpdate","onCatChange","detail","onCatFocus","onCatBlur","getAlignment","placement","getLengthFromAxis","axis","getSide","getMainAxisFromPlacement","computeCoordsFromPlacement","_ref","rtl","reference","floating","commonX","commonY","height","mainAxis","commonAlign","side","isVertical","coords","computePosition","strategy","middleware","platform","validMiddleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","evaluate","param","expandPaddingObject","padding","getSideObjectFromPadding","rectToClientRect","rect","detectOverflow","state","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","within","min$1","max$1","oppositeSideMap","getOppositePlacement","getAlignmentSides","alignment","mainAlignmentSide","main","cross","oppositeAlignmentMap","start","end","getOppositeAlignmentPlacement","getExpandedPlacements","oppositePlacement","getSideList","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","direction","list","flip","_middlewareData$flip","checkMainAxis","crossAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","isBasePlacement","placements","overflow","overflows","overflowsData","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$map$so","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","alignmentAxis","diffCoords","getCrossAxis","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","isXAxis","heightSide","widthSide","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","maximumClippingWidth","maximumClippingHeight","xMin","xMax","yMin","yMax","nextDimensions","getDimensions","getWindow","_node$ownerDocument","ownerDocument","defaultView","getComputedStyle$1","getComputedStyle","isNode","getNodeName","isHTMLElement","Element","isShadowRoot","ShadowRoot","OwnElement","isOverflowElement","overflowX","overflowY","isTableElement","isContainingBlock","safari","css","transform","perspective","backdropFilter","willChange","contain","supports","isLastTraversableNode","getCssDimensions","hasOffset","shouldFallback","fallback","unwrapElement","FALLBACK_SCALE","domElement","Number","isFinite","noOffsets","getVisualOffsets","isFixed","floatingOffsetParent","_win$visualViewport","_win$visualViewport2","win","visualViewport","offsetLeft","offsetTop","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentIFrame","frameElement","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","documentElement","getNodeScroll","scrollLeft","scrollTop","isOffsetParentAnElement","scroll","offsets","offsetRect","getWindowScrollBarX","getDocumentRect","html","scrollWidth","clientWidth","scrollHeight","clientHeight","getParentNode","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","scrollableAncestor","isBody","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","currentNode","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getTrueOffsetParent","polyfill","getContainingBlock","getRectRelativeToOffsetParent","getOffsetParentFn","getDimensionsFn","getClientRects","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","animationFrame","ancestors","isVisualViewport","passive","observer","ResizeObserver","observe","frameId","prevRefRect","frameLoop","nextRefRect","_observer","disconnect","cancelAnimationFrame","mergedOptions","platformWithCache","computePosition$1","timeTransitionS","candidateSelectors","candidateSelector","NoElement","msMatchesSelector","webkitMatchesSelector","_element$getRootNode","isInert","lookUp","_node$getAttribute","inertAtt","inert","isContentEditable","_node$getAttribute2","attValue","getCandidates","includeContainer","candidates","unshift","getCandidatesIteratively","elementsToCheck","tagName","assigned","assignedElements","nestedCandidates","flatten","scopeParent","validCandidate","getShadowRoot","validShadowRoot","shadowRootFilter","_nestedCandidates","hasTabIndex","getTabIndex","getSortOrderTabIndex","isScope","sortOrderedTabbables","documentOrder","isHiddenInput","isDetailsWithSummary","getCheckedRadio","form","isTabbableRadio","radioScope","queryRadios","radioSet","escape","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","attached","_nodeRootHost","_nodeRootHost$ownerDo","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","isHidden","displayCheck","isDirectSummary","nodeUnderDetails","parentElement","originalNode","rootNode","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","sortable","tabbable","focusable","isTabbable","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","prim","Symbol","toPrimitive","res","arg","activeFocusTraps","activateTrap","trapStack","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","isSelectableInput","isEscapeEvent","isTabEvent","isKeyForward","isKeyBackward","delay","findIndex","idx","valueOrHandler","_len","_key","getActualTarget","internalTrapStack","createFocusTrap","userOptions","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","find","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","tabbableOptions","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","reverse","group","tryFocus","preventScroll","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","checkKeyNav","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref2","destinationGroupIndex","destinationGroup","lastOfGroupIndex","_ref3","_destinationGroupIndex","_destinationGroup","checkKey","checkClick","addListeners","removeListeners","checkDomRemoval","mutations","isFocusedNodeRemoved","mutation","removedNodes","mutationObserver","MutationObserver","updateObservedNodes","subtree","childList","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","pauseOptions","onPause","onPostPause","unpauseOptions","onUnpause","onPostUnpause","updateContainerElements","containerElements","elementsAsArray","firstTabbable","catDropdownCss","CatDropdown","clickHandler","trigger","initTrigger","noAutoClose","slot","catOpen","focusTrap.createFocusTrap","shouldClose","catClose","keyListener","targetElements","activeIdx","activeOff","targetIdx","disconnectedCallback","triggerSlot","contentId","findTrigger","OFFSET","maxWidth","maxHeight","catFormGroupCss","CatFormGroup","onRequiredMarker","newRequiredMarker","updateMarker","calculate","endsWith","onHorizontal","newHorizontal","labelSize","optionalFields","requiredFields","catIconCss","CatIcon","iconSrc","icons","getIcon","coerceBoolean","coerceNumber","fallbackValue","isNumberValue","catInputCss","CatInput","watchErrorsHandler","errorMapSrc","showErrorsIfTimeout","showErrorsIfNoFocus","hidden","startsWith","maxLength","invalid","autocomplete","maxlength","minlength","minLength","showErrors","errorUpdateTimeoutId","hasFocus","catPaginationCss","CatPagination","isFirst","iconPrev","setPage","page","isLast","iconNext","pageCount","pages","sidePadding","activePadding","minPage","minActivepage","maxPage","maxActivepage","addSeq","_start","clamp","_end","fill","num","compact","catRadioCss","CatRadio","catRadioGroupCss","CatRadioGroup","catRadioGroup","onNameChanged","newName","catRadio","onValueChanged","updateTabIndex","onDisabledChanged","onLabelLeftChanged","onKeydown","radio","checkedRadioIndex","isFunction","createErrorClass","createImpl","_super","instance","stack","ctorFunc","create","UnsubscriptionError","UnsubscriptionErrorImpl","arrRemove","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","parent","initialFinalizer","finalizer","execFinalizer","teardown","_hasParent","_addParent","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","timeout","delegate","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","errorNotification","nextNotification","kind","errorContext","cb","Subscriber","destination","super","isStopped","EMPTY_OBSERVER","next","complete","SafeSubscriber","handleStoppedNotification","_next","_error","_complete","Function","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context","defaultErrorHandler","notification","subscriber","observable","identity","pipeFromArray","fns","piped","prev","Observable","subscribe","_subscribe","lift","operator","isSubscriber","_trySubscribe","sink","promiseCtor","getPromiseCtor","Symbol_observable","pipe","operations","toPromise","isObserver","hasLift","operate","liftedSource","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","observed","_checkFinalizedStatuses","_innerSubscribe","asObservable","dateTimestampProvider","Action","scheduler","work","schedule","intervalProvider","setInterval","clearInterval","AsyncAction","pending","recycleAsyncId","requestAsyncId","flush","_scheduler","execute","_execute","_delay","errored","errorValue","actions","Scheduler","schedulerActionCtor","AsyncScheduler","SchedulerAction","_active","action","asyncScheduler","isScheduler","last","popScheduler","pop","popNumber","__awaiter","_arguments","P","generator","adopt","fulfilled","rejected","done","__values","o","iterator","__await","v","__asyncGenerator","asyncIterator","g","q","verb","resume","settle","fulfill","f","__asyncValues","SuppressedError","suppressed","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","getSymbolIterator","isIterable","Symbol_iterator","readableStreamLikeToAsyncGenerator","readableStream","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","promise","iterable","asyncIterable","process","catch","asyncIterable_1","asyncIterable_1_1","e_1","e_1_1","return","executeSchedule","parentSubscription","repeat","scheduleSubscription","observeOn","subscribeOn","scheduleObservable","schedulePromise","scheduleArray","scheduleIterable","scheduleAsyncIterable","scheduleReadableStreamLike","scheduled","of","EmptyError","EmptyErrorImpl","isValidDate","project","callOrApply","mapOneOrManyArgs","mergeInternals","concurrent","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","bufferedValue","mergeMap","resultSelector","Infinity","ii","mergeAll","concatAll","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","eventName","isEventTarget","methodName","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","subTarget","addListener","removeListener","on","off","timer","dueTime","intervalOrScheduler","intervalDuration","due","merge","sources","predicate","audit","durationSelector","hasValue","lastValue","durationSubscriber","endDuration","cleanupDuration","auditTime","catchError","innerSub","syncUnsub","handledResult","scanInternals","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","hasState","defaultIfEmpty","take","count","seen","ignoreElements","mapTo","delayWhen","delayDurationSelector","subscriptionDelay","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","first","currentKey","throwIfEmpty","errorFactory","defaultErrorFactory","hasDefaultValue","scan","startWith","values","switchMap","innerSubscriber","innerIndex","outerIndex","takeUntil","notifier","takeWhile","inclusive","tap","tapObserver","isUnsub","finalize","catScrollableCss","CatScrollable","destroyed","resizedEntries","resizedObserver","componentDidRender","scrollElement","scrolled","scrollWrapperElement","attachEmitter","scrolledLeft","scrolledRight","scrolledBottom","scrolledTop","THROTTLE","getScrollOffset","noScrolledInit","noShadowY","noShadowX","noOverflowX","noOverflowY","noOverscroll","emitter","scrolledBuffer","isLower","GHOST_ELEMENT_ID","characterEntities","mapSpecialCharacterToCharacterEntity","specialCharacter","escapeSpecialCharacters","string","createGhostElement","ghostElement","cssText","autosizeInput","elementStyle","elementCssText","boxSizing","borderLeftWidth","borderRightWidth","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontWeight","letterSpacing","marginLeft","marginRight","paddingRight","textIndent","textTransform","setWidth","getElementById","minWidth","catSelectCss","INIT_STATE","term","isLoading","isResolving","selection","tempSelection","activeOptionIndex","activeSelectionIndex","CatSelect","term$","more$","valueChangedBySelection","onConnectorChange","connector","onValueChange","onStateChange","newState","oldState","changed","dropdown","scrollIntoView","block","multiple","hide","idsSelected","tags","ids","createTag","patchState","isInputFocused","onArrowKeyDown","toggleTag","selectionStart","deselect","selectionClone","onKeyUp","show","clearButton","number$","subscription","retrieve","totalElements","items","toSelectItems","value1","isTagSelected","isPillboxActive","activeDescendant","pill","onCatClick","onScrolledBottom","optionsList","SKELETON_COUNT","lines","noItems","isTagOption","isOptionSelected","isSelected","getLabel","tagTextHelp","description","initIds","initTags","data$","customId","search","newSelection","setTransparentCaret","removeTag","DROPDOWN_OFFSET","tagHint","CatSelectTest","multipleSelect","connect","firstName","lastName","desc","user","multipleSelectAvatar","random","multipleSelectAvatarInitials","multipleSelectTagging","countryConnector","singleSelect","singleSelectAvatar","singleSelectAvatarInitials","country","capital","toUpperCase","singleSelectTagging","flexDirection","countries","catSkeletonCss","CatSkeleton","skeleton","effect","catSpinnerCss","CatSpinner","xmlns","cx","cy","catTabCss","CatTab","tabClick","catTabsCss","CatTabs","buttons","onActiveTabChanged","newActiveTab","activeTab","tabs","syncTabs","activeTabId","attributes","tab","updateButtonsRef","deactivated","testForHeightReduction","restoreTextAlign","delete","resize","textAlign","wordWrap","scrollBehavior","paddingBottom","borderTopWidth","borderBottomWidth","Event","bubbles","catTextareaCss","CatTextarea","autosize","textarea","rows","catToggleCss","CatToggle","isTouchDevice","maxTouchPoints","catTooltipCss","CatTooltip","handleKeyDown","hideListener","isTouchScreen","windowTouchStartListener","touchStartListener","touchEndListener","showListener","hasSlottedContent","tooltip","SHIFT_PADDING","hideTimeout","showTimeout","showTooltip","showDelay","hideTooltip","hideDelay","touchTimeout","longTouchDuration","cleanupFloatingUi"],"sources":["src/utils/setDefault.ts","src/components/cat-alert/cat-alert.scss?tag=cat-alert&encapsulation=shadow","src/components/cat-alert/cat-alert.tsx","src/utils/load-img.ts","src/components/cat-avatar/cat-avatar.scss?tag=cat-avatar&encapsulation=shadow","src/components/cat-avatar/cat-avatar.tsx","src/components/cat-badge/cat-badge.scss?tag=cat-badge&encapsulation=shadow","src/components/cat-badge/cat-badge.tsx","src/utils/breakpoints.ts","src/utils/platform.ts","src/utils/media-matcher.ts","src/components/cat-button/cat-button.scss?tag=cat-button&encapsulation=shadow","src/components/cat-button/cat-button.tsx","src/components/cat-button-group/cat-button-group.scss?tag=cat-button-group&encapsulation=shadow","src/components/cat-button-group/cat-button-group.tsx","src/components/cat-card/cat-card.scss?tag=cat-card&encapsulation=shadow","src/components/cat-card/cat-card.tsx","src/components/cat-form-hint/cat-form-hint.tsx","src/components/cat-checkbox/cat-checkbox.scss?tag=cat-checkbox&encapsulation=shadow","src/components/cat-checkbox/cat-checkbox.tsx","../node_modules/flatpickr/dist/esm/types/options.js","../node_modules/flatpickr/dist/esm/l10n/default.js","../node_modules/flatpickr/dist/esm/utils/index.js","../node_modules/flatpickr/dist/esm/utils/dom.js","../node_modules/flatpickr/dist/esm/utils/formatting.js","../node_modules/flatpickr/dist/esm/utils/dates.js","../node_modules/flatpickr/dist/esm/utils/polyfills.js","../node_modules/flatpickr/dist/esm/index.js","../node_modules/flatpickr/dist/plugins/weekSelect/weekSelect.js","src/components/cat-datepicker/cat-datepicker.config.tsx","src/components/cat-datepicker/cat-datepicker.locale.tsx","src/components/cat-datepicker/cat-datepicker.scss?tag=cat-datepicker&encapsulation=shadow","src/components/cat-datepicker/cat-datepicker.tsx","../node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","../tokens/dist/js/variables.js","../node_modules/tabbable/dist/index.esm.js","../node_modules/focus-trap/dist/focus-trap.esm.js","src/utils/first-tabbable.ts","src/components/cat-dropdown/cat-dropdown.scss?tag=cat-dropdown&encapsulation=shadow","src/components/cat-dropdown/cat-dropdown.tsx","src/components/cat-form-group/cat-form-group.scss?tag=cat-form-group&encapsulation=shadow","src/components/cat-form-group/cat-form-group.tsx","src/components/cat-icon/cat-icon.scss?tag=cat-icon&encapsulation=shadow","src/components/cat-icon/cat-icon.tsx","src/utils/coerce.ts","src/components/cat-input/cat-input.scss?tag=cat-input&encapsulation=shadow","src/components/cat-input/cat-input.tsx","src/components/cat-pagination/cat-pagination.scss?tag=cat-pagination&encapsulation=shadow","src/components/cat-pagination/cat-pagination.tsx","src/components/cat-radio/cat-radio.scss?tag=cat-radio&encapsulation=shadow","src/components/cat-radio/cat-radio.tsx","src/components/cat-radio-group/cat-radio-group.scss?tag=cat-radio-group&encapsulation=shadow","src/components/cat-radio-group/cat-radio-group.tsx","node_modules/rxjs/dist/esm/internal/util/isFunction.js","node_modules/rxjs/dist/esm/internal/util/createErrorClass.js","node_modules/rxjs/dist/esm/internal/util/UnsubscriptionError.js","node_modules/rxjs/dist/esm/internal/util/arrRemove.js","node_modules/rxjs/dist/esm/internal/Subscription.js","node_modules/rxjs/dist/esm/internal/config.js","node_modules/rxjs/dist/esm/internal/scheduler/timeoutProvider.js","node_modules/rxjs/dist/esm/internal/util/reportUnhandledError.js","node_modules/rxjs/dist/esm/internal/util/noop.js","node_modules/rxjs/dist/esm/internal/NotificationFactories.js","node_modules/rxjs/dist/esm/internal/util/errorContext.js","node_modules/rxjs/dist/esm/internal/Subscriber.js","node_modules/rxjs/dist/esm/internal/symbol/observable.js","node_modules/rxjs/dist/esm/internal/util/identity.js","node_modules/rxjs/dist/esm/internal/util/pipe.js","node_modules/rxjs/dist/esm/internal/Observable.js","node_modules/rxjs/dist/esm/internal/util/lift.js","node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js","node_modules/rxjs/dist/esm/internal/util/ObjectUnsubscribedError.js","node_modules/rxjs/dist/esm/internal/Subject.js","node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js","node_modules/rxjs/dist/esm/internal/scheduler/Action.js","node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","node_modules/rxjs/dist/esm/internal/Scheduler.js","node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","node_modules/rxjs/dist/esm/internal/scheduler/async.js","node_modules/rxjs/dist/esm/internal/observable/empty.js","node_modules/rxjs/dist/esm/internal/util/isScheduler.js","node_modules/rxjs/dist/esm/internal/util/args.js","../node_modules/tslib/tslib.es6.js","node_modules/rxjs/dist/esm/internal/util/isArrayLike.js","node_modules/rxjs/dist/esm/internal/util/isPromise.js","node_modules/rxjs/dist/esm/internal/util/isInteropObservable.js","node_modules/rxjs/dist/esm/internal/util/isAsyncIterable.js","node_modules/rxjs/dist/esm/internal/util/throwUnobservableError.js","node_modules/rxjs/dist/esm/internal/symbol/iterator.js","node_modules/rxjs/dist/esm/internal/util/isIterable.js","node_modules/rxjs/dist/esm/internal/util/isReadableStreamLike.js","node_modules/rxjs/dist/esm/internal/observable/innerFrom.js","node_modules/rxjs/dist/esm/internal/util/executeSchedule.js","node_modules/rxjs/dist/esm/internal/operators/observeOn.js","node_modules/rxjs/dist/esm/internal/operators/subscribeOn.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleObservable.js","node_modules/rxjs/dist/esm/internal/scheduled/schedulePromise.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleArray.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleIterable.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleAsyncIterable.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleReadableStreamLike.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduled.js","node_modules/rxjs/dist/esm/internal/observable/from.js","node_modules/rxjs/dist/esm/internal/observable/of.js","node_modules/rxjs/dist/esm/internal/util/EmptyError.js","node_modules/rxjs/dist/esm/internal/util/isDate.js","node_modules/rxjs/dist/esm/internal/operators/map.js","node_modules/rxjs/dist/esm/internal/util/mapOneOrManyArgs.js","node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js","node_modules/rxjs/dist/esm/internal/operators/mergeMap.js","node_modules/rxjs/dist/esm/internal/operators/mergeAll.js","node_modules/rxjs/dist/esm/internal/operators/concatAll.js","node_modules/rxjs/dist/esm/internal/observable/concat.js","node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","node_modules/rxjs/dist/esm/internal/observable/timer.js","node_modules/rxjs/dist/esm/internal/observable/merge.js","node_modules/rxjs/dist/esm/internal/operators/filter.js","node_modules/rxjs/dist/esm/internal/operators/audit.js","node_modules/rxjs/dist/esm/internal/operators/auditTime.js","node_modules/rxjs/dist/esm/internal/operators/catchError.js","node_modules/rxjs/dist/esm/internal/operators/scanInternals.js","node_modules/rxjs/dist/esm/internal/operators/debounce.js","node_modules/rxjs/dist/esm/internal/operators/defaultIfEmpty.js","node_modules/rxjs/dist/esm/internal/operators/take.js","node_modules/rxjs/dist/esm/internal/operators/ignoreElements.js","node_modules/rxjs/dist/esm/internal/operators/mapTo.js","node_modules/rxjs/dist/esm/internal/operators/delayWhen.js","node_modules/rxjs/dist/esm/internal/operators/delay.js","node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","node_modules/rxjs/dist/esm/internal/operators/throwIfEmpty.js","node_modules/rxjs/dist/esm/internal/operators/first.js","node_modules/rxjs/dist/esm/internal/operators/scan.js","node_modules/rxjs/dist/esm/internal/operators/startWith.js","node_modules/rxjs/dist/esm/internal/operators/switchMap.js","node_modules/rxjs/dist/esm/internal/operators/takeUntil.js","node_modules/rxjs/dist/esm/internal/operators/takeWhile.js","node_modules/rxjs/dist/esm/internal/operators/tap.js","src/components/cat-scrollable/cat-scrollable.scss?tag=cat-scrollable&encapsulation=shadow","src/components/cat-scrollable/cat-scrollable.tsx","../node_modules/autosize-input/index.js","src/components/cat-select/cat-select.scss?tag=cat-select&encapsulation=shadow","src/components/cat-select/cat-select.tsx","src/components/cat-select-demo/cat-select-demo.tsx","src/components/cat-skeleton/cat-skeleton.scss?tag=cat-skeleton&encapsulation=shadow","src/components/cat-skeleton/cat-skeleton.tsx","src/components/cat-spinner/cat-spinner.scss?tag=cat-spinner&encapsulation=shadow","src/components/cat-spinner/cat-spinner.tsx","src/components/cat-tab/cat-tab.scss?tag=cat-tab&encapsulation=shadow","src/components/cat-tab/cat-tab.tsx","src/components/cat-tabs/cat-tabs.scss?tag=cat-tabs&encapsulation=shadow","src/components/cat-tabs/cat-tabs.tsx","../node_modules/autosize/dist/autosize.esm.js","src/components/cat-textarea/cat-textarea.scss?tag=cat-textarea&encapsulation=shadow","src/components/cat-textarea/cat-textarea.tsx","src/components/cat-toggle/cat-toggle.scss?tag=cat-toggle&encapsulation=shadow","src/components/cat-toggle/cat-toggle.tsx","src/utils/is-touch-screen.ts","src/components/cat-tooltip/cat-tooltip.scss?tag=cat-tooltip&encapsulation=shadow","src/components/cat-tooltip/cat-tooltip.tsx"],"sourcesContent":["export function setAttributeDefault<T extends { hostElement: HTMLElement }>(\n  host: T,\n  attr: string,\n  value: unknown\n): void {\n  if (!host.hostElement.hasAttribute(attr) && value != null) {\n    host.hostElement.setAttribute(attr, String(value));\n  }\n}\n\nexport function setAttribute<T extends { hostElement: HTMLElement }>(host: T, attr: string, value: unknown): void {\n  host.hostElement.setAttribute(attr, String(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-icon-colors: (\n  'primary': cat-token('color.theme.primary.text'),\n  'secondary': cat-token('color.base.neutral.400'),\n  'success': cat-token('color.base.green.400'),\n  'warning': cat-token('color.base.orange.400'),\n  'danger': cat-token('color.base.red.400')\n);\n\n// -----\n\n:host {\n  display: flex;\n  gap: 0.5rem;\n  padding: 1.25rem;\n  border-radius: cat-border-radius('l');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host(:focus-visible) {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: 1px;\n}\n\n.content {\n  align-self: center;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n// ----- theme\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    background-color: cat-token('color.theme.#{$theme}.bg', 0.1);\n\n    cat-icon {\n      color: map.get($-icon-colors, $theme);\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\nimport { setAttributeDefault } from '../../utils/setDefault';\n\n/**\n * Informs user about important changes or conditions in the interface. Use this\n * component if you need to capture user’s attention in a prominent way.\n */\n@Component({\n  tag: 'cat-alert',\n  styleUrl: 'cat-alert.scss',\n  shadow: true\n})\nexport class CatAlert {\n  private readonly mapIcon: Map<string, string> = new Map([\n    ['primary', '$cat:alert-primary'],\n    ['secondary', '$cat:alert-secondary'],\n    ['success', '$cat:alert-success'],\n    ['warning', '$cat:alert-warning'],\n    ['danger', '$cat:alert-danger']\n  ]);\n  private readonly mapRole: Map<string, string> = new Map([\n    ['primary', 'status'],\n    ['secondary', 'status'],\n    ['success', 'status'],\n    ['warning', 'alert'],\n    ['danger', 'alert']\n  ]);\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The color palette of the alert.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The name of an icon to be displayed in the alert.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Whether the icon of the alert is deactivated.\n   */\n  @Prop() noIcon = false;\n\n  connectedCallback() {\n    setAttributeDefault(this, 'tabindex', 0);\n    setAttributeDefault(this, 'role', this.mapRole.get(this.color));\n  }\n\n  render() {\n    return (\n      <Host>\n        {!this.noIcon && <cat-icon size=\"l\" icon={this.icon ? this.icon : this.mapIcon.get(this.color)}></cat-icon>}\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n      </Host>\n    );\n  }\n}\n","/**\n * Loads an image and wraps the result in a promise.\n *\n * @param src the image URL\n * @returns a promise\n */\nconst loadImg = (src: string): Promise<Event> => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', resolve);\n    image.addEventListener('error', reject);\n    image.src = src;\n  });\n};\n\nexport default loadImg;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-background-color: cat-token('color.base.neutral.400');\n$-color: cat-token('color.base.white');\n$-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n// -----\n\n:host {\n  /**\n   * @prop --cat-avatar-bg: The background color of the avatar.\n   * @prop --cat-avatar-fill: The text color of the avatar.\n   * @prop --cat-avatar-size: The size of the avatar.\n   * @prop --cat-avatar-font-size: The font size of the avatar.\n   */\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.avatar {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: inherit;\n  color: var(--cat-avatar-fill, $-color);\n  background-color: var(--cat-avatar-bg, $-background-color);\n  background-size: cover;\n  background-position: center;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n  font-weight: 600;\n  @include cat-select(none);\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.avatar-round {\n  border-radius: 50%;\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .avatar-#{$size} {\n    width: var(--cat-avatar-size, map.get($-sizes, $size));\n    height: var(--cat-avatar-size, map.get($-sizes, $size));\n    line-height: var(--cat-avatar-size, map.get($-sizes, $size));\n    font-size: var(--cat-avatar-font-size, cat-body-font-size($fontSize));\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 's');\n@include size('m', 'm');\n@include size('l', 'l');\n@include size('xl', 'xl');\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport loadImg from '../../utils/load-img';\n\n/**\n * Avatars are used to represent a person or object.\n */\n@Component({\n  tag: 'cat-avatar',\n  styleUrl: 'cat-avatar.scss',\n  shadow: true\n})\nexport class CatAvatar {\n  @State() backgroundImage?: string;\n\n  /**\n   * The size of the avatar.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round avatar edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The label of the avatar.\n   */\n  @Prop() label = '';\n\n  /**\n   * Custom initials for the avatar.\n   */\n  @Prop() initials?: string;\n\n  /**\n   * An optional avatar image.\n   */\n  @Prop() src?: string;\n\n  /**\n   * An icon to be used instead of the initials.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  @Watch('src')\n  onSrcChanged(value?: string): void {\n    if (value) {\n      loadImg(value).then(\n        () => (this.backgroundImage = `url(${value})`),\n        () => (this.backgroundImage = undefined)\n      );\n    } else {\n      this.backgroundImage = undefined;\n    }\n  }\n\n  componentWillLoad(): void {\n    this.onSrcChanged(this.src);\n  }\n\n  componentWillRender(): void {\n    if (!this.label) {\n      log.warn('[A11y] Missing ARIA label on avatar', this);\n    }\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a href={this.url} target={this.urlTarget} style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <span style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </span>\n      );\n    }\n  }\n\n  private get content() {\n    return !this.backgroundImage\n      ? [this.icon ? <cat-icon icon={this.icon} size={this.size}></cat-icon> : this.getInitials()]\n      : [];\n  }\n\n  private get cssStyle() {\n    return { 'background-image': this.backgroundImage };\n  }\n\n  private get cssClass() {\n    return {\n      avatar: true,\n      'avatar-round': this.round,\n      [`avatar-${this.size}`]: Boolean(this.size)\n    };\n  }\n\n  private getInitials(): string {\n    return (\n      this.initials ??\n      (this.label ?? '')\n        .split(' ')\n        .map(n => n[0])\n        .join('')\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-sizes: (\n  'xl': 3rem,\n  'l': 2.5rem,\n  'm': 2rem,\n  's': 1.5rem,\n  'xs': 1rem\n);\n$-paddings: (\n  'xl': 0 1rem,\n  'l': 0 1rem,\n  'm': 0 0.75rem,\n  's': 0 0.5rem,\n  'xs': 0 0.25rem\n);\n\n// -----\n\n:host([hidden]) {\n  display: none;\n}\n\n:host {\n  display: inline-flex;\n  max-width: 100%;\n  vertical-align: baseline;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  line-height: 1.5;\n\n  slot {\n    display: inline-block;\n    @include cat-ellipsis;\n  }\n}\n\n// ----- round\n\n:host([round]) {\n  border-radius: 10rem;\n}\n\n// ----- theme\n\n:host([variant='filled']) {\n  background-color: cat-token-wrap(var(--bg), 0.1);\n  color: cat-token-wrap(var(--text));\n  font-weight: 600;\n  @include cat-font-smooth;\n}\n\n$-outline: inset 0 0 0 1px cat-token-wrap(var(--border), $alpha: 0.2);\n\n:host([variant='outlined']) {\n  background-color: cat-token('color.ui.background.surface');\n  box-shadow: $-outline;\n  color: cat-token-wrap(var(--text));\n}\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --border: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --border: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  :host([size='#{$size}']) {\n    height: map.get($-sizes, $size);\n    min-width: map.get($-sizes, $size);\n    font-size: cat-body-font-size($fontSize);\n    padding: map.get($-paddings, $size);\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 'xs');\n@include size('m', 's');\n@include size('l', 'm');\n@include size('xl', 'l');\n\n// ----- pulse\n\n$-pulse-0: 0 0 0 0 cat-token-wrap(var(--bg));\n$-pulse-70: transparent 0 0 0 0.5rem;\n$-pulse-100: transparent 0 0 0 0;\n\n:host([pulse][variant='filled']) {\n  animation: 1.5s ease 0s infinite normal none running pulse;\n}\n\n:host([pulse][variant='outlined']) {\n  animation: 1.5s ease 0s infinite normal none running pulse-outlined;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: $-pulse-0;\n  }\n\n  70% {\n    box-shadow: $-pulse-70;\n  }\n\n  100% {\n    box-shadow: $-pulse-100;\n  }\n}\n\n@keyframes pulse-outlined {\n  0% {\n    box-shadow: $-pulse-0, $-outline;\n  }\n\n  70% {\n    box-shadow: $-pulse-70, $-outline;\n  }\n\n  100% {\n    box-shadow: $-pulse-100, $-outline;\n  }\n}\n","import { Component, Element, h, Prop } from '@stencil/core';\n\n/**\n * Badges are used to inform users of the status of an object or of an action\n * that’s been taken.\n */\n@Component({\n  tag: 'cat-badge',\n  styleUrl: 'cat-badge.scss',\n  shadow: true\n})\nexport class CatBadge {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The rendering style of the badge.\n   */\n  @Prop({ reflect: true }) variant: 'filled' | 'outlined' = 'filled';\n\n  /**\n   * The color palette of the badge.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The size of the badge.\n   */\n  @Prop({ reflect: true }) size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round badge edges.\n   */\n  @Prop({ reflect: true }) round = false;\n\n  /**\n   * Draw attention to the badge with a subtle animation.\n   */\n  @Prop({ reflect: true }) pulse = false;\n\n  render() {\n    return <slot></slot>;\n  }\n}\n","const _breakpoints = ['xs', 's', 'm', 'l', 'xl'] as const;\n\nexport type Breakpoint = (typeof _breakpoints)[number];\n\nexport const Breakpoints: { [breakpoint in Breakpoint]: string } = {\n  xs: '(max-width: 539.98px)',\n  s: '(max-width: 767.98px)',\n  m: '(max-width: 991.98px)',\n  l: '(max-width: 1199.98px)',\n  xl: '(max-width: 1399.98px)'\n};\n\nexport function isBreakpoint(value: unknown): value is Breakpoint {\n  return typeof value === 'string' && _breakpoints.includes(value as Breakpoint);\n}\n","// https://github.com/angular/components/blob/master/src/cdk/platform/platform.ts\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator: boolean;\n\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  hasV8BreakIterator = typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator;\n} catch {\n  hasV8BreakIterator = false;\n}\n\nexport class Platform {\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  /** Whether the current rendering engine is Blink. */\n  BLINK: boolean =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    !!((window as any).chrome || hasV8BreakIterator) && typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT;\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  /** Whether the current rendering engine is WebKit. */\n  WEBKIT: boolean = /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  /** Whether the current browser is Firefox. */\n  FIREFOX: boolean = /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  /** Whether the current browser is Safari. */\n  SAFARI: boolean = /safari/i.test(navigator.userAgent) && this.WEBKIT;\n}\n","import log from 'loglevel';\nimport { Platform } from './platform';\n\n// https://github.com/angular/components/blob/master/src/cdk/layout/media-matcher.ts\n\n/** Global registry for all dynamically-created, injected media queries. */\nconst mediaQueriesForWebkitCompatibility: Set<string> = new Set<string>();\n\n/** Style tag that holds all of the dynamically-created media queries. */\nlet mediaQueryStyleNode: HTMLStyleElement | undefined;\n\n/** A utility for calling matchMedia queries. */\nexport class MediaMatcher {\n  private _platform;\n  private _matchMedia: (query: string) => MediaQueryList;\n\n  constructor() {\n    this._platform = new Platform();\n    this._matchMedia = window.matchMedia.bind(window);\n  }\n\n  /**\n   * Evaluates the given media query and returns the native MediaQueryList from which results\n   * can be retrieved.\n   * Confirms the layout engine will trigger for the selector query provided and returns the\n   * MediaQueryList for the query provided.\n   */\n  matchMedia(query: string): MediaQueryList {\n    if (this._platform.WEBKIT || this._platform.BLINK) {\n      createEmptyStyleRule(query);\n    }\n    return this._matchMedia(query);\n  }\n}\n\n/**\n * Creates an empty stylesheet that is used to work around browser inconsistencies related to\n * `matchMedia`. At the time of writing, it handles the following cases:\n * 1. On WebKit browsers, a media query has to have at least one rule in order for `matchMedia`\n * to fire. We work around it by declaring a dummy stylesheet with a `@media` declaration.\n * 2. In some cases Blink browsers will stop firing the `matchMedia` listener if none of the rules\n * inside the `@media` match existing elements on the page. We work around it by having one rule\n * targeting the `body`. See https://github.com/angular/components/issues/23546.\n */\nfunction createEmptyStyleRule(query: string) {\n  if (mediaQueriesForWebkitCompatibility.has(query)) {\n    return;\n  }\n\n  try {\n    if (!mediaQueryStyleNode) {\n      mediaQueryStyleNode = document.createElement('style');\n      mediaQueryStyleNode.setAttribute('type', 'text/css');\n      document.head.appendChild(mediaQueryStyleNode);\n    }\n    if (mediaQueryStyleNode.sheet) {\n      mediaQueryStyleNode.sheet.insertRule(`@media ${query} {body{ }}`, 0);\n      mediaQueriesForWebkitCompatibility.add(query);\n    }\n  } catch (e) {\n    log.error(e);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n  max-width: 100%;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.cat-button {\n  position: relative;\n  font: inherit;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: color cat-token('time.transition.s') linear, border-color cat-token('time.transition.s') linear,\n    background-color cat-token('time.transition.s') linear, box-shadow cat-token('time.transition.s') linear;\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n// ----- content\n\n.cat-button-content {\n  @include cat-break-word;\n\n  .cat-button-ellipsed & {\n    @include cat-ellipsis;\n  }\n}\n\n// ----- disabled\n\n.cat-button-disabled {\n  cursor: not-allowed;\n}\n\n// ----- round\n\n.cat-button-round {\n  border-radius: 10rem;\n}\n\n// ----- loading\n\n.cat-button-loading {\n  cursor: default;\n\n  cat-spinner {\n    position: absolute;\n  }\n\n  > *:not(cat-spinner) {\n    visibility: hidden;\n  }\n}\n\n// ----- group button\n\n.cat-group-button {\n  &-first {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &-middle {\n    border-radius: 0;\n  }\n\n  &-last {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &:hover {\n    z-index: 1;\n  }\n\n  &:focus-visible {\n    z-index: 2;\n  }\n}\n\n// ----- theme\n\n.cat-button-filled {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: 600;\n  @include cat-font-smooth;\n\n  &.cat-button-disabled {\n    --bg: #{cat-token('color.ui.background.muted', $wrap: false)};\n    --fill: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n}\n\n.cat-button-outlined {\n  background-color: cat-token('color.ui.background.surface');\n  box-shadow: inset 0 0 0 1px cat-token-wrap(var(--base), $alpha: 0.2);\n  color: cat-token-wrap(var(--text));\n\n  &.cat-button-disabled {\n    --base: #{cat-token('color.ui.font.muted', $wrap: false)};\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n}\n\n.cat-button-text {\n  background-color: transparent;\n  color: cat-token-wrap(var(--text));\n  text-decoration: cat-token('font.decoration.linkButton');\n\n  &.cat-button-disabled {\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkButtonHover');\n    background-color: rgba(var(--base), 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkButtonHover');\n    background-color: rgba(var(--base), 0.1);\n  }\n}\n\n@mixin theme($theme) {\n  .cat-button-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --base: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --base: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n\n    &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgHover', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillHover', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textHover', $wrap: false)};\n    }\n\n    &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading),\n    &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgActive', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillActive', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textActive', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize, $padding) {\n  $-line-height: cat-body-line-height($fontSize);\n\n  $-total-height: map.get($button-sizes, $size);\n  $-padding-v: ($-total-height - $-line-height) * 0.5;\n  $-padding-h: $padding;\n\n  .cat-button-#{$size} {\n    min-width: map.get($button-sizes, $size);\n    padding: $-padding-v $-padding-h;\n    @include cat-body($fontSize, null);\n    gap: 0.25rem;\n\n    // normalize icon size for line height\n    @if $fontSize == 'm' {\n      cat-icon {\n        margin-top: -0.125rem;\n        margin-bottom: -0.125rem;\n      }\n    }\n\n    &.cat-button-icon {\n      width: $-total-height;\n      padding-left: 0;\n      padding-right: 0;\n    }\n  }\n\n  :host(.cat-button-pull[size='#{$size}']) {\n    margin: $-padding-v * -1 $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-h[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n    margin-right: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-v[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-t[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-l[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-b[size='#{$size}']) {\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-r[size='#{$size}']) {\n    margin-right: $-padding-h * -1;\n  }\n}\n\n:host(.cat-button-pull:not([size])) {\n  margin: -0.625rem -0.75rem;\n}\n\n:host(.cat-button-pull-h:not([size])) {\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n}\n\n:host(.cat-button-pull-v:not([size])) {\n  margin-top: -0.625rem;\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-t:not([size])) {\n  margin-top: -0.625rem;\n}\n\n:host(.cat-button-pull-l:not([size])) {\n  margin-left: -0.75rem;\n}\n\n:host(.cat-button-pull-b:not([size])) {\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-r:not([size])) {\n  margin-right: -0.75rem;\n}\n\n@include size('xs', 's', 0.25rem);\n@include size('s', 'm', 0.5rem);\n@include size('m', 'm', 0.75rem);\n@include size('l', 'm', 1rem);\n@include size('xl', 'l', 1.25rem);\n\n// ----- tabs\n\n:host(.cat-tab-active:not(:hover)) {\n  --cat-primary-text: transparent;\n}\n\n// ----- alignment\n\n:host(.cat-text-left) .cat-button {\n  justify-content: left;\n}\n\n:host(.cat-text-right) .cat-button {\n  justify-content: right;\n}\n\n// ----- navigation\n\n:host(.cat-nav-item) {\n  width: 100%;\n\n  .cat-button {\n    box-shadow: none;\n    border-radius: 0;\n    justify-content: left;\n    padding-left: $cat-nav-padding-horizontal;\n    padding-right: $cat-nav-padding-horizontal;\n    gap: 0.5rem;\n\n    &:focus-visible {\n      outline-offset: -2px;\n    }\n  }\n}\n","import { Component, Event, EventEmitter, h, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { Breakpoint, Breakpoints, isBreakpoint } from '../../utils/breakpoints';\nimport { MediaMatcher } from '../../utils/media-matcher';\n\n/**\n * Buttons are used for interface actions. Primary style should be used only\n * once per view for main call-to-action.\n *\n * @part button - The native anchor or button element.\n * @part content - The textual content of the button.\n * @part prefix - The prefix icon.\n * @part suffix - The suffix icon.\n */\n@Component({\n  tag: 'cat-button',\n  styleUrl: 'cat-button.scss',\n  shadow: true\n})\nexport class CatButton {\n  private button!: HTMLButtonElement | HTMLAnchorElement;\n  private mediaMatcher?: MediaMatcher;\n  private mediaQueryList?: MediaQueryList;\n  private mediaQueryListener?: (event: MediaQueryListEvent) => void;\n\n  @State() _iconOnly = true;\n\n  /**\n   * The rendering style of the button.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'outlined';\n\n  /**\n   * The color palette of the button.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'secondary';\n\n  /**\n   * Set the button into an active state.\n   */\n  @Prop() active = false;\n\n  /**\n   * The size of the button.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The name of the button, which gets paired with the button's value when\n   * submitted as part of a form. Corresponds with the native HTML name\n   * attribute.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the button, which gets paired with the button's name when\n   * submitted as part of a form. Corresponds with the native HTML value\n   * attribute.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Specifies that the button should be disabled. A disabled button is unusable\n   * and un-clickable. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Displays the button in a loading state with a spinner. Just like a disabled\n   * button, an inactive button is unusable and un-clickable. However, it\n   * retains the current focus state.\n   */\n  @Prop() loading = false;\n\n  /**\n   * Allows the button to submit a form.\n   */\n  @Prop() submit = false;\n\n  /**\n   * Disables ellipse overflowing button content.\n   */\n  @Prop() noEllipsis = false;\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  /**\n   * The name of an icon to be displayed in the button.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Hide the actual button content and only display the icon.\n   */\n  @Prop() iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * Adds a unique identifier for the button. Please note that with this\n   * particular component this ID is added inside the web component. If you need\n   * an ID on the HTML element, use the regular `id` attribute instead.\n   */\n  @Prop() buttonId?: string;\n\n  /**\n   * Adds accessible label for the button that is only shown for screen\n   * readers. Typically, this label text replaces the visible text on the\n   * button for users who use assistive technology.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Sets the `aria-current` attribute on the button.\n   */\n  @Prop({ attribute: 'a11y-current' }) a11yCurrent?: string;\n\n  /**\n   * Attributes that will be added to the native HTML button element\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The index of a button that is used inside a cat-button-group component\n   */\n  @Prop() buttonGroupPosition?: 'first' | 'last' | 'middle';\n\n  @Watch('iconOnly')\n  onIconOnlyChanged(value: boolean | Breakpoint): void {\n    // teardown\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mediaQueryList?.removeEventListener('change', this.mediaQueryListener!);\n    this.mediaQueryList = undefined;\n    this.mediaQueryListener = undefined;\n    // setup\n    if (isBreakpoint(value)) {\n      this.mediaMatcher ??= new MediaMatcher();\n      this.mediaQueryList = this.mediaMatcher.matchMedia(Breakpoints[value]);\n      this.mediaQueryListener = (event: MediaQueryListEvent) => (this._iconOnly = event.matches);\n      this.mediaQueryList.addEventListener('change', this.mediaQueryListener);\n      this._iconOnly = this.mediaQueryList.matches;\n    } else {\n      this._iconOnly = value;\n    }\n  }\n\n  /**\n   * Emitted when the button is clicked.\n   */\n  @Event() catClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when the button received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the button loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad(): void {\n    this.onIconOnlyChanged(this.iconOnly);\n  }\n\n  componentWillRender(): void {\n    if (this.isIconButton && !this.a11yLabel) {\n      log.warn('[A11y] Missing ARIA label on icon button', this);\n    }\n  }\n\n  @Listen('click')\n  haltDisabledEvents(event: Event): void {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Programmatically move focus to the button. Use this method instead of\n   * `button.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.button.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the button. Use this method instead of\n   * `button.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.button.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the button.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.button.click();\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a\n          ref={el => (this.button = el as HTMLAnchorElement)}\n          href={this.disabled ? undefined : this.url}\n          target={this.urlTarget}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <button\n          {...this.nativeAttributes}\n          ref={el => (this.button = el as HTMLButtonElement)}\n          type={this.submit ? 'submit' : 'button'}\n          name={this.name}\n          value={this.value}\n          disabled={this.disabled}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round ?? this.isIconButton,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size),\n            [`cat-group-button-${this.buttonGroupPosition}`]: Boolean(this.buttonGroupPosition),\n            'cat-group-button': Boolean(this.buttonGroupPosition)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </button>\n      );\n    }\n  }\n\n  private get iconSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 's';\n      default:\n        return 'l';\n    }\n  }\n\n  private get spinnerSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 'xs';\n      default:\n        return 'm';\n    }\n  }\n\n  private get isIconButton() {\n    return Boolean(this.icon) && this._iconOnly;\n  }\n\n  private get hasPrefixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && !this.iconRight;\n  }\n\n  private get hasSuffixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && this.iconRight;\n  }\n\n  private get content() {\n    return [\n      this.hasPrefixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"prefix\"></cat-icon> : null,\n      this.isIconButton ? (\n        <cat-icon icon={this.icon} size={this.iconSize}></cat-icon>\n      ) : (\n        <span class=\"cat-button-content\" part=\"content\">\n          <slot></slot>\n        </span>\n      ),\n      this.hasSuffixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"suffix\"></cat-icon> : null,\n      this.loading ? <cat-spinner size={this.spinnerSize}></cat-spinner> : null\n    ];\n  }\n\n  private onClick(event: MouseEvent) {\n    this.catClick.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n",":host {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle;\n}\n\n::slotted(cat-button[variant='outlined']),\n::slotted(cat-button:not([variant])) {\n  margin-right: -1px;\n}\n\n::slotted(cat-button[variant='outlined']:last-child),\n::slotted(cat-button:not([variant]):last-child) {\n  margin-right: 0;\n}\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'cat-button-group',\n  styleUrl: 'cat-button-group.scss',\n  shadow: true\n})\nexport class CatButtonGroup {\n  private formElements: HTMLCatButtonElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Adds an accessible label for the button group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <Host role=\"group\" aria-label={this.a11yLabel}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(this.hostElement.querySelectorAll('cat-button'));\n\n    this.formElements.forEach((element, index) => {\n      element.buttonGroupPosition = index === 0 ? 'first' : index === this.formElements.length - 1 ? 'last' : 'middle';\n    });\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-padding: 1.25rem;\n\n:host {\n  display: block;\n  margin-bottom: $cat-body-margin-bottom;\n  border-radius: cat-border-radius('l');\n  background-color: cat-token('color.ui.background.surface');\n  padding: $-padding;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n::slotted(nav),\n::slotted(nav:last-child) {\n  margin: #{$cat-body-margin-bottom * 0.5 - $-padding} #{-$-padding} !important;\n}\n\n// --- pull out helper classes\n\n::slotted(.cat-card-pull) {\n  margin: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-h) {\n  margin-left: -$-padding !important;\n  margin-right: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-v) {\n  margin-top: -$-padding !important;\n  margin-bottom: -$-padding !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-t) {\n  margin-top: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-l) {\n  margin-left: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-r) {\n  margin-right: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-b) {\n  margin-bottom: -$-padding !important;\n}\n","import { Component, h } from '@stencil/core';\n\n/**\n * Cards are surfaces that display content and actions on a single topic. They\n * should be easy to scan for relevant and actionable information.\n */\n@Component({\n  tag: 'cat-card',\n  styleUrl: 'cat-card.scss',\n  shadow: true\n})\nexport class CatCard {\n  render() {\n    return <slot></slot>;\n  }\n}\n","import { h, FunctionalComponent } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ErrorMap = { [key: string]: any };\n\n/**\n * Properties of CatFormHint.\n *\n * @property hint - Optional hint text(s) of the form field.\n * @property slottedHint - Optional hint element of the form field.\n */\ninterface CatFormHintProps {\n  id: string;\n  hint?: string | string[];\n  slottedHint?: HTMLSlotElement;\n  class?: string;\n  errorMap?: ErrorMap;\n}\n\n/**\n * CatFormHint is a functional component that represents the hint area of form elements.\n *\n * @param props - {@link CatFormHintProps}\n * @return a JSX.Element\n */\nexport const CatFormHint: FunctionalComponent<CatFormHintProps> = props => {\n  const { id, hint, slottedHint, errorMap } = props;\n  const errors = Object.entries(errorMap || {});\n  return (\n    <div id={id + '-hint'} class=\"hint-section\">\n      {errors.length\n        ? errors.map(([key, params]) => (\n            <p class={(props.class ?? '') + ' input-hint cat-text-danger'}>{i18n.t(`error.${key}`, params)}</p>\n          ))\n        : [\n            hint &&\n              (Array.isArray(hint) ? (\n                hint.map(item => <p class={(props.class ?? '') + ' input-hint'}>{item}</p>)\n              ) : (\n                <p class={(props.class ?? '') + ' input-hint'}>{hint}</p>\n              )),\n            slottedHint\n          ]}\n    </div>\n  );\n};\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$checkbox-width: 1.25rem;\n$checkbox-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n  position: relative;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n\n  input {\n    right: 1px;\n    left: unset;\n  }\n}\n\ninput {\n  position: absolute;\n  width: $checkbox-width;\n  height: $checkbox-height;\n  margin: 0;\n  opacity: 0;\n  cursor: inherit;\n  left: 1px;\n  top: 0.5px;\n}\n\n.box-placeholder {\n  width: calc($checkbox-width + 1px);\n}\n\n.box {\n  flex: 0 0 auto;\n  display: flex;\n  position: relative;\n  height: $checkbox-height;\n  width: $checkbox-width;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: cat-border-radius(s);\n  transition: background-color cat-token('time.transition.s') ease, border-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  svg {\n    fill: none;\n    stroke-width: 2;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-dasharray: 16px;\n    stroke-dashoffset: 16px;\n    transition: all cat-token('time.transition.s') ease;\n    width: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.99);\n  }\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .check {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :indeterminate + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .dash {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.background.muted');\n    border-color: cat-token('color.ui.border.dark');\n    stroke: cat-token('color.ui.font.muted');\n  }\n}\n\n:host(.cat-error) {\n  .box {\n    border: 1px solid cat-token('color.theme.danger.bg');\n  }\n\n  :checked + .box,\n  :indeterminate + .box {\n    background-color: cat-token('color.theme.danger.bg');\n    border-color: cat-token('color.theme.danger.bg');\n    stroke: cat-token('color.theme.danger.fill');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n  min-width: 0;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Checkboxes are used to let a user choose one or more options from a limited\n * number of options.\n *\n * @slot hint - Optional hint element to be displayed with the checkbox.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part checkbox - The checkbox element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-checkbox',\n  styleUrls: ['cat-checkbox.scss'],\n  shadow: true\n})\nexport class CatCheckbox {\n  private readonly _id = `cat-checkbox-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the checkbox\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  @Watch('checked')\n  onCheckedChange(checked: boolean) {\n    this.indeterminate &&= !checked;\n  }\n\n  /**\n   * Indeterminate state of the checkbox\n   */\n  @Prop({ mutable: true }) indeterminate = false;\n\n  @Watch('indeterminate')\n  onIndeterminateChange(indeterminate: boolean) {\n    this.checked &&= !indeterminate;\n  }\n\n  /**\n   * Disabled state of the checkbox\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * Label of the checkbox which is presented in the UI\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the checkbox.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the checkbox.\n   */\n  @Prop() value?: string;\n\n  /**\n   * The resolved value of the checkbox, based on the checked state and value.\n   */\n  @Prop({ mutable: true }) resolvedValue: string | boolean | null = null;\n\n  /**\n   * Optional hint text(s) to be displayed with the checkbox.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the checkbox.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the checked status of the checkbox is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string | null>;\n\n  /**\n   * Emitted when the checkbox received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the checkbox loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.updateResolved();\n  }\n\n  componentDidLoad() {\n    this.onCheckedChange(this.checked);\n    this.onIndeterminateChange(this.indeterminate);\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on checkbox', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the checkbox. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the checkbox. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            {...this.nativeAttributes}\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            indeterminate={this.indeterminate}\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"box\" aria-hidden=\"true\" part=\"checkbox\">\n            <svg class=\"check\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg>\n            <svg class=\"dash\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 5 10.5 5\"></polyline>\n            </svg>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"box-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onInput() {\n    this.checked = this.input.checked;\n    this.indeterminate = this.input.indeterminate;\n    this.updateResolved();\n    this.catChange.emit(this.resolvedValue);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n\n  private updateResolved() {\n    this.resolvedValue = this.value == null ? this.checked : this.checked ? this.value : null;\n  }\n}\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.weekSelect = factory());\n}(this, (function () { 'use strict';\n\n  function getEventTarget(event) {\n      try {\n          if (typeof event.composedPath === \"function\") {\n              var path = event.composedPath();\n              return path[0];\n          }\n          return event.target;\n      }\n      catch (error) {\n          return event.target;\n      }\n  }\n\n  function weekSelectPlugin() {\n      return function (fp) {\n          function onDayHover(event) {\n              var day = getEventTarget(event);\n              if (!day.classList.contains(\"flatpickr-day\"))\n                  return;\n              var days = fp.days.childNodes;\n              var dayIndex = day.$i;\n              var dayIndSeven = dayIndex / 7;\n              var weekStartDay = days[7 * Math.floor(dayIndSeven)]\n                  .dateObj;\n              var weekEndDay = days[7 * Math.ceil(dayIndSeven + 0.01) - 1].dateObj;\n              for (var i = days.length; i--;) {\n                  var day_1 = days[i];\n                  var date = day_1.dateObj;\n                  if (date > weekEndDay || date < weekStartDay)\n                      day_1.classList.remove(\"inRange\");\n                  else\n                      day_1.classList.add(\"inRange\");\n              }\n          }\n          function highlightWeek() {\n              var selDate = fp.latestSelectedDateObj;\n              if (selDate !== undefined &&\n                  selDate.getMonth() === fp.currentMonth &&\n                  selDate.getFullYear() === fp.currentYear) {\n                  fp.weekStartDay = fp.days.childNodes[7 * Math.floor(fp.selectedDateElem.$i / 7)].dateObj;\n                  fp.weekEndDay = fp.days.childNodes[7 * Math.ceil(fp.selectedDateElem.$i / 7 + 0.01) - 1].dateObj;\n              }\n              var days = fp.days.childNodes;\n              for (var i = days.length; i--;) {\n                  var date = days[i].dateObj;\n                  if (date >= fp.weekStartDay && date <= fp.weekEndDay)\n                      days[i].classList.add(\"week\", \"selected\");\n              }\n          }\n          function clearHover() {\n              var days = fp.days.childNodes;\n              for (var i = days.length; i--;)\n                  days[i].classList.remove(\"inRange\");\n          }\n          function onReady() {\n              if (fp.daysContainer !== undefined)\n                  fp.daysContainer.addEventListener(\"mouseover\", onDayHover);\n          }\n          function onDestroy() {\n              if (fp.daysContainer !== undefined)\n                  fp.daysContainer.removeEventListener(\"mouseover\", onDayHover);\n          }\n          return {\n              onValueUpdate: highlightWeek,\n              onMonthChange: highlightWeek,\n              onYearChange: highlightWeek,\n              onOpen: highlightWeek,\n              onClose: clearHover,\n              onParseConfig: function () {\n                  fp.config.mode = \"single\";\n                  fp.config.enableTime = false;\n                  fp.config.dateFormat = fp.config.dateFormat\n                      ? fp.config.dateFormat\n                      : \"\\\\W\\\\e\\\\e\\\\k #W, Y\";\n                  fp.config.altFormat = fp.config.altFormat\n                      ? fp.config.altFormat\n                      : \"\\\\W\\\\e\\\\e\\\\k #W, Y\";\n              },\n              onReady: [\n                  onReady,\n                  highlightWeek,\n                  function () {\n                      fp.loadedPlugins.push(\"weekSelect\");\n                  },\n              ],\n              onDestroy: onDestroy,\n          };\n      };\n  }\n\n  return weekSelectPlugin;\n\n})));\n","export function getFormat(language: string, mode: 'date' | 'time' | 'datetime' | 'daterange' | 'week'): string {\n  const date = new Date(2000, 1, 3, 4, 5, 6);\n  const formatDate: Intl.DateTimeFormatOptions = { year: 'numeric', month: '2-digit', day: '2-digit' };\n  const formatTime: Intl.DateTimeFormatOptions = { hour: '2-digit', minute: '2-digit' };\n  return mode === 'week'\n    ? 'W'\n    : new Intl.DateTimeFormat(\n        language,\n        {\n          date: formatDate,\n          time: formatTime,\n          datetime: { ...formatDate, ...formatTime },\n          daterange: formatDate\n        }[mode]\n      )\n        .format(date)\n        .replace('2000', 'Y')\n        .replace('00', 'y')\n        .replace('02', 'm')\n        .replace('03', 'd')\n        .replace('04', 'H')\n        .replace('05', 'i')\n        .replace(/AM|PM/i, 'K');\n}\n","import { CustomLocale } from 'flatpickr/dist/types/locale';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport function getHour12(language: string): boolean {\n  const dateStr = new Intl.DateTimeFormat(language, { hour: '2-digit', minute: '2-digit' })\n    .format(new Date())\n    .toLowerCase();\n  return dateStr.includes('am') || dateStr.includes('pm');\n}\n\nfunction getFirstDayOfWeek(language: string): number {\n  const locale = new Intl.Locale(language);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const weekInfo = (locale as any).getWeekInfo?.() ?? (locale as any).weekInfo;\n  return weekInfo?.firstDay ?? 1;\n}\n\nfunction daysForLocale(language: string, weekday: 'long' | 'short' | 'narrow' = 'long') {\n  const date = new Date();\n  const firstDayOfWeek = date.getUTCDate() - date.getUTCDay();\n  const format = new Intl.DateTimeFormat(language, { weekday }).format;\n  return [...Array(7).keys()].map(day => format(date.setUTCDate(firstDayOfWeek + day)));\n}\n\nfunction monthsForLocale(language: string, month: 'long' | 'short' = 'long') {\n  const date = new Date();\n  const format = new Intl.DateTimeFormat(language, { month }).format;\n  return [...Array(12).keys()].map(month => format(date.setUTCMonth(month)));\n}\n\nexport function getLocale(language: string): CustomLocale {\n  return {\n    firstDayOfWeek: getFirstDayOfWeek(language),\n    rangeSeparator: ' - ',\n    weekAbbreviation: '',\n    yearAriaLabel: i18n.t('datepicker.year'),\n    monthAriaLabel: i18n.t('datepicker.month'),\n    hourAriaLabel: i18n.t('datepicker.hour'),\n    minuteAriaLabel: i18n.t('datepicker.minute'),\n    toggleTitle: i18n.t('datepicker.toggle'),\n    scrollTitle: i18n.t('datepicker.scroll'),\n    time_24hr: !getHour12(language),\n    weekdays: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      shorthand: daysForLocale(language, 'short') as any,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      longhand: daysForLocale(language, 'long') as any\n    },\n    months: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      shorthand: monthsForLocale(language, 'short') as any,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      longhand: monthsForLocale(language, 'long') as any\n    }\n  };\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\ncat-input {\n  flex: 1 1 auto;\n  margin: 0;\n}\n","import { Component, Event, Method, EventEmitter, Prop, h } from '@stencil/core';\nimport flatpickr from 'flatpickr';\nimport weekSelectPlugin from 'flatpickr/dist/plugins/weekSelect/weekSelect';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { getFormat } from './cat-datepicker.config';\nimport { getLocale } from './cat-datepicker.locale';\n\n@Component({\n  tag: 'cat-datepicker',\n  styleUrl: 'cat-datepicker.scss',\n  shadow: true\n})\nexport class CatDatepickerFlat {\n  private pickr?: flatpickr.Instance;\n  private _input?: HTMLCatInputElement;\n  private get input(): HTMLInputElement | undefined {\n    return this._input?.shadowRoot?.querySelector('input') ?? undefined;\n  }\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The mode of the datepicker, to select a date, time, both, a date range or a week number.\n   */\n  @Prop() mode: 'date' | 'time' | 'datetime' | 'daterange' | 'week' = 'date';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The step size to use when changing the time.\n   */\n  @Prop() step = 5;\n\n  /**\n   * The value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z or as a week number string.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad() {\n    const input = this.input;\n    if (input) {\n      const locale = getLocale(i18n.getLocale());\n      const format = getFormat(i18n.getLocale(), this.mode);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const plugins = this.mode === 'week' ? [new (weekSelectPlugin as any)({})] : [];\n      this.pickr = flatpickr(input, {\n        locale,\n        plugins,\n        altInput: true,\n        prevArrow: '←',\n        nextArrow: '→',\n        dateFormat: this.dateFormat,\n        altFormat: format,\n        ariaDateFormat: format,\n        mode: this.mode === 'daterange' ? 'range' : 'single',\n        minDate: this.min,\n        maxDate: this.max,\n        enableTime: this.mode === 'time' || this.mode === 'datetime',\n        noCalendar: this.mode === 'time',\n        weekNumbers: true,\n        minuteIncrement: this.step,\n        onChange: (dates, dateStr, flatpickr) => {\n          if (this.mode === 'week') {\n            this.value = dates[0] ? flatpickr.config.getWeek(dates[0]).toString() : undefined;\n          } else {\n            this.value = dateStr;\n          }\n          this.catChange.emit(this.value);\n        }\n      });\n    }\n  }\n\n  /**\n   * Programmatically move focus to the datepicker. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this._input?.doFocus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the datepicker. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this._input?.doBlur();\n  }\n\n  render() {\n    return (\n      <cat-input\n        ref={el => (this._input = el)}\n        requiredMarker={this.requiredMarker}\n        horizontal={this.horizontal}\n        autoComplete={this.autoComplete}\n        clearable={this.clearable}\n        disabled={this.disabled}\n        hint={this.hint}\n        icon={this.icon}\n        iconRight={this.iconRight}\n        identifier={this.identifier}\n        label={this.label}\n        labelHidden={this.labelHidden}\n        name={this.name}\n        placeholder={this.placeholder}\n        textPrefix={this.textPrefix}\n        textSuffix={this.textSuffix}\n        readonly={this.readonly}\n        required={this.required}\n        value={this.value}\n        errors={this.errors}\n        errorUpdate={this.errorUpdate}\n        nativeAttributes={this.nativeAttributes}\n        onCatChange={e => {\n          e.stopPropagation();\n          this.pickr?.setDate(e.detail);\n          if (this.value !== (e.detail || undefined)) {\n            this.value = e.detail || undefined;\n            this.catChange.emit(this.value);\n          }\n        }}\n        onCatFocus={e => {\n          e.stopPropagation();\n          this.catFocus.emit(e.detail);\n        }}\n        onCatBlur={e => {\n          e.stopPropagation();\n          this.catBlur.emit(e.detail);\n        }}\n      ></cat-input>\n    );\n  }\n\n  private get dateFormat(): string {\n    if (this.mode === 'week') {\n      return 'W';\n    } else if (this.mode === 'time') {\n      return 'H:i';\n    } else {\n      return 'Z';\n    }\n  }\n}\n","function getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. This stops `shift()` from taking action, but can\n    // be worked around by calling it again after the `arrow()` if desired.\n    const shouldAddOffset = getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? min$1 - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset + alignmentOffset\n      }\n    };\n  }\n});\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements = alignment !== undefined || allowedPlacements === allPlacements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[main], overflow[cross]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getSideObjectFromPadding(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const axis = getMainAxisFromPlacement(placement);\n      const isXAxis = axis === 'x';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isXAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isXAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\n\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction getNodeName(node) {\n  return isNode(node) ? (node.nodeName || '').toLowerCase() : '';\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const safari = isSafari();\n  const css = getComputedStyle$1(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || !safari && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !safari && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction isSafari() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    fallback: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nconst FALLBACK_SCALE = {\n  x: 1,\n  y: 1\n};\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return FALLBACK_SCALE;\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    fallback\n  } = getCssDimensions(domElement);\n  let x = (fallback ? round(rect.width) : rect.width) / width;\n  let y = (fallback ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = {\n  x: 0,\n  y: 0\n};\nfunction getVisualOffsets(element, isFixed, floatingOffsetParent) {\n  var _win$visualViewport, _win$visualViewport2;\n  if (isFixed === void 0) {\n    isFixed = true;\n  }\n  if (!isSafari()) {\n    return noOffsets;\n  }\n  const win = element ? getWindow(element) : window;\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== win) {\n    return noOffsets;\n  }\n  return {\n    x: ((_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) || 0,\n    y: ((_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) || 0\n  };\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = FALLBACK_SCALE;\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = getVisualOffsets(domElement, isFixedStrategy, offsetParent);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      iframeRect.x += (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      iframeRect.y += (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += iframeRect.x;\n      y += iframeRect.y;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = {\n    x: 1,\n    y: 1\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    // `getParentNode` will never return a `Document` due to the fallback\n    // check, so it's either the <html> or <body> element.\n    return parentNode.ownerDocument.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n  if (list === void 0) {\n    list = [];\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isSafari();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : {\n    x: 1,\n    y: 1\n  };\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getScale,\n  async getElementRects(_ref) {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        ...(await getDimensionsFn(floating))\n      }\n    };\n  },\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle$1(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = true,\n    animationFrame = false\n  } = options;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : reference.contextElement ? getOverflowAncestors(reference.contextElement) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    // ignores Window, checks for [object VisualViewport]\n    const isVisualViewport = !isElement(ancestor) && ancestor.toString().includes('V');\n    if (ancestorScroll && (animationFrame ? isVisualViewport : true)) {\n      ancestor.addEventListener('scroll', update, {\n        passive: true\n      });\n    }\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n  if (elementResize) {\n    observer = new ResizeObserver(() => {\n      update();\n    });\n    isElement(reference) && !animationFrame && observer.observe(reference);\n    if (!isElement(reference) && reference.contextElement && !animationFrame) {\n      observer.observe(reference.contextElement);\n    }\n    observer.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _observer;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, getOverflowAncestors, platform };\n","/**\n * Auto-generated file. Do not edit directly.\n */\n\nexport const assetFontDmSansName = \"DM Sans\";\nexport const assetFontDmSansWoff2Bold = \"DMSans-Bold.woff2\";\nexport const assetFontDmSansWoff2BoldItalic = \"DMSans-BoldItalic.woff2\";\nexport const assetFontDmSansWoff2Italic = \"DMSans-Italic.woff2\";\nexport const assetFontDmSansWoff2Medium = \"DMSans-Medium.woff2\";\nexport const assetFontDmSansWoff2MediumItalic = \"DMSans-MediumItalic.woff2\";\nexport const assetFontDmSansWoff2Regular = \"DMSans-Regular.woff2\";\nexport const assetFontLatoName = \"Lato\";\nexport const assetFontLatoWoffBlack = \"Lato-Black.woff\";\nexport const assetFontLatoWoff2Black = \"Lato-Black.woff2\";\nexport const assetFontLatoWoffBlackItalic = \"Lato-BlackItalic.woff\";\nexport const assetFontLatoWoff2BlackItalic = \"Lato-BlackItalic.woff2\";\nexport const assetFontLatoWoffBold = \"Lato-Bold.woff\";\nexport const assetFontLatoWoff2Bold = \"Lato-Bold.woff2\";\nexport const assetFontLatoWoffBoldItalic = \"Lato-BoldItalic.woff\";\nexport const assetFontLatoWoff2BoldItalic = \"Lato-BoldItalic.woff2\";\nexport const assetFontLatoWoffHairline = \"Lato-Hairline.woff\";\nexport const assetFontLatoWoff2Hairline = \"Lato-Hairline.woff2\";\nexport const assetFontLatoWoffHairlineItalic = \"Lato-HairlineItalic.woff\";\nexport const assetFontLatoWoff2HairlineItalic = \"Lato-HairlineItalic.woff2\";\nexport const assetFontLatoWoffHeavy = \"Lato-Heavy.woff\";\nexport const assetFontLatoWoff2Heavy = \"Lato-Heavy.woff2\";\nexport const assetFontLatoWoffHeavyItalic = \"Lato-HeavyItalic.woff\";\nexport const assetFontLatoWoff2HeavyItalic = \"Lato-HeavyItalic.woff2\";\nexport const assetFontLatoWoffItalic = \"Lato-Italic.woff\";\nexport const assetFontLatoWoff2Italic = \"Lato-Italic.woff2\";\nexport const assetFontLatoWoffLight = \"Lato-Light.woff\";\nexport const assetFontLatoWoff2Light = \"Lato-Light.woff2\";\nexport const assetFontLatoWoffLightItalic = \"Lato-LightItalic.woff\";\nexport const assetFontLatoWoff2LightItalic = \"Lato-LightItalic.woff2\";\nexport const assetFontLatoWoffMedium = \"Lato-Medium.woff\";\nexport const assetFontLatoWoff2Medium = \"Lato-Medium.woff2\";\nexport const assetFontLatoWoffMediumItalic = \"Lato-MediumItalic.woff\";\nexport const assetFontLatoWoff2MediumItalic = \"Lato-MediumItalic.woff2\";\nexport const assetFontLatoWoffRegular = \"Lato-Regular.woff\";\nexport const assetFontLatoWoff2Regular = \"Lato-Regular.woff2\";\nexport const assetFontLatoWoffSemibold = \"Lato-Semibold.woff\";\nexport const assetFontLatoWoff2Semibold = \"Lato-Semibold.woff2\";\nexport const assetFontLatoWoffSemiboldItalic = \"Lato-SemiboldItalic.woff\";\nexport const assetFontLatoWoff2SemiboldItalic = \"Lato-SemiboldItalic.woff2\";\nexport const assetFontLatoWoffThin = \"Lato-Thin.woff\";\nexport const assetFontLatoWoff2Thin = \"Lato-Thin.woff2\";\nexport const assetFontLatoWoffThinItalic = \"Lato-ThinItalic.woff\";\nexport const assetFontLatoWoff2ThinItalic = \"Lato-ThinItalic.woff2\";\nexport const assetFontAzeretMonoName = \"Azeret Mono\";\nexport const assetFontAzeretMonoWoff2Regular = \"AzeretMono-Regular.woff2\";\nexport const colorBaseWhite = \"#ffffff\";\nexport const colorBaseBlack = \"#000000\";\nexport const colorBaseNeutral100 = \"#f2f4f7\";\nexport const colorBaseNeutral200 = \"#ebecf0\";\nexport const colorBaseNeutral300 = \"#d7dbe0\";\nexport const colorBaseNeutral400 = \"#697687\";\nexport const colorBaseNeutral500 = \"#515c6c\";\nexport const colorBaseNeutral600 = \"#394251\";\nexport const colorBaseNeutral700 = \"#1b1f26\";\nexport const colorBaseNeutralInverted400 = \"#697687\";\nexport const colorBaseBrand100 = \"#c9e5e8\";\nexport const colorBaseBrand200 = \"#2db3c3\";\nexport const colorBaseBrand300 = \"#29a3b1\";\nexport const colorBaseBrand400 = \"#008194\";\nexport const colorBaseBrand500 = \"#017384\";\nexport const colorBaseBrand600 = \"#026371\";\nexport const colorBaseBrand700 = \"#175b63\";\nexport const colorBaseBrandInverted400 = \"#93b4f2\";\nexport const colorBaseBrandInverted500 = \"#93b4f2\";\nexport const colorBaseBrandInverted600 = \"#93b4f2\";\nexport const colorBaseGreen100 = \"#d4ede4\";\nexport const colorBaseGreen200 = \"#00bb7d\";\nexport const colorBaseGreen300 = \"#00aa71\";\nexport const colorBaseGreen400 = \"#008458\";\nexport const colorBaseGreen500 = \"#00754e\";\nexport const colorBaseGreen600 = \"#006946\";\nexport const colorBaseGreen700 = \"#005f40\";\nexport const colorBaseOrange100 = \"#ffdea8\";\nexport const colorBaseOrange200 = \"#ffd694\";\nexport const colorBaseOrange300 = \"#ffce80\";\nexport const colorBaseOrange400 = \"#ebb663\";\nexport const colorBaseOrange500 = \"#d6a75a\";\nexport const colorBaseOrange600 = \"#b0853e\";\nexport const colorBaseOrange700 = \"#9f6100\";\nexport const colorBaseRed100 = \"#fbc7bb\";\nexport const colorBaseRed200 = \"#f68368\";\nexport const colorBaseRed300 = \"#f46a49\";\nexport const colorBaseRed400 = \"#d9340d\";\nexport const colorBaseRed500 = \"#c22e0b\";\nexport const colorBaseRed600 = \"#ae2a0a\";\nexport const colorBaseRed700 = \"#9e2609\";\nexport const colorThemePrimaryBg = \"#008194\";\nexport const colorThemePrimaryBgHover = \"#017384\";\nexport const colorThemePrimaryBgActive = \"#026371\";\nexport const colorThemePrimaryFill = \"#ffffff\";\nexport const colorThemePrimaryFillHover = \"#ffffff\";\nexport const colorThemePrimaryFillActive = \"#ffffff\";\nexport const colorThemePrimaryText = \"#008194\";\nexport const colorThemePrimaryTextHover = \"#017384\";\nexport const colorThemePrimaryTextActive = \"#026371\";\nexport const colorThemePrimaryInvertedBg = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgActive = \"#93b4f2\";\nexport const colorThemePrimaryInvertedFill = \"#000000\";\nexport const colorThemePrimaryInvertedFillHover = \"#000000\";\nexport const colorThemePrimaryInvertedFillActive = \"#000000\";\nexport const colorThemePrimaryInvertedText = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextActive = \"#93b4f2\";\nexport const colorThemeSecondaryBg = \"#697687\";\nexport const colorThemeSecondaryBgHover = \"#697687\";\nexport const colorThemeSecondaryBgActive = \"#697687\";\nexport const colorThemeSecondaryFill = \"#ffffff\";\nexport const colorThemeSecondaryFillHover = \"#ffffff\";\nexport const colorThemeSecondaryFillActive = \"#ffffff\";\nexport const colorThemeSecondaryText = \"#000000\";\nexport const colorThemeSecondaryTextHover = \"#000000\";\nexport const colorThemeSecondaryTextActive = \"#000000\";\nexport const colorThemeSecondaryInvertedBg = \"#697687\";\nexport const colorThemeSecondaryInvertedBgHover = \"#697687\";\nexport const colorThemeSecondaryInvertedBgActive = \"#697687\";\nexport const colorThemeSecondaryInvertedFill = \"#000000\";\nexport const colorThemeSecondaryInvertedFillHover = \"#000000\";\nexport const colorThemeSecondaryInvertedFillActive = \"#000000\";\nexport const colorThemeSecondaryInvertedText = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextHover = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextActive = \"#ffffff\";\nexport const colorThemeSuccessBg = \"#008458\";\nexport const colorThemeSuccessBgHover = \"#00754e\";\nexport const colorThemeSuccessBgActive = \"#006946\";\nexport const colorThemeSuccessFill = \"#ffffff\";\nexport const colorThemeSuccessFillHover = \"#ffffff\";\nexport const colorThemeSuccessFillActive = \"#ffffff\";\nexport const colorThemeSuccessText = \"#008458\";\nexport const colorThemeSuccessTextHover = \"#00754e\";\nexport const colorThemeSuccessTextActive = \"#006946\";\nexport const colorThemeWarningBg = \"#ffce80\";\nexport const colorThemeWarningBgHover = \"#ffd694\";\nexport const colorThemeWarningBgActive = \"#ffdea8\";\nexport const colorThemeWarningFill = \"#000000\";\nexport const colorThemeWarningFillHover = \"#000000\";\nexport const colorThemeWarningFillActive = \"#000000\";\nexport const colorThemeWarningText = \"#9f6100\";\nexport const colorThemeWarningTextHover = \"#9f6100\";\nexport const colorThemeWarningTextActive = \"#9f6100\";\nexport const colorThemeDangerBg = \"#d9340d\";\nexport const colorThemeDangerBgHover = \"#c22e0b\";\nexport const colorThemeDangerBgActive = \"#ae2a0a\";\nexport const colorThemeDangerFill = \"#ffffff\";\nexport const colorThemeDangerFillHover = \"#ffffff\";\nexport const colorThemeDangerFillActive = \"#ffffff\";\nexport const colorThemeDangerText = \"#d9340d\";\nexport const colorThemeDangerTextHover = \"#c22e0b\";\nexport const colorThemeDangerTextActive = \"#ae2a0a\";\nexport const colorUiBackgroundCanvas = \"#f2f4f7\";\nexport const colorUiBackgroundSurface = \"#ffffff\";\nexport const colorUiBackgroundSurfaceInverted = \"#1b1f26\";\nexport const colorUiBackgroundMuted = \"#f2f4f7\";\nexport const colorUiBackgroundInput = \"#ffffff\";\nexport const colorUiBackgroundInputAutofill = \"#e8f0fe\";\nexport const colorUiBackgroundSkeleton = \"#ebecf0\";\nexport const colorUiBackgroundSkeletonHighlight = \"#d7dbe0\";\nexport const colorUiBackgroundTooltip = \"#000000\";\nexport const colorUiBackgroundBackdrop = \"#1b1f26\";\nexport const colorUiBorderLight = \"#f2f4f7\";\nexport const colorUiBorderDefault = \"#ebecf0\";\nexport const colorUiBorderDark = \"#d7dbe0\";\nexport const colorUiBorderFocus = \"#0071ff\";\nexport const colorUiBorderQuote = \"#697687\";\nexport const colorUiFontHead = \"#000000\";\nexport const colorUiFontHeadInverted = \"#ffffff\";\nexport const colorUiFontBody = \"#000000\";\nexport const colorUiFontBodyInverted = \"#ffffff\";\nexport const colorUiFontMono = \"#000000\";\nexport const colorUiFontMonoInverted = \"#ffffff\";\nexport const colorUiFontMuted = \"#515c6c\";\nexport const colorUiFontQuote = \"#697687\";\nexport const colorUiFontTooltip = \"#ffffff\";\nexport const fontFamilyHead = \"Lato\";\nexport const fontFamilyBody = \"Lato\";\nexport const fontFamilyMono = \"''\";\nexport const fontFamilyEmoji = \"''\";\nexport const fontWeightHead = 600;\nexport const fontWeightBody = 400;\nexport const fontWeightMono = 400;\nexport const fontDecorationLink = \"none\";\nexport const fontDecorationLinkHover = \"underline\";\nexport const fontDecorationLinkButton = \"none\";\nexport const fontDecorationLinkButtonHover = \"none\";\nexport const opacityDisabled = 0.65;\nexport const opacityBackdrop = 0.4;\nexport const opacityTooltip = 1;\nexport const sizeBorderRadiusL = \"0.5rem\";\nexport const sizeBorderRadiusM = \"0.25rem\";\nexport const sizeBorderRadiusS = \"0.125rem\";\nexport const sizeFontHead1 = \"1.75rem\";\nexport const sizeFontHead2 = \"1.5rem\";\nexport const sizeFontHead3 = \"1.25rem\";\nexport const sizeFontHead4 = \"1.125rem\";\nexport const sizeFontHead5 = \"0.9375rem\";\nexport const sizeFontHead6 = \"0.875rem\";\nexport const sizeFontBodyXl = \"1.25rem\";\nexport const sizeFontBodyL = \"1.125rem\";\nexport const sizeFontBodyM = \"0.9375rem\";\nexport const sizeFontBodyS = \"0.875rem\";\nexport const sizeFontBodyXs = \"0.75rem\";\nexport const sizeFontMonoXl = \"1.125rem\";\nexport const sizeFontMonoL = \"0.9375rem\";\nexport const sizeFontMonoM = \"0.875rem\";\nexport const sizeFontMonoS = \"0.75rem\";\nexport const sizeFontMonoXs = \"0.625rem\";\nexport const sizeLineHead1 = \"2rem\";\nexport const sizeLineHead2 = \"1.75rem\";\nexport const sizeLineHead3 = \"1.5rem\";\nexport const sizeLineHead4 = \"1.5rem\";\nexport const sizeLineHead5 = \"1.25rem\";\nexport const sizeLineHead6 = \"1rem\";\nexport const sizeLineBodyXl = \"1.5rem\";\nexport const sizeLineBodyL = \"1.5rem\";\nexport const sizeLineBodyM = \"1.25rem\";\nexport const sizeLineBodyS = \"1.125rem\";\nexport const sizeLineBodyXs = \"1rem\";\nexport const sizeLineMonoXl = \"1.5rem\";\nexport const sizeLineMonoL = \"1.25rem\";\nexport const sizeLineMonoM = \"1.125rem\";\nexport const sizeLineMonoS = \"1rem\";\nexport const sizeLineMonoXs = \"0.875rem\";\nexport const sizeModalS = \"400rem\";\nexport const sizeModalM = \"600rem\";\nexport const sizeModalL = \"800rem\";\nexport const sizeScreenXs = \"540rem\";\nexport const sizeScreenS = \"768rem\";\nexport const sizeScreenM = \"992rem\";\nexport const sizeScreenL = \"1200rem\";\nexport const sizeScreenXl = \"1400rem\";\nexport const sizeSpacingXl = \"2rem\";\nexport const sizeSpacingL = \"1.5rem\";\nexport const sizeSpacingM = \"1rem\";\nexport const sizeSpacingS = \"0.5rem\";\nexport const sizeSpacingXs = \"0.25rem\";\nexport const timeTransitionL = 500;\nexport const timeTransitionM = 250;\nexport const timeTransitionS = 125;\nexport const timeDelayL = 500;\nexport const timeDelayM = 250;\nexport const timeDelayS = 125;\nexport const timeDurationL = 1000;\nexport const timeDurationM = 500;\nexport const timeDurationS = 250;\n","/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\n// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nvar candidateSelectors = ['input:not([inert])', 'select:not([inert])', 'textarea:not([inert])', 'a[href]:not([inert])', 'button:not([inert])', '[tabindex]:not(slot):not([inert])', 'audio[controls]:not([inert])', 'video[controls]:not([inert])', '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', 'details>summary:first-of-type:not([inert])', 'details:not([inert])'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function (element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nvar isInert = function isInert(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, 'inert');\n  var inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  var result = inert || lookUp && node && isInert(node.parentNode); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nvar isContentEditable = function isContentEditable(node) {\n  var _node$getAttribute2;\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, 'contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      var shadowRoot = element.shadowRoot ||\n      // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nvar hasTabIndex = function hasTabIndex(node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nvar getTabIndex = function getTabIndex(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if ((/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nvar getSortOrderTabIndex = function getSortOrderTabIndex(node, isScope) {\n  var tabIndex = getTabIndex(node);\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n  return tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nvar isNodeAttached = function isNodeAttached(node) {\n  var _nodeRoot;\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n    width = _node$getBoundingClie.width,\n    height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n    getShadowRoot = _ref.getShadowRoot;\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full' || displayCheck === 'legacy-full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled ||\n  // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) ||\n  // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabIndex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getSortOrderTabIndex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, getTabIndex, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 7.4.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { isFocusable, tabbable, focusable, isTabbable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\n// checks for TAB by default\nvar isKeyForward = function isKeyForward(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nvar isKeyBackward = function isKeyBackward(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward: isKeyForward,\n    isKeyBackward: isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @param {Event} [event]\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  var findContainerIndex = function findContainerIndex(element, event) {\n    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === 'function' ? event.composedPath() : undefined;\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n        tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || ( // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n    if (node === undefined || !isFocusable(node, config.tabbableOptions)) {\n      // option not specified nor focusable: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    });\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target, e) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  var checkKeyNav = function checkKeyNav(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var target = getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target, event);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  var checkKey = function checkKey(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  };\n\n  //\n  // MUTATION OBSERVER\n  //\n\n  var checkDomRemoval = function checkDomRemoval(mutations) {\n    var isFocusedNodeRemoved = mutations.some(function (mutation) {\n      var removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function (node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n\n    // If the currently focused is removed then browsers will move focus to the\n    // <body> element. If this happens, try to move focus back into the trap.\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n\n  // Use MutationObserver - if supported - to detect if focused node is removed\n  // from the DOM.\n  var mutationObserver = typeof window !== 'undefined' && 'MutationObserver' in window ? new MutationObserver(checkDomRemoval) : undefined;\n  var updateObservedNodes = function updateObservedNodes() {\n    if (!mutationObserver) {\n      return;\n    }\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function (container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true\n        });\n      });\n    }\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      onActivate === null || onActivate === void 0 ? void 0 : onActivate();\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate === null || onPostActivate === void 0 ? void 0 : onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate();\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 ? void 0 : onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      var onPause = getOption(pauseOptions, 'onPause');\n      var onPostPause = getOption(pauseOptions, 'onPostPause');\n      state.paused = true;\n      onPause === null || onPause === void 0 ? void 0 : onPause();\n      removeListeners();\n      updateObservedNodes();\n      onPostPause === null || onPostPause === void 0 ? void 0 : onPostPause();\n      return this;\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      var onUnpause = getOption(unpauseOptions, 'onUnpause');\n      var onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');\n      state.paused = false;\n      onUnpause === null || onUnpause === void 0 ? void 0 : onUnpause();\n      updateTabbableNodes();\n      addListeners();\n      updateObservedNodes();\n      onPostUnpause === null || onPostUnpause === void 0 ? void 0 : onPostUnpause();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      updateObservedNodes();\n      return this;\n    }\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","import { FocusableElement, tabbable } from 'tabbable';\n\ntype Container = Element | FocusableElement | null;\n\nconst firstTabbable = (container?: Container): FocusableElement | undefined => {\n  return (container ? tabbable(container, { includeContainer: true, getShadowRoot: true }) : []).shift();\n};\n\nexport default firstTabbable;\n","@import 'variables';\n@import 'mixins';\n\n$-min-width: 8rem;\n$-max-width: 16rem;\n$-min-height: 2rem;\n$-max-height: calc(100vh - 48px);\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(nav) {\n  padding-top: $cat-body-margin-bottom * 0.5;\n  padding-bottom: $cat-body-margin-bottom * 0.5;\n  min-width: $-min-width;\n  max-width: $-max-width;\n}\n\n.content {\n  position: fixed;\n  background: cat-token('color.ui.background.surface');\n  display: none;\n  -webkit-overflow-scrolling: touch;\n  min-height: $-min-height;\n  max-height: $-max-height;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: $cat-dropdown-z-index;\n  opacity: 0;\n  transition: transform cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15),\n    opacity cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15);\n\n  &[data-placement^='top'] {\n    transform: translateY(1rem);\n  }\n\n  &[data-placement^='left'] {\n    transform: translateX(1rem);\n  }\n\n  &[data-placement^='right'] {\n    transform: translateX(-1rem);\n  }\n\n  &[data-placement^='bottom'] {\n    transform: translateY(-1rem);\n  }\n\n  &.show {\n    opacity: 1;\n    transform: translateX(0);\n    transform: translateY(0);\n    transition: transform cat-token('time.transition.l') cubic-bezier(0.05, 0.7, 0.1, 1),\n      opacity cat-token('time.transition.l') cubic-bezier(0.05, 0.7, 0.1, 1);\n  }\n\n  &.overflow-auto {\n    overflow: auto;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, Placement, size } from '@floating-ui/dom';\nimport { timeTransitionS } from '@haiilo/catalyst-tokens';\nimport { Component, Event, EventEmitter, h, Host, Listen, Method, Prop } from '@stencil/core';\nimport * as focusTrap from 'focus-trap';\nimport { FocusableElement, tabbable } from 'tabbable';\nimport firstTabbable from '../../utils/first-tabbable';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-dropdown',\n  styleUrl: 'cat-dropdown.scss',\n  shadow: true\n})\nexport class CatDropdown {\n  private static readonly OFFSET = 4;\n  private readonly id = nextUniqueId++;\n  private triggerSlot!: HTMLSlotElement;\n  private trigger?: FocusableElement;\n  private content!: HTMLElement;\n  private trap?: focusTrap.FocusTrap;\n  private keyListener?: (event: KeyboardEvent) => void;\n  private isOpen: boolean | null = false;\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * Do not close the dropdown on outside clicks.\n   */\n  @Prop() noAutoClose = false;\n\n  /**\n   * Allow overflow when dropdown is open.\n   */\n  @Prop() overflow = false;\n\n  /**\n   * Emitted when the dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  @Listen('catClick')\n  clickHandler(event: CustomEvent<MouseEvent>) {\n    // we need to delay the initialization of the trigger until first,\n    // interaction because the element might still be hidden (and thus not\n    // tabbable) if contained in another Stencil web component\n    if (!this.trigger) {\n      this.initTrigger();\n      this.toggle();\n    }\n\n    const button = event.target as HTMLButtonElement;\n\n    // hide dropdown on button click\n    if (!this.noAutoClose && event.composedPath().includes(this.content) && button.slot !== 'trigger') {\n      this.close();\n    }\n  }\n\n  /**\n   * Toggles the dropdown.\n   */\n  async toggle(): Promise<void> {\n    this.isOpen ? this.close() : this.open();\n  }\n\n  /**\n   * Opens the dropdown.\n   */\n  async open(): Promise<void> {\n    if (this.isOpen === null) {\n      return; // busy\n    }\n\n    this.isOpen = null;\n    this.content.style.display = 'block';\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = true;\n      this.content.classList.add('show');\n      this.trigger?.setAttribute('aria-expanded', 'true');\n      this.catOpen.emit();\n      this.trap = this.trap\n        ? this.trap.updateContainerElements(this.content)\n        : focusTrap.createFocusTrap(this.content, {\n            tabbableOptions: {\n              getShadowRoot: true\n            },\n            allowOutsideClick: true,\n            clickOutsideDeactivates: event => {\n              const shouldClose =\n                !this.noAutoClose &&\n                !event.composedPath().includes(this.content) &&\n                (!this.trigger || !event.composedPath().includes(this.trigger));\n              if (shouldClose) {\n                this.close();\n              }\n              return shouldClose;\n            },\n            onPostDeactivate: () => this.close()\n          });\n      this.trap.activate();\n    });\n  }\n\n  /**\n   * Closes the dropdown.\n   */\n  @Method()\n  async close(): Promise<void> {\n    if (this.isOpen === null || !this.isOpen) {\n      return; // busy\n    }\n\n    this.isOpen = null;\n    this.content.classList.remove('show');\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = false;\n      this.content.classList.remove('show');\n      this.content.style.display = '';\n      this.trigger?.setAttribute('aria-expanded', 'false');\n      this.trap?.deactivate();\n      this.catClose.emit();\n    }, timeTransitionS);\n  }\n\n  componentDidLoad(): void {\n    this.keyListener = event => {\n      if (this.isOpen && ['ArrowDown', 'ArrowUp'].includes(event.key)) {\n        const targetElements = tabbable(this.content, { includeContainer: false, getShadowRoot: true });\n        const activeElement = firstTabbable(document.activeElement);\n        const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n        const activeOff = event.key === 'ArrowDown' ? 1 : -1;\n        const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n        targetElements[targetIdx].focus();\n        event.preventDefault();\n      }\n    };\n    document.addEventListener('keydown', this.keyListener);\n  }\n\n  disconnectedCallback(): void {\n    if (this.keyListener) {\n      document.removeEventListener('keydown', this.keyListener);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"trigger\" ref={el => (this.triggerSlot = el as HTMLSlotElement)}></slot>\n        <div\n          id={this.contentId}\n          class={{ content: true, 'overflow-auto': !this.overflow }}\n          ref={el => (this.content = el as HTMLElement)}\n        >\n          <slot name=\"content\"></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  private get contentId() {\n    return `cat-dropdown-${this.id}`;\n  }\n\n  private initTrigger() {\n    this.trigger = this.findTrigger();\n    this.trigger.setAttribute('aria-haspopup', 'true');\n    this.trigger.setAttribute('aria-expanded', 'false');\n    this.trigger.setAttribute('aria-controls', this.contentId);\n    this.trigger.addEventListener('click', () => this.toggle());\n    autoUpdate(this.trigger, this.content, () => this.update());\n  }\n\n  private findTrigger() {\n    let trigger: FocusableElement | undefined;\n    const elems = this.triggerSlot?.assignedElements?.() || [];\n    while (!trigger && elems.length) {\n      const elem = elems.shift();\n      trigger = elem?.hasAttribute('data-trigger')\n        ? (elem as HTMLElement)\n        : elem?.querySelector('[data-trigger]') ?? undefined;\n    }\n    if (!trigger) {\n      trigger = firstTabbable(this.triggerSlot);\n    }\n    if (!trigger) {\n      throw new Error('Cannot find tabbable element. Use [data-trigger] to set the trigger.');\n    }\n    return trigger;\n  }\n\n  private update() {\n    if (this.trigger) {\n      computePosition(this.trigger, this.content, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [\n          offset(CatDropdown.OFFSET),\n          flip(),\n          size({\n            padding: CatDropdown.OFFSET,\n            apply({ availableWidth, availableHeight, elements }) {\n              Object.assign(elements.floating.style, {\n                maxWidth: `${availableWidth}px`,\n                maxHeight: `${availableHeight}px`\n              });\n            }\n          })\n        ]\n      }).then(({ x, y, placement }) => {\n        this.content.dataset.placement = placement;\n        Object.assign(this.content.style, {\n          left: `${x}px`,\n          top: `${y}px`\n        });\n      });\n    }\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Element, h, Host, Prop, Watch } from '@stencil/core';\n\ntype HTMLCatFormFieldElement =\n  | HTMLCatInputElement\n  | HTMLCatTextareaElement\n  | HTMLCatSelectElement\n  | HTMLCatDatepickerElement;\n\n@Component({\n  tag: 'cat-form-group',\n  styleUrl: 'cat-form-group.scss',\n  shadow: true\n})\nexport class CatFormGroup {\n  private formElements: HTMLCatFormFieldElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Whether the labels need a marker to shown if the forms fields are required or optional.<br /><br />\n   * By default, it is set to auto, it will display the mark depending on the number of required and optional fields: <br />\n   * - If there are more required, the optional will be marked.<br />\n   * - If there are less required, it will mark the required.<br /><br />\n   * If a form field had \"!\", the requiredMarked of the field would not change.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'auto' = 'auto';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * The space allocated to the input label\n   */\n  @Prop() labelSize?: string;\n\n  @Watch('requiredMarker')\n  onRequiredMarker(newRequiredMarker: 'none' | 'required' | 'optional' | 'auto') {\n    const updateMarker = newRequiredMarker === 'auto' ? this.calculate(this.formElements) : newRequiredMarker;\n    this.formElements.forEach(\n      element => !element.requiredMarker?.endsWith('!') && (element.requiredMarker = updateMarker)\n    );\n  }\n\n  @Watch('horizontal')\n  onHorizontal(newHorizontal: boolean) {\n    this.formElements.forEach(element => {\n      element.horizontal = newHorizontal;\n    });\n  }\n\n  render() {\n    return (\n      <Host style={{ '--label-size': this.labelSize }}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(\n      this.hostElement.querySelectorAll('cat-input, cat-textarea, cat-select, cat-datepicker')\n    ) as HTMLCatFormFieldElement[];\n    this.onRequiredMarker(this.requiredMarker);\n    this.onHorizontal(this.horizontal);\n  }\n\n  private calculate(elements: HTMLCatFormFieldElement[]): 'optional' | 'required' {\n    const optionalFields = elements.filter(value => !value.required).length;\n    const requiredFields = elements.length - optionalFields;\n    return requiredFields >= optionalFields ? 'optional' : 'required';\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$icon-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  /**\n   * @prop --cat-icon-ratio: The aspect ratio of the avatar.\n   */\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: currentColor;\n  stroke: none;\n  transform-origin: center center;\n  height: 1em;\n  width: calc(var(--cat-icon-ratio, 1) * 1em);\n}\n\n// ----- size\n\n@mixin size($size) {\n  .icon-#{$size} svg {\n    font-size: map.get($icon-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n","import { Component, h, Prop } from '@stencil/core';\nimport { catIconRegistry as icons } from './cat-icon-registry';\n\n/**\n * Icons are used to provide additional meaning or in places where text label\n * doesn't fit.\n *\n * @part icon - The span element wrapping the SVG icon.\n */\n@Component({\n  tag: 'cat-icon',\n  styleUrl: 'cat-icon.scss',\n  shadow: true\n})\nexport class CatIcon {\n  /**\n   * The name of the icon.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * The SVG source of the icon. This takes precenedence over the `icon` name.\n   */\n  @Prop() iconSrc?: string;\n\n  /**\n   * The size of the icon.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the icon that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        innerHTML={this.iconSrc || (this.icon ? icons.getIcon(this.icon) : '')}\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        part=\"icon\"\n        class={{\n          icon: true,\n          [`icon-${this.size}`]: this.size !== 'inline'\n        }}\n      ></span>\n    );\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport function coerceBoolean(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n\nexport function coerceNumber(value: any): number;\nexport function coerceNumber<D>(value: any, fallback: D): number | D;\nexport function coerceNumber(value: any, fallbackValue = 0) {\n  return isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nfunction isNumberValue(value: any): boolean {\n  return !isNaN(parseFloat(value as any)) && !isNaN(Number(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.input-field,\n.input-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.input-field.input-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.input-wrapper {\n  display: flex;\n  align-items: stretch;\n  gap: 0.75rem;\n  padding: 0 0.75rem;\n  height: form-label.$cat-input-height;\n  overflow: hidden;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &.input-round {\n    border-radius: 10rem;\n  }\n\n  &.input-disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &:not(.input-disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  &.input-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.text-prefix,\n.text-suffix {\n  display: inline-flex;\n  align-items: center;\n  @include cat-select(none);\n}\n\n.text-prefix {\n  border-right: 1px solid cat-token('color.ui.border.dark');\n  padding-right: 0.75rem;\n}\n\n.text-suffix {\n  border-left: 1px solid cat-token('color.ui.border.dark');\n  padding-left: 0.75rem;\n}\n\n.icon-prefix,\n.icon-suffix {\n  align-self: center;\n}\n\n.input-inner-wrapper {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1 1 auto;\n}\n\ninput {\n  font: inherit;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-width: 0;\n  border: none;\n  outline: none;\n  background: none;\n\n  .input-disabled & {\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &.has-clearable {\n    padding-right: 1.5rem;\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.clearable {\n  position: absolute;\n  top: calc(50% - 1rem);\n  right: -0.5rem;\n}\n","import { Component, Element, Event, EventEmitter, h, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { InputType } from './input-type';\n\nlet nextUniqueId = 0;\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part prefix - The text prefix.\n * @part suffix - The text suffix.\n */\n@Component({\n  tag: 'cat-input',\n  styleUrl: 'cat-input.scss',\n  shadow: true\n})\nexport class CatInput {\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for date, time and numeric values.\n   */\n  @Prop() max?: number | string;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum value for date, time and numeric values.\n   */\n  @Prop() min?: number | string;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Use round input edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Type of form control.\n   */\n  @Prop() type: InputType = 'text';\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on input', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n    this.catChange.emit(this.value);\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={{\n          'input-field': true,\n          'input-horizontal': this.horizontal\n        }}\n      >\n        <div\n          class={{\n            hidden: this.labelHidden,\n            'label-container': true\n          }}\n        >\n          {(this.hasSlottedLabel || this.label) && (\n            <label htmlFor={this.id}>\n              <span class=\"label-wrapper\" part=\"label\">\n                {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                <div class=\"label-metadata\">\n                  {!this.required && this.requiredMarker.startsWith('optional') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.optional')})\n                    </span>\n                  )}\n                  {this.required && this.requiredMarker.startsWith('required') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.required')})\n                    </span>\n                  )}\n                  {this.maxLength && (\n                    <div class=\"label-character-count\" aria-hidden=\"true\">\n                      {this.value?.toString().length ?? 0}/{this.maxLength}\n                    </div>\n                  )}\n                </div>\n              </span>\n            </label>\n          )}\n        </div>\n        <div class=\"input-container\">\n          <div\n            class={{\n              'input-wrapper': true,\n              'input-round': this.round,\n              'input-disabled': this.disabled,\n              'input-invalid': this.invalid\n            }}\n            onClick={() => this.input.focus()}\n          >\n            {this.textPrefix && (\n              <span class=\"text-prefix\" part=\"prefix\">\n                {this.textPrefix}\n              </span>\n            )}\n            {this.icon && !this.iconRight && <cat-icon icon={this.icon} class=\"icon-prefix\" size=\"l\"></cat-icon>}\n            <div class=\"input-inner-wrapper\">\n              <input\n                {...this.nativeAttributes}\n                ref={el => (this.input = el as HTMLInputElement)}\n                id={this.id}\n                class={{\n                  'has-clearable': this.clearable && !this.disabled\n                }}\n                autocomplete={this.autoComplete}\n                disabled={this.disabled}\n                max={this.max}\n                maxlength={this.maxLength}\n                min={this.min}\n                minlength={this.minLength}\n                name={this.name}\n                placeholder={this.placeholder}\n                readonly={this.readonly}\n                required={this.required}\n                type={this.type}\n                value={this.value}\n                onInput={this.onInput.bind(this)}\n                onFocus={this.onFocus.bind(this)}\n                onBlur={this.onBlur.bind(this)}\n                aria-invalid={this.invalid ? 'true' : undefined}\n                aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n              ></input>\n              {this.clearable && !this.disabled && this.value && (\n                <cat-button\n                  class=\"clearable\"\n                  icon=\"$cat:input-close\"\n                  icon-only=\"true\"\n                  size=\"s\"\n                  variant=\"text\"\n                  a11y-label={i18n.t('input.clear')}\n                  onClick={this.clear.bind(this)}\n                ></cat-button>\n              )}\n            </div>\n            {!this.invalid && this.icon && this.iconRight && (\n              <cat-icon icon={this.icon} class=\"icon-suffix\" size=\"l\"></cat-icon>\n            )}\n            {this.invalid && <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>}\n            {this.textSuffix && (\n              <span class=\"text-suffix\" part=\"suffix\">\n                {this.textSuffix}\n              </span>\n            )}\n          </div>\n          {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n            <CatFormHint\n              id={this.id}\n              hint={this.hint}\n              slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n              errorMap={this.errorMap}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private onInput() {\n    this.value = this.input.value;\n    this.catChange.emit(this.value);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nol {\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  display: inline-flex;\n  justify-content: center;\n\n  &.dots {\n    @include cat-select(none);\n  }\n}\n\n// ----- variant\n\n:host([variant='outlined']) {\n  ol {\n    gap: 0.75rem;\n  }\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .cat-pagination-#{$size} {\n    li.dots,\n    li.text {\n      height: map.get($button-sizes, $size);\n      line-height: map.get($button-sizes, $size);\n      font-size: cat-body-font-size($fontSize);\n    }\n\n    li.dots {\n      width: map.get($button-sizes, $size);\n    }\n  }\n\n  :host([variant='outlined']) {\n    .cat-pagination-#{$size} {\n      gap: map.get($button-sizes, $size) * 0.25;\n    }\n  }\n}\n\n@include size('xs', 's');\n@include size('s', 'm');\n@include size('m', 'm');\n@include size('l', 'm');\n@include size('xl', 'l');\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n/**\n * A navigation component to switch between different pages of paged chunks of\n * data such as a table. Pagination is built with list HTML elements and a\n * wrapping `<nav>` element to identify it as a navigation section to screen\n * readers and other assistive technologies. Furthermore, the current page is\n * correctly highlighted using `aria-current`.\n */\n@Component({\n  tag: 'cat-pagination',\n  styleUrl: 'cat-pagination.scss',\n  shadow: true\n})\nexport class CatPagination {\n  /**\n   * The current page.\n   */\n  @Prop({ mutable: true }) page = 0;\n\n  /**\n   * The total number of pages.\n   */\n  @Prop() pageCount = 1;\n\n  /**\n   * The number of pages to be shown around the current page.\n   */\n  @Prop() activePadding = 1;\n\n  /**\n   * The number of pages to be shown at the edges.\n   */\n  @Prop() sidePadding = 1;\n\n  /**\n   * The size of the buttons.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The rendering style of the buttons.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'text';\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Use compact pagination mode.\n   */\n  @Prop() compact = false;\n\n  /**\n   * The icon of the \"previous\" button.\n   */\n  @Prop() iconPrev = '$cat:pagination-left';\n\n  /**\n   * The icon of the \"next\" button.\n   */\n  @Prop() iconNext = '$cat:pagination-right';\n\n  /**\n   * Emitted when the page of the pagination has changed.\n   */\n  @Event() catChange!: EventEmitter<number>;\n\n  render() {\n    return (\n      <nav role=\"navigation\">\n        <ol\n          class={{\n            [`cat-pagination-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isFirst}\n              a11yLabel={i18n.t('pagination.prev')}\n              icon={this.iconPrev}\n              iconOnly\n              onClick={() => this.setPage(this.page - 1)}\n            ></cat-button>\n          </li>\n          {this.content}\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isLast}\n              a11yLabel={i18n.t('pagination.next')}\n              icon={this.iconNext}\n              iconOnly\n              onClick={() => this.setPage(this.page + 1)}\n            ></cat-button>\n          </li>\n        </ol>\n      </nav>\n    );\n  }\n\n  get isFirst() {\n    return this.page === 0;\n  }\n\n  get isLast() {\n    return this.page === this.pageCount - 1;\n  }\n\n  private setPage(value: number) {\n    this.page = value;\n    this.catChange.emit(this.page);\n  }\n\n  get pages() {\n    if (!this.sidePadding && !this.activePadding) {\n      return [this.page];\n    }\n\n    const result = new Set<number>();\n    const minPage = this.page <= this.sidePadding + this.activePadding + 1;\n    const minActivepage = minPage ? this.sidePadding + 2 * this.activePadding + 2 : this.sidePadding;\n    const maxPage = this.page >= this.pageCount - this.sidePadding - this.activePadding - 2;\n    const maxActivepage = maxPage\n      ? this.pageCount - this.sidePadding - 2 * this.activePadding - 2\n      : this.pageCount - this.sidePadding;\n\n    this.addSeq(result, 0, minActivepage);\n    if (!minPage && !maxPage) {\n      this.addSeq(result, this.page - this.activePadding, this.page + this.activePadding + 1);\n    }\n    this.addSeq(result, maxActivepage, this.pageCount);\n\n    return [...result];\n  }\n\n  private addSeq(set: Set<number>, start: number, end: number) {\n    const _start = this.clamp(start, 0, this.pageCount);\n    const _end = this.clamp(end, 0, this.pageCount);\n    Array(_end - _start)\n      .fill(0)\n      .forEach((_, i) => set.add(_start + i));\n  }\n\n  private clamp(num: number, min: number, max: number) {\n    return Math.min(Math.max(num, min), max);\n  }\n\n  private get content() {\n    if (this.compact) {\n      return (\n        <li class=\"text\">\n          {this.page + 1}/{this.pageCount}\n        </li>\n      );\n    }\n\n    return this.pages.map((page, i) => [\n      i > 0 && this.pages[i - 1] !== page - 1 ? <li class=\"dots\">…</li> : null,\n      <li>\n        <cat-button\n          variant={this.variant}\n          size={this.size}\n          round={this.round}\n          color={this.page === page ? 'primary' : undefined}\n          active={this.page === page}\n          a11yLabel={i18n.t('pagination.page', { page: page + 1 })}\n          a11yCurrent={this.page === page ? 'step' : undefined}\n          onClick={() => this.setPage(page)}\n        >\n          {page + 1}\n        </cat-button>\n      </li>\n    ]);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$radio-width: 1.25rem;\n$radio-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\n.radio {\n  display: flex;\n  position: relative;\n  align-self: flex-start;\n}\n\n.circle-placeholder {\n  width: calc($radio-width + 1px);\n}\n\n.circle {\n  position: absolute;\n  width: 0.75rem;\n  height: 0.75rem;\n  background-color: cat-token('color.theme.primary.bg');\n  border-radius: 10rem;\n  top: calc(50% - 0.375rem);\n  left: calc(50% - 0.375rem);\n  visibility: hidden;\n  pointer-events: none;\n}\n\ninput {\n  margin: 0;\n  width: $radio-width;\n  height: $radio-height;\n  appearance: none;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: 10rem;\n  cursor: inherit;\n\n  &:checked {\n    border-color: cat-token('color.theme.primary.bg');\n\n    + .circle {\n      visibility: visible;\n    }\n  }\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n:host(.cat-error) {\n  input {\n    border-color: cat-token('color.theme.danger.bg');\n  }\n\n  .circle {\n    background-color: cat-token('color.theme.danger.bg');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n\n  input {\n    background-color: cat-token('color.ui.background.muted');\n\n    &:checked {\n      border-color: cat-token('color.ui.border.dark');\n    }\n  }\n\n  .circle {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Radio Buttons are graphical interface elements that allow user to choose\n * only one of a predefined set of mutually exclusive options.\n *\n * @slot hint - Optional hint element to be displayed with the radio.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-radio',\n  styleUrl: 'cat-radio.scss',\n  shadow: true\n})\nexport class CatRadio {\n  private readonly _id = `cat-radio-${++nextUniqueId}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Whether this radio is checked.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Whether this radio is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the radio that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the radio component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Whether the radio is required.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the radio component.\n   */\n  @Prop() value = '';\n\n  /**\n   * Optional hint text(s) to be displayed with the radio.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the radio component.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the radio is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string>;\n\n  /**\n   * Emitted when the radio received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on radio', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the radio button. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the radio button. Use this method\n   * instead of `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n          role=\"radio\"\n          aria-checked={this.checked ? 'true' : 'false'}\n        >\n          <span class=\"radio\">\n            <input\n              {...this.nativeAttributes}\n              ref={el => (this.input = el as HTMLInputElement)}\n              id={this.identifier || this.id}\n              type=\"radio\"\n              name={this.name}\n              value={this.value}\n              checked={this.checked}\n              required={this.required}\n              disabled={this.disabled}\n              onInput={this.onInput.bind(this)}\n              onFocus={this.onFocus.bind(this)}\n              onBlur={this.onBlur.bind(this)}\n            />\n            <span class=\"circle\"></span>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"circle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onInput() {\n    this.checked = true;\n    this.catChange.emit(this.value);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, Element, Event, EventEmitter, h, Listen, Prop, Watch } from '@stencil/core';\n\n/**\n * A group of radio buttons.\n */\n@Component({\n  tag: 'cat-radio-group',\n  styleUrl: 'cat-radio-group.scss',\n  shadow: true\n})\nexport class CatRadioGroup {\n  private catRadioGroup: HTMLCatRadioElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The name of the radio group component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the radio group.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * Whether this radio group is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Adds an accessible label for the radio group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Whether the label of the radios should appear to the left of them.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string>;\n\n  /**\n   * Emitted when the radio group received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio group loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('name')\n  onNameChanged(newName?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.name = newName));\n  }\n\n  @Watch('value')\n  onValueChanged(newValue?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.checked = catRadio.value === newValue));\n    this.updateTabIndex();\n  }\n\n  @Watch('disabled')\n  onDisabledChanged(disabled: boolean) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.disabled = disabled));\n  }\n\n  @Watch('labelLeft')\n  onLabelLeftChanged(labelLeft: boolean) {\n    this.catRadioGroup.forEach(catRadio => {\n      if (labelLeft) {\n        catRadio.labelLeft = labelLeft;\n      }\n    });\n  }\n\n  componentDidLoad(): void {\n    this.catRadioGroup = Array.from(this.hostElement.querySelectorAll(`cat-radio`));\n    this.onNameChanged(this.name);\n    this.onValueChanged(this.value);\n    this.onDisabledChanged(this.disabled);\n    this.onLabelLeftChanged(this.labelLeft);\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key) && this.catRadioGroup.length) {\n      const targetElements = this.catRadioGroup.filter(catRadio => !catRadio.disabled);\n      const activeElement = document.activeElement as HTMLCatRadioElement;\n      const activeIdx = this.catRadioGroup.findIndex(catRadio => catRadio === activeElement);\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      targetElements[targetIdx].shadowRoot?.querySelector('input')?.click();\n      this.updateTabIndex();\n      event.preventDefault();\n    }\n  }\n\n  @Listen('input')\n  onInput(event: MouseEvent): void {\n    const radio = this.catRadioGroup.find(radio => radio === event.target);\n    this.value = radio?.checked ? radio?.value : undefined;\n    this.catChange.emit(this.value);\n  }\n\n  @Listen('focus', { capture: true })\n  onFocus(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  @Listen('blur', { capture: true })\n  onBlur(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  render() {\n    return (\n      <div role=\"radiogroup\" aria-label={this.a11yLabel}>\n        <slot></slot>\n      </div>\n    );\n  }\n\n  private updateTabIndex() {\n    if (this.catRadioGroup.length) {\n      this.catRadioGroup.forEach(value => value.shadowRoot?.querySelector('input')?.setAttribute('tabindex', '-1'));\n      const checkedRadioIndex = this.catRadioGroup.findIndex(value => value.checked);\n      this.catRadioGroup[checkedRadioIndex >= 0 ? checkedRadioIndex : 0].shadowRoot\n        ?.querySelector('input')\n        ?.setAttribute('tabindex', '0');\n    }\n  }\n}\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    const _super = (instance) => {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    const ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport const UnsubscriptionError = createErrorClass((_super) => function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        const index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export const config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","export const timeoutProvider = {\n    setTimeout(handler, timeout, ...args) {\n        const { delegate } = timeoutProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout(handler, timeout, ...args);\n        }\n        return setTimeout(handler, timeout, ...args);\n    },\n    clearTimeout(handle) {\n        const { delegate } = timeoutProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(() => {\n        const { onUnhandledError } = config;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined))();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind,\n        value,\n        error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nlet context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        const isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            const { errorThrown, error } = context;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nconst _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nclass ConsumerObserver {\n    constructor(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    next(value) {\n        const { partialObserver } = this;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n    error(err) {\n        const { partialObserver } = this;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    }\n    complete() {\n        const { partialObserver } = this;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context),\n                    error: observerOrNext.error && bind(observerOrNext.error, context),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        this.destination = new ConsumerObserver(partialObserver);\n    }\n}\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export const observable = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe(...fns) {\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn) => fn(prev), input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nexport class Observable {\n    constructor(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    lift(operator) {\n        const observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    }\n    subscribe(observerOrNext, error, complete) {\n        const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(() => {\n            const { operator, source } = this;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        this._subscribe(subscriber)\n                    :\n                        this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    }\n    _trySubscribe(sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    }\n    forEach(next, promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            const subscriber = new SafeSubscriber({\n                next: (value) => {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            this.subscribe(subscriber);\n        });\n    }\n    _subscribe(subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    }\n    [Symbol_observable]() {\n        return this;\n    }\n    pipe(...operations) {\n        return pipeFromArray(operations)(this);\n    }\n    toPromise(promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            let value;\n            this.subscribe((x) => (value = x), (err) => reject(err), () => resolve(value));\n        });\n    }\n}\nObservable.create = (subscribe) => {\n    return new Observable(subscribe);\n};\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return (source) => {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nexport class OperatorSubscriber extends Subscriber {\n    constructor(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        super(destination);\n        this.onFinalize = onFinalize;\n        this.shouldUnsubscribe = shouldUnsubscribe;\n        this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : super._next;\n        this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._error;\n        this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._complete;\n    }\n    unsubscribe() {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            const { closed } = this;\n            super.unsubscribe();\n            !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    }\n}\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport const ObjectUnsubscribedError = createErrorClass((_super) => function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.currentObservers = null;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                if (!this.currentObservers) {\n                    this.currentObservers = Array.from(this.observers);\n                }\n                for (const observer of this.currentObservers) {\n                    observer.next(value);\n                }\n            }\n        });\n    }\n    error(err) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.hasError = this.isStopped = true;\n                this.thrownError = err;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    }\n    complete() {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.isStopped = true;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    }\n    get observed() {\n        var _a;\n        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(() => {\n            this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n//# sourceMappingURL=Action.js.map","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n//# sourceMappingURL=AsyncAction.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n//# sourceMappingURL=Scheduler.js.map","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=AsyncScheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { Observable } from '../Observable';\nexport const EMPTY = new Observable((subscriber) => subscriber.complete());\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n//# sourceMappingURL=empty.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n    __addDisposableResource,\r\n    __disposeResources,\r\n};\r\n","export const isArrayLike = ((x) => x && typeof x.length === 'number' && typeof x !== 'function');\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(`You provided ${input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport const iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function* readableStreamLikeToAsyncGenerator_1() {\n        const reader = readableStream.getReader();\n        try {\n            while (true) {\n                const { value, done } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable((subscriber) => {\n        const obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable((subscriber) => {\n        for (let i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable((subscriber) => {\n        promise\n            .then((value) => {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, (err) => subscriber.error(err))\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable((subscriber) => {\n        for (const value of iterable) {\n            subscriber.next(value);\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable((subscriber) => {\n        process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (asyncIterable_1 = __asyncValues(asyncIterable); asyncIterable_1_1 = yield asyncIterable_1.next(), !asyncIterable_1_1.done;) {\n                const value = asyncIterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return)) yield _a.call(asyncIterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay = 0, repeat = false) {\n    const scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay), () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay), (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable((subscriber) => {\n        let i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable((subscriber) => {\n        let iterator;\n        executeSchedule(subscriber, scheduler, () => {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                let value;\n                let done;\n                try {\n                    ({ value, done } = iterator.next());\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return () => isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return();\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable((subscriber) => {\n        executeSchedule(subscriber, scheduler, () => {\n            const iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                iterator.next().then((result) => {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function of(...args) {\n    const scheduler = popScheduler(args);\n    return from(args, scheduler);\n}\n//# sourceMappingURL=of.js.map","import { createErrorClass } from './createErrorClass';\nexport const EmptyError = createErrorClass((_super) => function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n});\n//# sourceMappingURL=EmptyError.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { map } from \"../operators/map\";\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(args => callOrApply(fn, args));\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    const buffer = [];\n    let active = 0;\n    let index = 0;\n    let isComplete = false;\n    const checkComplete = () => {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    const outerNext = (value) => (active < concurrent ? doInnerSub(value) : buffer.push(value));\n    const doInnerSub = (value) => {\n        expand && subscriber.next(value);\n        active++;\n        let innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, (innerValue) => {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, () => {\n            innerComplete = true;\n        }, undefined, () => {\n            if (innerComplete) {\n                try {\n                    active--;\n                    while (buffer.length && active < concurrent) {\n                        const bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, () => doInnerSub(bufferedValue));\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, () => {\n        isComplete = true;\n        checkComplete();\n    }));\n    return () => {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent = Infinity) {\n    if (isFunction(resultSelector)) {\n        return mergeMap((a, i) => map((b, ii) => resultSelector(a, b, i, ii))(innerFrom(project(a, i))), concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent));\n}\n//# sourceMappingURL=mergeMap.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent = Infinity) {\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { concatAll } from '../operators/concatAll';\nimport { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function concat(...args) {\n    return concatAll()(from(args, popScheduler(args)));\n}\n//# sourceMappingURL=concat.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n//# sourceMappingURL=timer.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge(...args) {\n    const scheduler = popScheduler(args);\n    const concurrent = popNumber(args, Infinity);\n    const sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value)));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { operate } from '../util/lift';\nimport { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function audit(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        let isComplete = false;\n        const endDuration = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n            isComplete && subscriber.complete();\n        };\n        const cleanupDuration = () => {\n            durationSubscriber = null;\n            isComplete && subscriber.complete();\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            lastValue = value;\n            if (!durationSubscriber) {\n                innerFrom(durationSelector(value)).subscribe((durationSubscriber = createOperatorSubscriber(subscriber, endDuration, cleanupDuration)));\n            }\n        }, () => {\n            isComplete = true;\n            (!hasValue || !durationSubscriber || durationSubscriber.closed) && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=audit.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler = asyncScheduler) {\n    return audit(() => timer(duration, scheduler));\n}\n//# sourceMappingURL=auditTime.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate((source, subscriber) => {\n        let innerSub = null;\n        let syncUnsub = false;\n        let handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, (err) => {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return (source, subscriber) => {\n        let hasState = hasSeed;\n        let state = seed;\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (() => {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map","import { operate } from '../util/lift';\nimport { noop } from '../util/noop';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nexport function debounce(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        const emit = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            hasValue = true;\n            lastValue = value;\n            durationSubscriber = createOperatorSubscriber(subscriber, emit, noop);\n            innerFrom(durationSelector(value)).subscribe(durationSubscriber);\n        }, () => {\n            emit();\n            subscriber.complete();\n        }, undefined, () => {\n            lastValue = durationSubscriber = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounce.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function defaultIfEmpty(defaultValue) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => {\n            if (!hasValue) {\n                subscriber.next(defaultValue);\n            }\n            subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=defaultIfEmpty.js.map","import { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function take(count) {\n    return count <= 0\n        ?\n            () => EMPTY\n        : operate((source, subscriber) => {\n            let seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n//# sourceMappingURL=take.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { noop } from '../util/noop';\nexport function ignoreElements() {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, noop));\n    });\n}\n//# sourceMappingURL=ignoreElements.js.map","import { map } from './map';\nexport function mapTo(value) {\n    return map(() => value);\n}\n//# sourceMappingURL=mapTo.js.map","import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nimport { innerFrom } from '../observable/innerFrom';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    }\n    return mergeMap((value, index) => innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value)));\n}\n//# sourceMappingURL=delayWhen.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { delayWhen } from './delayWhen';\nimport { timer } from '../observable/timer';\nexport function delay(due, scheduler = asyncScheduler) {\n    const duration = timer(due, scheduler);\n    return delayWhen(() => duration);\n}\n//# sourceMappingURL=delay.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { EmptyError } from '../util/EmptyError';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function throwIfEmpty(errorFactory = defaultErrorFactory) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => (hasValue ? subscriber.complete() : subscriber.error(errorFactory()))));\n    });\n}\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    const hasDefaultValue = arguments.length >= 2;\n    return (source) => source.pipe(predicate ? filter((v, i) => predicate(v, i, source)) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(() => new EmptyError()));\n}\n//# sourceMappingURL=first.js.map","import { operate } from '../util/lift';\nimport { scanInternals } from './scanInternals';\nexport function scan(accumulator, seed) {\n    return operate(scanInternals(accumulator, seed, arguments.length >= 2, true));\n}\n//# sourceMappingURL=scan.js.map","import { concat } from '../observable/concat';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\nexport function startWith(...values) {\n    const scheduler = popScheduler(values);\n    return operate((source, subscriber) => {\n        (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=startWith.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function switchMap(project, resultSelector) {\n    return operate((source, subscriber) => {\n        let innerSubscriber = null;\n        let index = 0;\n        let isComplete = false;\n        const checkComplete = () => isComplete && !innerSubscriber && subscriber.complete();\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            let innerIndex = 0;\n            const outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, (innerValue) => subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue), () => {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, () => {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n//# sourceMappingURL=switchMap.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function takeWhile(predicate, inclusive = false) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const result = predicate(value, index++);\n            (result || inclusive) && subscriber.next(value);\n            !result && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=takeWhile.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    const tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error, complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate((source, subscriber) => {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            let isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, () => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, (err) => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, () => {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","@import 'variables';\n\n// -----\n\n$-shadow: 0 0 4px 1px rgba(16, 29, 48, 20%);\n$-shadow-transition: box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n// -----\n\n:host {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n// ----- Scroll shadows\n\n%shadow {\n  position: absolute;\n  transition: $-shadow-transition;\n}\n\n.shadow-top {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  top: 0;\n}\n\n.shadow-left {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  left: 0;\n}\n\n.shadow-right {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  right: 0;\n}\n\n.shadow-bottom {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  bottom: 0;\n}\n\n// ----- Component\n\n.scrollable-wrapper {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  &.cat-scrollable-top .shadow-top,\n  &.cat-scrollable-bottom .shadow-bottom,\n  &.cat-scrollable-left .shadow-left,\n  &.cat-scrollable-right .shadow-right {\n    box-shadow: $-shadow;\n  }\n}\n\n.scrollable-content {\n  width: 100%;\n  overflow: hidden;\n  // white-space: nowrap;\n\n  &.scroll-x {\n    overflow-x: auto;\n  }\n\n  &.scroll-y {\n    overflow-y: auto;\n  }\n\n  &.no-overscroll {\n    overscroll-behavior: contain;\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { fromEvent, merge, Observable, Subject } from 'rxjs';\nimport { auditTime, distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\n/**\n * An element to display scrollable content.\n */\n@Component({\n  tag: 'cat-scrollable',\n  styleUrl: 'cat-scrollable.scss',\n  shadow: true\n})\nexport class CatScrollable {\n  private static readonly THROTTLE = 50;\n  scrollElement?: HTMLElement;\n  scrollWrapperElement?: HTMLElement;\n  private readonly init = new Subject<void>();\n  private readonly destroyed = new Subject<void>();\n  private readonly resizedEntries = new Subject<ResizeObserverEntry[]>();\n  private readonly resizedObserver = new ResizeObserver(entries => this.resizedEntries.next(entries));\n  private scrolled!: Observable<Event>;\n\n  /** Flags to disable/enable scroll shadowX. */\n  @Prop()\n  noShadowX = false;\n\n  /** Flags to disable/enable scroll shadowY. */\n  @Prop()\n  noShadowY = false;\n\n  /** Flags to disable/enable overflowX. */\n  @Prop()\n  noOverflowX = false;\n\n  /** Flags to disable/enable overflowY. */\n  @Prop()\n  noOverflowY = false;\n\n  /** Flag to disable/enable overscroll behavior. */\n  @Prop()\n  noOverscroll = false;\n\n  /**\n   * Flag to not fire an initial event after content initialization.\n   */\n  @Prop() noScrolledInit = false;\n\n  /**\n   * Buffer to be used to calculate the scroll distance.\n   */\n  @Prop() scrolledBuffer = 0;\n\n  /**\n   * Emitted when the content is fully scrolled to the top.\n   */\n  @Event() scrolledTop!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the left.\n   */\n  @Event() scrolledLeft!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the right.\n   */\n  @Event() scrolledRight!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the bottom.\n   */\n  @Event() scrolledBottom!: EventEmitter<void>;\n\n  componentDidRender() {\n    if (this.scrollElement) {\n      this.scrolled = fromEvent(this.scrollElement, 'scroll').pipe(takeUntil(this.destroyed));\n      this.resizedObserver.observe(this.scrollElement);\n    }\n    if (this.scrollWrapperElement) {\n      this.resizedObserver.observe(this.scrollWrapperElement);\n    }\n    this.attachEmitter('left', this.scrolledLeft);\n    this.attachEmitter('right', this.scrolledRight);\n    this.attachEmitter('bottom', this.scrolledBottom);\n    this.attachEmitter('top', this.scrolledTop);\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => ({\n          top: this.getScrollOffset('top') > 0,\n          left: this.getScrollOffset('left') > 0,\n          right: this.getScrollOffset('right') > 0,\n          bottom: this.getScrollOffset('bottom') > 0\n        })),\n        distinctUntilChanged(),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(({ top, left, right, bottom }) => {\n        this.toggleClass('cat-scrollable-top', top);\n        this.toggleClass('cat-scrollable-left', left);\n        this.toggleClass('cat-scrollable-right', right);\n        this.toggleClass('cat-scrollable-bottom', bottom);\n      });\n  }\n\n  componentDidLoad() {\n    if (!this.noScrolledInit) {\n      this.init.next();\n    }\n  }\n\n  disconnectedCallback() {\n    this.init.complete();\n    this.destroyed.next();\n    this.destroyed.complete();\n    this.resizedObserver.disconnect();\n  }\n\n  render() {\n    return [\n      <div class=\"scrollable-wrapper\" ref={el => (this.scrollWrapperElement = el)}>\n        {!this.noShadowY && <div class=\"shadow-top\"></div>}\n        {!this.noShadowX && <div class=\"shadow-left\"></div>}\n        {!this.noShadowX && <div class=\"shadow-right\"></div>}\n        {!this.noShadowY && <div class=\"shadow-bottom\"></div>}\n      </div>,\n      <div\n        ref={el => (this.scrollElement = el)}\n        class={{\n          'scrollable-content': true,\n          'scroll-x': !this.noOverflowX,\n          'scroll-y': !this.noOverflowY,\n          'no-overscroll': this.noOverscroll\n        }}\n      >\n        <slot></slot>\n      </div>\n    ];\n  }\n\n  private attachEmitter(from: 'top' | 'left' | 'right' | 'bottom', emitter: EventEmitter<void>) {\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => this.getScrollOffset(from)),\n        map(offset => offset <= this.scrolledBuffer),\n        distinctUntilChanged(),\n        filter(isLower => isLower),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(() => emitter.emit());\n  }\n\n  private getScrollOffset(from: 'top' | 'left' | 'right' | 'bottom') {\n    if (this.scrollElement) {\n      switch (from) {\n        case 'top':\n          return this.scrollElement.scrollTop;\n        case 'left':\n          return this.scrollElement.scrollLeft;\n        case 'right':\n          return this.scrollElement.scrollWidth - this.scrollElement.clientWidth - this.scrollElement.scrollLeft;\n        case 'bottom':\n          return this.scrollElement.scrollHeight - this.scrollElement.clientHeight - this.scrollElement.scrollTop;\n        default:\n          return 0;\n      }\n    }\n    return 0;\n  }\n\n  private toggleClass(name: string, value: boolean) {\n    if (value) {\n      this.scrollWrapperElement?.classList.add(name);\n    } else {\n      this.scrollWrapperElement?.classList.remove(name);\n    }\n  }\n}\n","var GHOST_ELEMENT_ID = '__autosizeInputGhost'\n\nvar characterEntities = {\n  ' ': 'nbsp',\n  '<': 'lt',\n  '>': 'gt'\n}\nfunction mapSpecialCharacterToCharacterEntity (specialCharacter) {\n  return '&' + characterEntities[specialCharacter] + ';'\n}\nfunction escapeSpecialCharacters (string) {\n  return string.replace(/\\s|<|>/g, mapSpecialCharacterToCharacterEntity)\n}\n\n// Create `ghostElement`, with inline styles to hide it and ensure that the text is all\n// on a single line.\nfunction createGhostElement () {\n  var ghostElement = document.createElement('div')\n  ghostElement.id = GHOST_ELEMENT_ID\n  ghostElement.style.cssText =\n    'display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;'\n  document.body.appendChild(ghostElement)\n  return ghostElement\n}\n\nmodule.exports = function (element, options) {\n  var elementStyle = window.getComputedStyle(element)\n  // prettier-ignore\n  var elementCssText = 'box-sizing:' + elementStyle.boxSizing +\n                      ';border-left:' + elementStyle.borderLeftWidth + ' solid red' +\n                      ';border-right:' + elementStyle.borderRightWidth + ' solid red' +\n                      ';font-family:' + elementStyle.fontFamily +\n                      ';font-feature-settings:' + elementStyle.fontFeatureSettings +\n                      ';font-kerning:' + elementStyle.fontKerning +\n                      ';font-size:' + elementStyle.fontSize +\n                      ';font-stretch:' + elementStyle.fontStretch +\n                      ';font-style:' + elementStyle.fontStyle +\n                      ';font-variant:' + elementStyle.fontVariant +\n                      ';font-variant-caps:' + elementStyle.fontVariantCaps +\n                      ';font-variant-ligatures:' + elementStyle.fontVariantLigatures +\n                      ';font-variant-numeric:' + elementStyle.fontVariantNumeric +\n                      ';font-weight:' + elementStyle.fontWeight +\n                      ';letter-spacing:' + elementStyle.letterSpacing +\n                      ';margin-left:' + elementStyle.marginLeft +\n                      ';margin-right:' + elementStyle.marginRight +\n                      ';padding-left:' + elementStyle.paddingLeft +\n                      ';padding-right:' + elementStyle.paddingRight +\n                      ';text-indent:' + elementStyle.textIndent +\n                      ';text-transform:' + elementStyle.textTransform\n\n  // Assigns an appropriate width to the given `element` based on its contents.\n  function setWidth () {\n    var string = element.value || element.getAttribute('placeholder') || ''\n    // Check if the `ghostElement` exists. If no, create it.\n    var ghostElement =\n      document.getElementById(GHOST_ELEMENT_ID) || createGhostElement()\n    // Copy all width-affecting styles to the `ghostElement`.\n    ghostElement.style.cssText += elementCssText\n    ghostElement.innerHTML = escapeSpecialCharacters(string)\n    // Copy the width of `ghostElement` to `element`.\n    var width = window.getComputedStyle(ghostElement).width\n    element.style.width = width\n    return width\n  }\n\n  element.addEventListener('input', setWidth)\n\n  var width = setWidth()\n\n  // Set `min-width` only if `options.minWidth` was set, and only if the initial\n  // width is non-zero.\n  if (options && options.minWidth && width !== '0px') {\n    element.style.minWidth = width\n  }\n\n  // Return a function for unbinding the event listener and removing the `ghostElement`.\n  return function () {\n    element.removeEventListener('input', setWidth)\n    var ghostElement = document.getElementById(GHOST_ELEMENT_ID)\n    if (ghostElement) {\n      ghostElement.parentNode.removeChild(ghostElement)\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  line-height: 1.25rem;\n  position: relative;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.select-field,\n.select-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.select-field.select-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\n.select-wrapper {\n  display: flex;\n  align-items: flex-start;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  padding: 0.25rem;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:not(.select-disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  &.select-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n:host(.cat-error) {\n  .select-wrapper {\n    box-shadow: 0 0 0 1px cat-token('color.theme.danger.bg');\n\n    &:not(.input-disabled):hover {\n      box-shadow: 0 0 0 2px cat-token('color.theme.danger.bg');\n    }\n  }\n}\n\n.select-disabled {\n  background: cat-token('color.ui.background.muted');\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n  pointer-events: none;\n}\n\n.select-wrapper-inner {\n  display: flex;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 0.25rem;\n  min-width: 0;\n\n  > cat-avatar {\n    display: inline-block;\n    padding-left: 0.5rem;\n\n    & + .select-input {\n      padding-left: 0.25rem;\n    }\n  }\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n}\n\n.select-input {\n  font: inherit;\n  background: none;\n  border: none;\n  outline: none;\n  padding: 0.375rem 0.5rem;\n  flex: 1 1 auto;\n  @include cat-ellipsis;\n\n  .select-disabled & {\n    cursor: inherit;\n  }\n}\n\n.select-pills {\n  display: contents;\n}\n\n.pill {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0.5rem;\n  background: cat-token('color.ui.background.muted');\n  border-radius: cat-border-radius('s');\n  white-space: nowrap;\n  min-width: 0;\n\n  > span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1 1 0%;\n  }\n\n  > cat-button {\n    margin-right: -0.25rem;\n    margin-left: -0.25rem;\n  }\n}\n\n.select-btn {\n  transition: transform cat-token('time.transition.s') linear;\n\n  &::part(button) {\n    outline: none;\n  }\n}\n\ncat-spinner {\n  padding: 0.375rem;\n}\n\n.icon-suffix {\n  padding: 0.25rem;\n}\n\n.select-btn-open {\n  transform: rotate(180deg);\n}\n\n.select-dropdown {\n  position: absolute;\n  right: 0;\n  background: cat-token('color.ui.background.surface');\n  display: none;\n  overflow: auto;\n  // -webkit-overflow-scrolling: touch;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: $cat-dropdown-z-index;\n}\n\n.select-options-wrapper {\n  max-height: 16rem;\n  width: 100%;\n}\n\n.select-empty {\n  margin: $cat-body-margin-bottom 0;\n  padding: 0 1.25rem;\n}\n\n.select-options {\n  list-style-type: none;\n  margin: 0;\n  padding: $cat-body-margin-bottom * 0.5 0;\n\n  cat-checkbox,\n  .select-option-single {\n    margin: 0;\n    padding: 0.5rem 1rem;\n  }\n}\n\n.select-option-inner {\n  display: flex;\n  gap: 0.5rem;\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n}\n\n.select-option-text {\n  flex: 1 1 0%;\n  min-width: 0;\n}\n\n.select-option-single {\n  cursor: pointer;\n}\n\n.select-input-transparent-caret {\n  caret-color: transparent;\n}\n\n.select-option-empty,\n.select-option-loading {\n  padding: 0.5rem 1rem;\n}\n\n.select-option:hover {\n  background-color: cat-token('color.theme.secondary.bg', 0.05);\n}\n\n.select-option-active {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: -2px;\n}\n\n.select-option-label {\n  @include cat-ellipsis(2);\n  @include cat-break-word;\n}\n\n.select-option-description {\n  @include cat-ellipsis(2);\n  color: cat-token('color.ui.font.muted');\n}\n","import { autoUpdate, computePosition, offset, Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport autosizeInput from 'autosize-input';\nimport log from 'loglevel';\nimport {\n  catchError,\n  debounce,\n  distinctUntilChanged,\n  filter,\n  first,\n  Observable,\n  of,\n  scan,\n  startWith,\n  Subject,\n  Subscription,\n  switchMap,\n  takeWhile,\n  tap,\n  timer\n} from 'rxjs';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport interface Item {\n  id: string;\n}\n\nexport interface Page<T> {\n  content: T[];\n  last: boolean;\n  totalElements?: number;\n}\n\nexport interface RenderInfo {\n  label: string;\n  description?: string;\n  avatar?: {\n    src?: string;\n    round?: boolean;\n    initials?: string;\n    icon?: string;\n  };\n}\n\n/**\n * @property customId - Change the ID of item for the given one.\n * @property resolve - Resolves the value of the select.\n * @property retrieve - Retrieves the options of the select.\n * @property render - Renders the items of the select.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport interface CatSelectConnector<T extends Item = any> {\n  customId?: (item: T) => string;\n  resolve: (ids: string[]) => Observable<T[]>;\n  retrieve: (term: string, page: number) => Observable<Page<T>>;\n  render: (item: T) => RenderInfo;\n}\n\nexport interface CatSelectState {\n  term: string;\n  isOpen: boolean;\n  isLoading: boolean;\n  isResolving: boolean;\n  options: { item: Item; render: RenderInfo }[];\n  tempSelection: { item: Item; render: RenderInfo }[];\n  selection: { item: Item; render: RenderInfo }[];\n  activeOptionIndex: number;\n  activeSelectionIndex: number;\n  totalElements?: number;\n}\n\nexport interface CatSelectMultipleTaggingValue {\n  ids: string[];\n  tags: string[];\n}\n\nexport interface CatSelectTaggingValue {\n  id: string;\n  tag: string;\n}\n\nconst INIT_STATE: CatSelectState = {\n  term: '',\n  isOpen: false,\n  isLoading: false,\n  isResolving: false,\n  options: [],\n  selection: [],\n  tempSelection: [],\n  activeOptionIndex: -1,\n  activeSelectionIndex: -1\n};\n\nlet nextUniqueId = 0;\n\n/**\n * Select lets user choose one option from an options' menu. Consider using\n * select when you have 6 or more options. Select component supports any content\n * type.\n *\n * @slot hint - Optional hint element to be displayed with the select.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-select',\n  styleUrl: 'cat-select.scss',\n  shadow: true\n})\nexport class CatSelect {\n  private static readonly SKELETON_COUNT = 4;\n  private static readonly DROPDOWN_OFFSET = 4;\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private dropdown?: HTMLElement;\n  private trigger?: HTMLElement;\n  private input?: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  private subscription?: Subscription;\n  private term$: Subject<string> = new Subject();\n  private more$: Subject<void> = new Subject();\n  private valueChangedBySelection = false;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() connector?: CatSelectConnector;\n\n  @State() state: CatSelectState = INIT_STATE;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the select is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Enable multiple selection.\n   */\n  @Prop() multiple = false;\n\n  /**\n   * The debounce time for the search.\n   */\n  @Prop() debounce = 250;\n\n  /**\n   * The placement of the select.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * The value of the select. <br />\n   * <br />\n   * The value of the select depends on whether it is allowed to choose a single item or several items. <br />\n   * When only one item can be selected, the value is the id of the item, in case several items can be selected, the value is an array of ids of the selected items. <br />\n   * <br />\n   * In case the user can add new items to the select (tags activated), the value in the single select is an object (CatSelectTaggingValue) with the id of the item or the name of the created item,\n   * in the case of multiple select, it is an object (CatSelectMultipleTaggingValue) with the array of the ids of the items selected and the array of the names of the items created\n   */\n  @Prop({ mutable: true }) value?: string | string[] | CatSelectTaggingValue | CatSelectMultipleTaggingValue;\n\n  /**\n   * Whether the select is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placeholder text to display within the select.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the select.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the select.\n   */\n  @Prop() label = '';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be checked for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Whether the select should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the select should add new items.\n   */\n  @Prop() tags = false;\n\n  /**\n   * Optional hint text to be displayed on the new item to be added.\n   */\n  @Prop() tagHint?: string;\n\n  /**\n   * The text to display in the dropdown if no results are found.\n   */\n  @Prop() noItems?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  @Watch('connector')\n  onConnectorChange(connector: CatSelectConnector) {\n    this.reset(connector);\n    this.resolve();\n  }\n\n  @Watch('value')\n  onValueChange() {\n    !this.valueChangedBySelection ? this.resolve() : (this.valueChangedBySelection = false);\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  @Watch('state')\n  onStateChange(newState: CatSelectState, oldState: CatSelectState) {\n    const changed = (key: keyof CatSelectState) => newState[key] !== oldState[key];\n    if (changed('isOpen')) {\n      this.update();\n    }\n    if (changed('activeOptionIndex') && this.state.activeOptionIndex >= 0) {\n      this.dropdown\n        ?.querySelector(`#select-${this.id}-option-${this.state.activeOptionIndex}`)\n        ?.scrollIntoView({ block: 'nearest' });\n    }\n\n    if (changed('selection')) {\n      let newValue;\n      if (!this.multiple && this.state.selection.length) {\n        this.hide();\n      }\n      const idsSelected = this.state.selection.map(item => item.item.id);\n      if (!this.tags) {\n        if (this.multiple) {\n          newValue = idsSelected;\n        } else {\n          newValue = idsSelected.length ? idsSelected[0] : '';\n        }\n      } else {\n        const ids = idsSelected.filter(id => !id.startsWith(`select-${this.id}-tag`));\n        const tags = this.state.selection\n          .filter(item => item.item.id.startsWith(`select-${this.id}-tag`))\n          .map(item => item.render.label);\n        if (this.multiple) {\n          newValue = { ids, tags };\n        } else {\n          newValue = { id: ids.length ? ids[0] : '', tag: tags.length ? tags[0] : '' };\n        }\n      }\n\n      if (!oldState.isResolving) {\n        this.valueChangedBySelection = true;\n        this.value = newValue;\n      }\n      this.catChange.emit();\n      this.showErrorsIfTimeout();\n    }\n  }\n\n  /**\n   * Emitted when the select dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the select dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the select loses the focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad(): void {\n    if (this.input) {\n      autosizeInput(this.input);\n    }\n    if (this.trigger && this.dropdown) {\n      autoUpdate(this.trigger, this.dropdown, () => this.update());\n    }\n  }\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on select', this);\n    }\n  }\n\n  @Listen('blur')\n  onBlur(event: FocusEvent): void {\n    if (!this.multiple && this.state.activeOptionIndex >= 0) {\n      if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n        this.createTag(this.state.term);\n      } else {\n        this.select(this.state.options[this.state.activeOptionIndex]);\n      }\n    }\n    this.hide();\n    if (!this.multiple && this.state.tempSelection?.length) {\n      this.patchState({\n        activeSelectionIndex: -1,\n        selection: this.state.tempSelection,\n        tempSelection: [],\n        options: [],\n        term: this.state.tempSelection[0].render.label\n      });\n    } else {\n      this.patchState({ activeSelectionIndex: -1 });\n    }\n\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  @Listen('keydown')\n  onKeyDown(event: KeyboardEvent): void {\n    const isInputFocused = this.hostElement.shadowRoot?.activeElement === this.input;\n\n    if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {\n      this.onArrowKeyDown(event);\n    } else if (['Enter', ' '].includes(event.key) && isInputFocused) {\n      if (\n        this.tags &&\n        this.state.activeOptionIndex === 0 &&\n        this.state.options[0].item.id === `select-${this.id}-option-tag`\n      ) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggleTag(this.state.options[0]);\n        } else {\n          this.createTag(this.state.options[0].render.label);\n        }\n      } else if (this.state.activeOptionIndex >= 0) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggle(this.state.options[this.state.activeOptionIndex]);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      } else if (this.tags && event.key === 'Enter' && this.state.activeOptionIndex < 0) {\n        this.createTag(this.state.term);\n      }\n    } else if (event.key === 'Escape') {\n      this.hide();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      this.input?.focus();\n      if (!this.multiple || !this.state.term || (this.input?.selectionStart === 0 && event.key === 'Backspace')) {\n        if (this.state.activeSelectionIndex >= 0) {\n          this.deselect(this.state.selection[this.state.activeSelectionIndex].item.id);\n        } else if (this.state.selection.length) {\n          const selectionClone = [...this.state.selection];\n          selectionClone.pop();\n          this.patchState({\n            selection: selectionClone,\n            tempSelection: this.state.term ? [...this.state.selection] : []\n          });\n        }\n      }\n    } else if (event.key === 'Tab') {\n      this.trigger?.setAttribute('tabindex', '-1');\n      if (this.multiple) {\n        this.patchState({ activeSelectionIndex: -1, activeOptionIndex: -1 });\n      } else if (this.state.activeOptionIndex >= 0) {\n        if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n          this.createTag(this.state.term);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      }\n    } else if (event.key.length === 1) {\n      this.input?.focus();\n    }\n  }\n\n  @Listen('keyup')\n  onKeyUp(event: KeyboardEvent): void {\n    if (event.key === 'Tab' && !event.shiftKey) {\n      this.hostElement.shadowRoot?.activeElement === this.trigger && this.input?.focus();\n      if (this.hostElement.shadowRoot?.activeElement === this.input) {\n        this.show();\n      }\n    } else if (event.key === 'Tab' && event.shiftKey) {\n      const clearButton = this.trigger?.querySelector(`#select-clear-btn-${this.id}`);\n\n      if (clearButton) {\n        this.hostElement.shadowRoot?.activeElement === clearButton && this.show();\n      } else {\n        this.show();\n      }\n    }\n  }\n\n  /**\n   * Connect the functions of the select\n   *\n   * @param connector - The {@link CatSelectConnector} of the select.\n   */\n  @Method()\n  async connect(connector: CatSelectConnector): Promise<void> {\n    this.connector = connector;\n    let number$: Observable<number>;\n    this.subscription?.unsubscribe();\n    this.subscription = this.term$\n      .asObservable()\n      .pipe(\n        debounce(term => (term ? timer(this.debounce) : of(0))),\n        distinctUntilChanged(),\n        tap(\n          () =>\n            (number$ = this.more$.pipe(\n              filter(() => !this.state.isLoading),\n              scan(n => n + 1, 0),\n              startWith(0)\n            ))\n        ),\n        tap(() => this.patchState({ options: [] })),\n        switchMap(term =>\n          number$.pipe(\n            tap(() => this.patchState({ isLoading: true })),\n            switchMap(number => connector.retrieve(term, number)),\n            tap(page => this.patchState({ isLoading: false, totalElements: page.totalElements })),\n            takeWhile(page => !page.last, true),\n            scan((items, page) => [...items, ...page.content], [] as Item[])\n          )\n        )\n      )\n      .subscribe(items => {\n        const options = this.toSelectItems(connector, items);\n\n        if (\n          this.tags &&\n          this.state.term.trim().length &&\n          !options.find(value1 => value1.render.label.toLowerCase() === this.state.term.toLowerCase())\n        ) {\n          let label;\n          if (this.isTagSelected(this.state.term)) {\n            label = this.state.selection.find(item => item.render.label.toLowerCase() === this.state.term.toLowerCase())\n              ?.render.label;\n          }\n          options.unshift({\n            item: { id: `select-${this.id}-option-tag` },\n            render: { label: label ? label : this.state.term }\n          });\n        }\n        this.patchState({\n          options\n        });\n      });\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'select-field': true,\n            'select-horizontal': this.horizontal\n          }}\n        >\n          <div\n            class={{\n              hidden: this.labelHidden,\n              'label-container': true\n            }}\n          >\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={this.id}>\n                <span class=\"label-wrapper\" part=\"label\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && this.requiredMarker.startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n\n          <div class=\"select-container\">\n            <div\n              class={{ 'select-wrapper': true, 'select-disabled': this.disabled, 'select-invalid': this.invalid }}\n              ref={el => (this.trigger = el)}\n              id={this.id}\n              role=\"combobox\"\n              aria-expanded={this.state.isOpen || this.isPillboxActive()}\n              aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n              aria-required={this.required ? 'true' : false}\n              aria-activedescendant={this.activeDescendant}\n              onClick={e => this.onClick(e)}\n            >\n              <div class=\"select-wrapper-inner\">\n                {this.multiple && this.state.selection.length ? (\n                  <div\n                    id={`select-pillbox-${this.id}`}\n                    role=\"listbox\"\n                    aria-orientation=\"horizontal\"\n                    class=\"select-pills\"\n                  >\n                    {this.state.selection.map((item, i) => (\n                      <span\n                        class={{\n                          pill: true,\n                          'select-no-open': true,\n                          'select-option-active': this.state.activeSelectionIndex === i\n                        }}\n                        role=\"option\"\n                        aria-selected=\"true\"\n                        id={`select-${this.id}-selection-${i}`}\n                      >\n                        {item.render.avatar ? (\n                          <cat-avatar\n                            label={item.render.label}\n                            round={item.render.avatar.round}\n                            src={item.render.avatar.src}\n                            icon={item.render.avatar.icon}\n                            initials={item.render.avatar.initials ?? ''}\n                          ></cat-avatar>\n                        ) : null}\n                        <span>{item.render.label}</span>\n                        {!this.disabled && (\n                          <cat-button\n                            size=\"xs\"\n                            variant=\"text\"\n                            icon=\"$cat:select-clear\"\n                            iconOnly\n                            a11yLabel={i18n.t('select.deselect')}\n                            onClick={() => this.deselect(item.item.id)}\n                            tabIndex={-1}\n                            onCatClick={event => event.stopPropagation()}\n                          ></cat-button>\n                        )}\n                      </span>\n                    ))}\n                  </div>\n                ) : this.state.selection.length && this.state.selection[0].render.avatar ? (\n                  <cat-avatar\n                    label={this.state.selection[0].render.label}\n                    round={this.state.selection[0].render.avatar.round}\n                    src={this.state.selection[0].render.avatar.src}\n                    icon={this.state.selection[0].render.avatar.icon}\n                    initials={this.state.selection[0].render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <input\n                  {...this.nativeAttributes}\n                  class=\"select-input\"\n                  ref={el => (this.input = el)}\n                  aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n                  aria-activedescendant={this.activeDescendant}\n                  aria-invalid={this.invalid ? 'true' : undefined}\n                  aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n                  onInput={this.onInput.bind(this)}\n                  value={!this.multiple ? this.state.term : undefined}\n                  placeholder={this.placeholder}\n                  disabled={this.disabled || this.state.isResolving}\n                ></input>\n              </div>\n              {this.state.isResolving && <cat-spinner></cat-spinner>}\n              {this.invalid && (\n                <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>\n              )}\n              {(this.state.selection.length || this.state.term.length) &&\n              !this.disabled &&\n              !this.state.isResolving &&\n              this.clearable ? (\n                <cat-button\n                  id={`select-clear-btn-${this.id}`}\n                  iconOnly\n                  icon=\"$cat:input-close\"\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={i18n.t('input.clear')}\n                  onCatClick={event => {\n                    event.stopPropagation();\n                    this.clear();\n                  }}\n                ></cat-button>\n              ) : null}\n              {!this.state.isResolving && (\n                <cat-button\n                  iconOnly\n                  icon=\"$cat:select-open\"\n                  class={{ 'select-btn': true, 'select-btn-open': this.state.isOpen }}\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={this.state.isOpen ? i18n.t('select.close') : i18n.t('select.open')}\n                  aria-controls={`select-listbox-${this.id}`}\n                  aria-expanded={this.state.isOpen}\n                  tabIndex={-1}\n                  disabled={this.disabled || this.state.isResolving}\n                  onCatClick={event => event.stopPropagation()}\n                ></cat-button>\n              )}\n            </div>\n            {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n\n        <div\n          class=\"select-dropdown\"\n          ref={el => (this.dropdown = el)}\n          style={{ display: this.state.isOpen ? 'block' : undefined }}\n        >\n          {this.state.isOpen && (\n            <cat-scrollable\n              class=\"select-options-wrapper\"\n              scrolledBuffer={56}\n              noOverflowX\n              noOverscroll\n              noScrolledInit\n              onScrolledBottom={() => this.more$.next()}\n            >\n              <ul\n                class=\"select-options\"\n                role=\"listbox\"\n                aria-multiselectable={this.multiple}\n                aria-setsize={this.state.totalElements}\n                id={`select-listbox-${this.id}`}\n              >\n                {this.optionsList}\n                {this.state.isLoading\n                  ? Array.from(Array(CatSelect.SKELETON_COUNT)).map(() => (\n                      <li class=\"select-option-loading\">\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                      </li>\n                    ))\n                  : !this.state.options.length &&\n                    !this.tags && (\n                      <li class=\"select-option-empty\">{this.noItems ? this.noItems : i18n.t('select.empty')}</li>\n                    )}\n              </ul>\n            </cat-scrollable>\n          )}\n        </div>\n      </Host>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private get optionsList() {\n    return this.state.options.map((item, i) => {\n      const isTagOption = this.tags && item.item.id === `select-${this.id}-option-tag`;\n\n      const isOptionSelected = this.isSelected(item.item.id) || (this.tags && this.isTagSelected(item.render.label));\n\n      const getLabel = () => {\n        if (isTagOption) {\n          return item.render.label + this.tagTextHelp;\n        }\n        return item.render.label;\n      };\n\n      return (\n        <li\n          role=\"option\"\n          class=\"select-option\"\n          id={`select-${this.id}-option-${i}`}\n          aria-selected={isOptionSelected ? 'true' : 'false'}\n        >\n          {this.multiple ? (\n            <cat-checkbox\n              class={{ 'select-option-active': this.state.activeOptionIndex === i }}\n              checked={isOptionSelected}\n              tabIndex={-1}\n              labelLeft\n              onFocus={() => this.input?.focus()}\n              onCatChange={e => {\n                !isTagOption ? this.toggle(item) : this.toggleTag(item);\n                e.stopPropagation();\n              }}\n            >\n              <span slot=\"label\" class=\"select-option-inner\">\n                {item.render.avatar ? (\n                  <cat-avatar\n                    label={item.render.label}\n                    round={item.render.avatar.round}\n                    src={item.render.avatar.src}\n                    icon={item.render.avatar.icon}\n                    initials={item.render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <span class=\"select-option-text\">\n                  <span class=\"select-option-label\">{getLabel()}</span>\n                  <span class=\"select-option-description\">{item.render.description}</span>\n                </span>\n              </span>\n            </cat-checkbox>\n          ) : (\n            <div\n              class={{\n                'select-option-inner': true,\n                'select-option-single': true,\n                'select-option-active': this.state.activeOptionIndex === i\n              }}\n              onFocus={() => this.input?.focus()}\n              onClick={() => (isTagOption ? this.createTag(item.render.label) : this.select(item))}\n              tabIndex={-1}\n            >\n              {item.render.avatar ? (\n                <cat-avatar\n                  label={item.render.label}\n                  round={item.render.avatar.round}\n                  src={item.render.avatar.src}\n                  icon={item.render.avatar.icon}\n                  initials={item.render.avatar.initials ?? ''}\n                ></cat-avatar>\n              ) : null}\n              <span class=\"select-option-text\">\n                <span class=\"select-option-label\">{getLabel()}</span>\n                <span class=\"select-option-description\">{item.render.description}</span>\n              </span>\n            </div>\n          )}\n        </li>\n      );\n    });\n  }\n\n  private resolve() {\n    const connector = this.connector;\n    if (!connector) {\n      return;\n    }\n    this.patchState({ isResolving: true });\n\n    const ids = this.initIds();\n    let tags: string[];\n\n    if (this.tags) {\n      tags = this.initTags();\n    }\n\n    const data$ = ids.length ? connector.resolve(ids).pipe(first()) : of([]);\n    data$.pipe(catchError(() => of([]))).subscribe(items => {\n      const selection = this.toSelectItems(connector, items);\n      if (this.tags) {\n        tags\n          .filter(tag => !this.isTagSelected(tag, selection))\n          .forEach((tag, index) => {\n            const item = { id: `select-${this.id}-tag-${index}`, name: tag };\n            selection.push({ item, render: { label: item.name } });\n          });\n      }\n      this.patchState({\n        isResolving: false,\n        selection,\n        term: !this.multiple && selection.length ? selection[0].render.label : ''\n      });\n    });\n  }\n\n  private toSelectItems(connector: CatSelectConnector, items: Item[]) {\n    return items.map(item => ({\n      item: { ...item, id: connector.customId ? connector.customId(item) : item.id },\n      render: connector.render(item)\n    }));\n  }\n\n  private show() {\n    if (!this.state.isOpen) {\n      this.patchState({ isOpen: true });\n      this.catOpen.emit();\n      this.term$.next('');\n      this.input?.classList.remove('select-input-transparent-caret');\n    }\n  }\n\n  private hide() {\n    if (this.state.isOpen) {\n      this.patchState({ isOpen: false, activeOptionIndex: -1 });\n      this.catClose.emit();\n    }\n  }\n\n  private search(term: string) {\n    this.patchState({ term, activeOptionIndex: -1, activeSelectionIndex: -1 });\n    this.term$.next(term);\n  }\n\n  private isSelected(id: string) {\n    return this.state.selection.findIndex(s => s.item.id === id) >= 0;\n  }\n\n  private select(item: { item: Item; render: RenderInfo }) {\n    if (!this.isSelected(item.item.id)) {\n      let newSelection;\n      if (this.multiple) {\n        newSelection = [...this.state.selection, item];\n      } else {\n        newSelection = [item];\n        this.search(item.render.label);\n      }\n      this.patchState({ selection: newSelection });\n\n      if (this.multiple && this.state.term.trim() && this.input) {\n        this.patchState({ term: '', activeOptionIndex: -1 });\n        this.term$.next('');\n        this.input.value = '';\n      }\n    }\n    this.setTransparentCaret();\n  }\n\n  private deselect(id: string) {\n    if (this.isSelected(id)) {\n      this.patchState({\n        selection: this.state.selection.filter(item => item.item.id !== id),\n        activeSelectionIndex: -1\n      });\n    }\n  }\n\n  private toggle(item: { item: Item; render: RenderInfo }) {\n    this.isSelected(item.item.id)\n      ? this.deselect(item.item.id)\n      : this.tags && this.isTagSelected(item.render.label)\n      ? this.removeTag(item.render.label)\n      : this.select(item);\n  }\n\n  private clear() {\n    if (this.input && this.state.term) {\n      this.patchState({ selection: [], options: [], term: '', activeOptionIndex: -1, tempSelection: [] });\n      this.term$.next('');\n      this.input.value = '';\n    } else {\n      this.patchState({ selection: [], tempSelection: [] });\n    }\n  }\n\n  private reset(connector?: CatSelectConnector) {\n    this.connector = connector ?? this.connector;\n    this.subscription?.unsubscribe();\n    this.subscription = undefined;\n    this.state = INIT_STATE;\n  }\n\n  private onClick(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    const elem = event.target as Element;\n    this.trigger?.setAttribute('tabindex', '0');\n    this.input?.focus();\n    if (\n      elem === this.trigger ||\n      elem === this.input ||\n      elem.classList.contains('select-btn') ||\n      elem.nodeName === 'SPAN'\n    ) {\n      this.state.isOpen ? this.hide() : this.show();\n    }\n  }\n\n  private onInput() {\n    this.search(this.input?.value.trim() || '');\n    if (!this.multiple) {\n      if (this.state.selection.length) {\n        const selectionClone = [...this.state.selection];\n        selectionClone.pop();\n        this.patchState({ selection: selectionClone, tempSelection: [...this.state.selection] });\n      }\n\n      if (!this.input?.value.trim()) {\n        this.patchState({ tempSelection: [] });\n      }\n    }\n    this.show();\n  }\n\n  private update() {\n    if (this.trigger && this.dropdown) {\n      computePosition(this.trigger, this.dropdown, {\n        placement: this.placement,\n        middleware: [offset(CatSelect.DROPDOWN_OFFSET)]\n      }).then(({ x, y }) => {\n        if (this.dropdown) {\n          Object.assign(this.dropdown.style, {\n            left: `${x}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private patchState(update: Partial<CatSelectState>) {\n    this.state = { ...this.state, ...update };\n  }\n\n  private isPillboxActive() {\n    return this.state.activeSelectionIndex >= 0;\n  }\n\n  private get activeDescendant() {\n    let activeDescendant = undefined;\n    if (this.state.activeOptionIndex >= 0) {\n      activeDescendant = `select-${this.id}-option-${this.state.activeOptionIndex}`;\n    } else if (this.state.activeSelectionIndex >= 0) {\n      activeDescendant = `select-${this.id}-selection-${this.state.activeSelectionIndex}`;\n    }\n    return activeDescendant;\n  }\n\n  private onArrowKeyDown(event: KeyboardEvent) {\n    let preventDefault = false;\n    this.input?.focus();\n\n    switch (event.key) {\n      case 'ArrowDown':\n        preventDefault = true;\n        this.state.isOpen\n          ? this.patchState({\n              activeOptionIndex: Math.min(this.state.activeOptionIndex + 1, this.state.options.length - 1),\n              activeSelectionIndex: -1\n            })\n          : this.show();\n        break;\n      case 'ArrowUp':\n        preventDefault = true;\n        this.state.activeOptionIndex >= 0\n          ? this.patchState({\n              activeOptionIndex: Math.max(this.state.activeOptionIndex - 1, -1),\n              activeSelectionIndex: -1\n            })\n          : this.hide();\n        break;\n      case 'ArrowLeft':\n        if (this.input?.selectionStart === 0) {\n          preventDefault = true;\n          let index;\n          this.state.activeSelectionIndex > 0\n            ? (index = Math.max(this.state.activeSelectionIndex - 1, -1))\n            : (index = this.state.selection.length - 1);\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n        break;\n      case 'ArrowRight':\n        if (this.state.activeSelectionIndex >= 0) {\n          preventDefault = true;\n          let index = -1;\n          if (this.state.activeSelectionIndex < this.state.selection.length - 1) {\n            index = Math.min(this.state.activeSelectionIndex + 1, this.state.selection.length - 1);\n          } else if (!this.state.term) {\n            index = 0;\n          }\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n    }\n\n    if (preventDefault) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  private get tagTextHelp() {\n    return this.tagHint && !this.isTagSelected(this.state.term) ? ' (' + this.tagHint + ')' : '';\n  }\n\n  private isTagSelected(term: string, selection: { item: Item; render: RenderInfo }[] = this.state.selection) {\n    return selection.findIndex(item => item.render.label.toLowerCase() === term.toLowerCase()) >= 0;\n  }\n\n  private createTag(term: string) {\n    if (term.trim().length && !this.isTagSelected(term)) {\n      const value = this.value as CatSelectMultipleTaggingValue;\n      const tags = value?.tags;\n      const tag = { id: `select-${this.id}-tag-${tags ? tags.length : 0}`, name: term };\n      this.select({ item: tag, render: { label: tag.name } });\n    }\n    this.setTransparentCaret();\n  }\n\n  private removeTag(label: string) {\n    if (this.isTagSelected(label)) {\n      const item = this.state.selection.find(item => item.render.label.toLowerCase() === label.toLowerCase());\n      item && this.deselect(item.item.id);\n    }\n  }\n\n  private toggleTag(item: { item: Item; render: RenderInfo }) {\n    this.isTagSelected(item.render.label) ? this.removeTag(item.render.label) : this.createTag(item.render.label);\n  }\n\n  private initIds() {\n    let ids: string[] = [];\n    if (this.value) {\n      if (!this.tags) {\n        if (this.multiple) {\n          ids = this.value as string[];\n        } else {\n          ids = [this.value as string];\n        }\n      } else {\n        if (this.multiple) {\n          const value = this.value as CatSelectMultipleTaggingValue;\n          ids = value.ids ? value.ids : [];\n        } else {\n          const value = this.value as CatSelectTaggingValue;\n          ids = value.id ? [value.id] : [];\n        }\n      }\n    }\n    return ids;\n  }\n\n  private initTags() {\n    let tags: string[] = [];\n    if (this.value) {\n      if (this.multiple) {\n        const value = this.value as CatSelectMultipleTaggingValue;\n        tags = value.tags ? value.tags : [];\n      } else {\n        const value = this.value as CatSelectTaggingValue;\n        tags = value.tag ? [value.tag] : [];\n      }\n    }\n    return tags;\n  }\n\n  private setTransparentCaret() {\n    if (!this.multiple) {\n      this.hide();\n      this.input?.classList.add('select-input-transparent-caret');\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","import { Component, h, Host } from '@stencil/core';\nimport { of, delay } from 'rxjs';\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  desc: string;\n}\n\ninterface Country {\n  id: string;\n  country: string;\n  capital?: string;\n}\n\n@Component({\n  tag: 'cat-select-demo',\n  shadow: true\n})\nexport class CatSelectTest {\n  private multipleSelect?: HTMLCatSelectElement;\n  private multipleSelectAvatar?: HTMLCatSelectElement;\n  private multipleSelectAvatarInitials?: HTMLCatSelectElement;\n  private multipleSelectTagging?: HTMLCatSelectElement;\n  private singleSelect?: HTMLCatSelectElement;\n  private singleSelectAvatar?: HTMLCatSelectElement;\n  private singleSelectAvatarInitials?: HTMLCatSelectElement;\n  private singleSelectTagging?: HTMLCatSelectElement;\n\n  componentDidLoad(): void {\n    this.multipleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.multipleSelectAvatar?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    });\n    this.multipleSelectAvatarInitials?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          round: true,\n          initials: `JD`\n        }\n      })\n    });\n    this.multipleSelectTagging?.connect(this.countryConnector);\n    this.singleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.singleSelectAvatar?.connect(this.countryConnector);\n    this.singleSelectAvatarInitials?.connect({\n      ...this.countryConnector,\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          round: true,\n          initials: `${country.country.charAt(0)?.toUpperCase() ?? 'J'}${\n            country.capital?.charAt(0)?.toUpperCase() ?? 'D'\n          }`\n        }\n      })\n    });\n    this.singleSelectTagging?.connect(this.countryConnector);\n    setTimeout(() => this.multipleSelect && (this.multipleSelect.value = []), 5000);\n  }\n\n  render() {\n    return (\n      <Host style={{ display: 'flex', flexDirection: 'column' }}>\n        <cat-select\n          label=\"Multiple Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelect = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          onCatChange={() => console.log('Multiple change', this.multipleSelect?.value)}\n          onCatBlur={e => console.log('Multiple blur', e)}\n          multiple\n          noItems=\"No results\"\n          clearable\n          errorUpdate={false}\n        >\n          <span slot=\"hint\">Searching for \"no\" -{'>'} no options are returned!</span>\n        </cat-select>\n        <cat-select\n          label=\"Multiple with img\"\n          ref={el => (this.multipleSelectAvatar = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with initials\"\n          ref={el => (this.multipleSelectAvatarInitials = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with tagging support\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelectTagging = el)}\n          value={{ ids: ['1'], tags: ['Test', 'Albania', 'Algeria'] }}\n          placeholder=\"Select country\"\n          onCatChange={() => console.log('Multiple tagging change', this.multipleSelectTagging?.value)}\n          multiple\n          tags\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.singleSelect = el)}\n          placeholder=\"Search for a country or capital\"\n          onCatBlur={e => console.log('Single blur', e)}\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with img\"\n          ref={el => (this.singleSelectAvatar = el)}\n          value={'1'}\n          placeholder=\"Search for a country or capital\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with initials\"\n          ref={el => (this.singleSelectAvatarInitials = el)}\n          placeholder=\"Hello World\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-dropdown overflow noAutoClose>\n          <cat-button slot=\"trigger\" style={{ width: '50%' }}>\n            Open select\n          </cat-button>\n          <div slot=\"content\" style={{ width: '400px' }}>\n            <cat-select\n              label=\"Single with tagging support\"\n              ref={el => (this.singleSelectTagging = el)}\n              value={{ id: '', tag: 'Albania' }}\n              placeholder=\"Search for a country or capital\"\n              onCatChange={() => console.log('Single change', this.singleSelectTagging?.value)}\n              tagHint=\"new country\"\n              tags\n              clearable\n              errorUpdate={false}\n              style={{ width: '90%' }}\n            ></cat-select>\n          </div>\n        </cat-dropdown>\n      </Host>\n    );\n  }\n\n  private get countryConnector() {\n    return {\n      resolve: (ids: string[]) => {\n        return of(ids.map(id => countries.find(value => value.id === id))).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        const filter = countries.filter(\n          value =>\n            value.country.toLowerCase().indexOf(term.toLowerCase()) === 0 ||\n            value.capital?.toLowerCase().indexOf(term.toLowerCase()) === 0\n        );\n        const slice = filter.slice(page * 10, page * 10 + 10);\n        return of({\n          last: slice.length < 10,\n          totalElements: filter.length,\n          content: slice\n        }).pipe(delay(500));\n      },\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    };\n  }\n}\n\nconst countries: Country[] = [\n  {\n    id: '0',\n    country:\n      'Afghanistan Extra extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large ',\n    capital: 'Kabul'\n  },\n  {\n    id: '1',\n    country: 'Albania',\n    capital: 'Tirana'\n  },\n  {\n    id: '2',\n    country: 'Algeria',\n    capital: 'Alger'\n  },\n  {\n    id: '3',\n    country: 'American Samoa',\n    capital: 'Fagatogo'\n  },\n  {\n    id: '4',\n    country: 'Andorra',\n    capital: 'Andorra la Vella'\n  },\n  {\n    id: '5',\n    country: 'Angola',\n    capital: 'Luanda'\n  },\n  {\n    id: '6',\n    country: 'Anguilla',\n    capital: 'The Valley'\n  },\n  {\n    id: '7',\n    country: 'Antarctica'\n  },\n  {\n    id: '8',\n    country: 'Antigua and Barbuda',\n    capital: \"Saint John's\"\n  },\n  {\n    id: '9',\n    country: 'Argentina',\n    capital: 'Buenos Aires'\n  },\n  {\n    id: '10',\n    country: 'Armenia',\n    capital: 'Yerevan'\n  },\n  {\n    id: '11',\n    country: 'Aruba',\n    capital: 'Oranjestad'\n  },\n  {\n    id: '12',\n    country: 'Australia',\n    capital: 'Canberra'\n  },\n  {\n    id: '13',\n    country: 'Austria',\n    capital: 'Wien'\n  },\n  {\n    id: '14',\n    country: 'Azerbaijan',\n    capital: 'Baku'\n  },\n  {\n    id: '15',\n    country: 'Bahamas',\n    capital: 'Nassau'\n  },\n  {\n    id: '16',\n    country: 'Bahrain',\n    capital: 'al-Manama'\n  },\n  {\n    id: '17',\n    country: 'Bangladesh',\n    capital: 'Dhaka'\n  },\n  {\n    id: '18',\n    country: 'Barbados',\n    capital: 'Bridgetown'\n  },\n  {\n    id: '19',\n    country: 'Belarus',\n    capital: 'Minsk'\n  },\n  {\n    id: '20',\n    country: 'Belgium',\n    capital: 'Bruxelles [Brussel]'\n  },\n  {\n    id: '21',\n    country: 'Belize',\n    capital: 'Belmopan'\n  },\n  {\n    id: '22',\n    country: 'Benin',\n    capital: 'Porto-Novo'\n  },\n  {\n    id: '23',\n    country: 'Bermuda',\n    capital: 'Hamilton'\n  },\n  {\n    id: '24',\n    country: 'Bhutan',\n    capital: 'Thimphu'\n  },\n  {\n    id: '25',\n    country: 'Bolivia',\n    capital: 'La Paz'\n  },\n  {\n    id: '26',\n    country: 'Bosnia and Herzegovina',\n    capital: 'Sarajevo'\n  },\n  {\n    id: '27',\n    country: 'Botswana',\n    capital: 'Gaborone'\n  },\n  {\n    id: '28',\n    country: 'Bouvet Island'\n  },\n  {\n    id: '29',\n    country: 'Brazil',\n    capital: 'Brasília'\n  },\n  {\n    id: '30',\n    country: 'British Indian Ocean Territory'\n  },\n  {\n    id: '31',\n    country: 'Brunei',\n    capital: 'Bandar Seri Begawan'\n  },\n  {\n    id: '32',\n    country: 'Bulgaria',\n    capital: 'Sofia'\n  },\n  {\n    id: '33',\n    country: 'Burkina Faso',\n    capital: 'Ouagadougou'\n  },\n  {\n    id: '34',\n    country: 'Burundi',\n    capital: 'Bujumbura'\n  },\n  {\n    id: '35',\n    country: 'Cambodia',\n    capital: 'Phnom Penh'\n  },\n  {\n    id: '36',\n    country: 'Cameroon',\n    capital: 'Yaound'\n  },\n  {\n    id: '37',\n    country: 'Canada',\n    capital: 'Ottawa'\n  },\n  {\n    id: '38',\n    country: 'Cape Verde',\n    capital: 'Praia'\n  },\n  {\n    id: '39',\n    country: 'Cayman Islands',\n    capital: 'George Town'\n  },\n  {\n    id: '40',\n    country: 'Central African Republic',\n    capital: 'Bangui'\n  },\n  {\n    id: '41',\n    country: 'Chad',\n    capital: \"N'Djam\"\n  },\n  {\n    id: '42',\n    country: 'Chile',\n    capital: 'Santiago de Chile'\n  },\n  {\n    id: '43',\n    country: 'China',\n    capital: 'Peking'\n  },\n  {\n    id: '44',\n    country: 'Christmas Island',\n    capital: 'Flying Fish Cove'\n  },\n  {\n    id: '45',\n    country: 'Cocos (Keeling) Islands',\n    capital: 'West Island'\n  },\n  {\n    id: '46',\n    country: 'Colombia',\n    capital: 'Santaf'\n  },\n  {\n    id: '47',\n    country: 'Comoros',\n    capital: 'Moroni'\n  },\n  {\n    id: '48',\n    country: 'Congo',\n    capital: 'Brazzaville'\n  },\n  {\n    id: '49',\n    country: 'Cook Islands',\n    capital: 'Avarua'\n  },\n  {\n    id: '50',\n    country: 'Costa Rica',\n    capital: 'San José'\n  },\n  {\n    id: '51',\n    country: 'Croatia',\n    capital: 'Zagreb'\n  },\n  {\n    id: '52',\n    country: 'Cuba',\n    capital: 'La Habana'\n  },\n  {\n    id: '53',\n    country: 'Cyprus',\n    capital: 'Nicosia'\n  },\n  {\n    id: '54',\n    country: 'Czech Republic',\n    capital: 'Praha'\n  },\n  {\n    id: '55',\n    country: 'Denmark',\n    capital: 'Copenhagen'\n  },\n  {\n    id: '56',\n    country: 'Djibouti',\n    capital: 'Djibouti'\n  },\n  {\n    id: '57',\n    country: 'Dominica',\n    capital: 'Roseau'\n  },\n  {\n    id: '58',\n    country: 'Dominican Republic',\n    capital: 'Santo Domingo de Guzm'\n  },\n  {\n    id: '59',\n    country: 'East Timor',\n    capital: 'Dili'\n  },\n  {\n    id: '60',\n    country: 'Ecuador',\n    capital: 'Quito'\n  },\n  {\n    id: '61',\n    country: 'Egypt',\n    capital: 'Cairo'\n  },\n  {\n    id: '62',\n    country: 'El Salvador',\n    capital: 'San Salvador'\n  },\n  {\n    id: '63',\n    country: 'England',\n    capital: 'London'\n  },\n  {\n    id: '64',\n    country: 'Equatorial Guinea',\n    capital: 'Malabo'\n  },\n  {\n    id: '65',\n    country: 'Eritrea',\n    capital: 'Asmara'\n  },\n  {\n    id: '66',\n    country: 'Estonia',\n    capital: 'Tallinn'\n  },\n  {\n    id: '67',\n    country: 'Ethiopia',\n    capital: 'Addis Abeba'\n  },\n  {\n    id: '68',\n    country: 'Falkland Islands',\n    capital: 'Stanley'\n  },\n  {\n    id: '69',\n    country: 'Faroe Islands',\n    capital: 'Tórshavn'\n  },\n  {\n    id: '70',\n    country: 'Fiji Islands',\n    capital: 'Suva'\n  },\n  {\n    id: '71',\n    country: 'Finland',\n    capital: 'Helsinki [Helsingfors]'\n  },\n  {\n    id: '72',\n    country: 'France',\n    capital: 'Paris'\n  },\n  {\n    id: '73',\n    country: 'French Guiana',\n    capital: 'Cayenne'\n  },\n  {\n    id: '74',\n    country: 'French Polynesia',\n    capital: 'Papeete'\n  },\n  {\n    id: '75',\n    country: 'French Southern territories'\n  },\n  {\n    id: '76',\n    country: 'Gabon',\n    capital: 'Libreville'\n  },\n  {\n    id: '77',\n    country: 'Gambia',\n    capital: 'Banjul'\n  },\n  {\n    id: '78',\n    country: 'Georgia',\n    capital: 'Tbilisi'\n  },\n  {\n    id: '79',\n    country: 'Germany',\n    capital: 'Berlin'\n  },\n  {\n    id: '80',\n    country: 'Ghana',\n    capital: 'Accra'\n  },\n  {\n    id: '81',\n    country: 'Gibraltar',\n    capital: 'Gibraltar'\n  },\n  {\n    id: '82',\n    country: 'Greece',\n    capital: 'Athenai'\n  },\n  {\n    id: '83',\n    country: 'Greenland',\n    capital: 'Nuuk'\n  },\n  {\n    id: '84',\n    country: 'Grenada',\n    capital: \"Saint George's\"\n  },\n  {\n    id: '85',\n    country: 'Guadeloupe',\n    capital: 'Basse-Terre'\n  },\n  {\n    id: '86',\n    country: 'Guam',\n    capital: 'Aga'\n  },\n  {\n    id: '87',\n    country: 'Guatemala',\n    capital: 'Ciudad de Guatemala'\n  },\n  {\n    id: '88',\n    country: 'Guinea',\n    capital: 'Conakry'\n  },\n  {\n    id: '89',\n    country: 'Guinea-Bissau',\n    capital: 'Bissau'\n  },\n  {\n    id: '90',\n    country: 'Guyana',\n    capital: 'Georgetown'\n  },\n  {\n    id: '91',\n    country: 'Haiti',\n    capital: 'Port-au-Prince'\n  },\n  {\n    id: '92',\n    country: 'Heard Island and McDonald Islands'\n  },\n  {\n    id: '93',\n    country: 'Holy See (Vatican City State)',\n    capital: 'Citt'\n  },\n  {\n    id: '94',\n    country: 'Honduras',\n    capital: 'Tegucigalpa'\n  },\n  {\n    id: '95',\n    country: 'Hong Kong',\n    capital: 'Victoria'\n  },\n  {\n    id: '96',\n    country: 'Hungary',\n    capital: 'Budapest'\n  },\n  {\n    id: '97',\n    country: 'Iceland',\n    capital: 'Reykjavík'\n  },\n  {\n    id: '98',\n    country: 'India',\n    capital: 'New Delhi'\n  },\n  {\n    id: '99',\n    country: 'Indonesia',\n    capital: 'Jakarta'\n  },\n  {\n    id: '100',\n    country: 'Iran',\n    capital: 'Tehran'\n  },\n  {\n    id: '101',\n    country: 'Iraq',\n    capital: 'Baghdad'\n  },\n  {\n    id: '102',\n    country: 'Ireland',\n    capital: 'Dublin'\n  },\n  {\n    id: '103',\n    country: 'Israel',\n    capital: 'Jerusalem'\n  },\n  {\n    id: '104',\n    country: 'Italy',\n    capital: 'Roma'\n  },\n  {\n    id: '105',\n    country: 'Ivory Coast',\n    capital: 'Yamoussoukro'\n  },\n  {\n    id: '106',\n    country: 'Jamaica',\n    capital: 'Kingston'\n  },\n  {\n    id: '107',\n    country: 'Japan',\n    capital: 'Tokyo'\n  },\n  {\n    id: '108',\n    country: 'Jordan',\n    capital: 'Amman'\n  },\n  {\n    id: '109',\n    country: 'Kazakhstan',\n    capital: 'Astana'\n  },\n  {\n    id: '110',\n    country: 'Kenya',\n    capital: 'Nairobi'\n  },\n  {\n    id: '111',\n    country: 'Kiribati',\n    capital: 'Bairiki'\n  },\n  {\n    id: '112',\n    country: 'Kuwait',\n    capital: 'Kuwait'\n  },\n  {\n    id: '113',\n    country: 'Kyrgyzstan',\n    capital: 'Bishkek'\n  },\n  {\n    id: '114',\n    country: 'Laos',\n    capital: 'Vientiane'\n  },\n  {\n    id: '115',\n    country: 'Latvia',\n    capital: 'Riga'\n  },\n  {\n    id: '116',\n    country: 'Lebanon',\n    capital: 'Beirut'\n  },\n  {\n    id: '117',\n    country: 'Lesotho',\n    capital: 'Maseru'\n  },\n  {\n    id: '118',\n    country: 'Liberia',\n    capital: 'Monrovia'\n  },\n  {\n    id: '119',\n    country: 'Libyan Arab Jamahiriya',\n    capital: 'Tripoli'\n  },\n  {\n    id: '120',\n    country: 'Liechtenstein',\n    capital: 'Vaduz'\n  },\n  {\n    id: '121',\n    country: 'Lithuania',\n    capital: 'Vilnius'\n  },\n  {\n    id: '122',\n    country: 'Luxembourg',\n    capital: 'Luxembourg [Luxemburg/L'\n  },\n  {\n    id: '123',\n    country: 'Macao',\n    capital: 'Macao'\n  },\n  {\n    id: '124',\n    country: 'North Macedonia',\n    capital: 'Skopje'\n  },\n  {\n    id: '125',\n    country: 'Madagascar',\n    capital: 'Antananarivo'\n  },\n  {\n    id: '126',\n    country: 'Malawi',\n    capital: 'Lilongwe'\n  },\n  {\n    id: '127',\n    country: 'Malaysia',\n    capital: 'Kuala Lumpur'\n  },\n  {\n    id: '128',\n    country: 'Maldives',\n    capital: 'Male'\n  },\n  {\n    id: '129',\n    country: 'Mali',\n    capital: 'Bamako'\n  },\n  {\n    id: '130',\n    country: 'Malta',\n    capital: 'Valletta'\n  },\n  {\n    id: '131',\n    country: 'Marshall Islands',\n    capital: 'Dalap-Uliga-Darrit'\n  },\n  {\n    id: '132',\n    country: 'Martinique',\n    capital: 'Fort-de-France'\n  },\n  {\n    id: '133',\n    country: 'Mauritania',\n    capital: 'Nouakchott'\n  },\n  {\n    id: '134',\n    country: 'Mauritius',\n    capital: 'Port-Louis'\n  },\n  {\n    id: '135',\n    country: 'Mayotte',\n    capital: 'Mamoutzou'\n  },\n  {\n    id: '136',\n    country: 'Mexico',\n    capital: 'Ciudad de M'\n  },\n  {\n    id: '137',\n    country: 'Micronesia, Federated States of',\n    capital: 'Palikir'\n  },\n  {\n    id: '138',\n    country: 'Moldova',\n    capital: 'Chisinau'\n  },\n  {\n    id: '139',\n    country: 'Monaco',\n    capital: 'Monaco-Ville'\n  },\n  {\n    id: '140',\n    country: 'Mongolia',\n    capital: 'Ulan Bator'\n  },\n  {\n    id: '141',\n    country: 'Montenegro',\n    capital: 'Podgorica'\n  },\n  {\n    id: '142',\n    country: 'Montserrat',\n    capital: 'Plymouth'\n  },\n  {\n    id: '143',\n    country: 'Morocco',\n    capital: 'Rabat'\n  },\n  {\n    id: '144',\n    country: 'Mozambique',\n    capital: 'Maputo'\n  },\n  {\n    id: '145',\n    country: 'Myanmar',\n    capital: 'Rangoon (Yangon)'\n  },\n  {\n    id: '146',\n    country: 'Namibia',\n    capital: 'Windhoek'\n  },\n  {\n    id: '147',\n    country: 'Nauru',\n    capital: 'Yaren'\n  },\n  {\n    id: '148',\n    country: 'Nepal',\n    capital: 'Kathmandu'\n  },\n  {\n    id: '149',\n    country: 'Netherlands',\n    capital: 'Amsterdam'\n  },\n  {\n    id: '150',\n    country: 'Netherlands Antilles',\n    capital: 'Willemstad'\n  },\n  {\n    id: '151',\n    country: 'New Caledonia',\n    capital: 'Noum'\n  },\n  {\n    id: '152',\n    country: 'New Zealand',\n    capital: 'Wellington'\n  },\n  {\n    id: '153',\n    country: 'Nicaragua',\n    capital: 'Managua'\n  },\n  {\n    id: '154',\n    country: 'Niger',\n    capital: 'Niamey'\n  },\n  {\n    id: '155',\n    country: 'Nigeria',\n    capital: 'Abuja'\n  },\n  {\n    id: '156',\n    country: 'Niue',\n    capital: 'Alofi'\n  },\n  {\n    id: '157',\n    country: 'Norfolk Island',\n    capital: 'Kingston'\n  },\n  {\n    id: '158',\n    country: 'North Korea',\n    capital: 'Pyongyang'\n  },\n  {\n    id: '159',\n    country: 'Northern Ireland',\n    capital: 'Belfast'\n  },\n  {\n    id: '160',\n    country: 'Northern Mariana Islands',\n    capital: 'Garapan'\n  },\n  {\n    id: '161',\n    country: 'Norway',\n    capital: 'Oslo'\n  },\n  {\n    id: '162',\n    country: 'Oman',\n    capital: 'Masqat'\n  },\n  {\n    id: '163',\n    country: 'Pakistan',\n    capital: 'Islamabad'\n  },\n  {\n    id: '164',\n    country: 'Palau',\n    capital: 'Koror'\n  },\n  {\n    id: '165',\n    country: 'Palestine',\n    capital: 'Gaza'\n  },\n  {\n    id: '166',\n    country: 'Panama',\n    capital: 'Ciudad de Panamá'\n  },\n  {\n    id: '167',\n    country: 'Papua New Guinea',\n    capital: 'Port Moresby'\n  },\n  {\n    id: '168',\n    country: 'Paraguay',\n    capital: 'Asunción'\n  },\n  {\n    id: '169',\n    country: 'Peru',\n    capital: 'Lima'\n  },\n  {\n    id: '170',\n    country: 'Philippines',\n    capital: 'Manila'\n  },\n  {\n    id: '171',\n    country: 'Pitcairn',\n    capital: 'Adamstown'\n  },\n  {\n    id: '172',\n    country: 'Poland',\n    capital: 'Warszawa'\n  },\n  {\n    id: '173',\n    country: 'Portugal',\n    capital: 'Lisboa'\n  },\n  {\n    id: '174',\n    country: 'Puerto Rico',\n    capital: 'San Juan'\n  },\n  {\n    id: '175',\n    country: 'Qatar',\n    capital: 'Doha'\n  },\n  {\n    id: '176',\n    country: 'Reunion',\n    capital: 'Saint-Denis'\n  },\n  {\n    id: '177',\n    country: 'Romania',\n    capital: 'Bucuresti'\n  },\n  {\n    id: '178',\n    country: 'Russian Federation',\n    capital: 'Moscow'\n  },\n  {\n    id: '179',\n    country: 'Rwanda',\n    capital: 'Kigali'\n  },\n  {\n    id: '180',\n    country: 'Saint Helena',\n    capital: 'Jamestown'\n  },\n  {\n    id: '181',\n    country: 'Saint Kitts and Nevis',\n    capital: 'Basseterre'\n  },\n  {\n    id: '182',\n    country: 'Saint Lucia',\n    capital: 'Castries'\n  },\n  {\n    id: '183',\n    country: 'Saint Pierre and Miquelon',\n    capital: 'Saint-Pierre'\n  },\n  {\n    id: '184',\n    country: 'Saint Vincent and the Grenadines',\n    capital: 'Kingstown'\n  },\n  {\n    id: '185',\n    country: 'Samoa',\n    capital: 'Apia'\n  },\n  {\n    id: '186',\n    country: 'San Marino',\n    capital: 'San Marino'\n  },\n  {\n    id: '187',\n    country: 'Sao Tome and Principe',\n    capital: 'São Tomé'\n  },\n  {\n    id: '188',\n    country: 'Saudi Arabia',\n    capital: 'Riyadh'\n  },\n  {\n    id: '189',\n    country: 'Scotland',\n    capital: 'Edinburgh'\n  },\n  {\n    id: '190',\n    country: 'Senegal',\n    capital: 'Dakar'\n  },\n  {\n    id: '191',\n    country: 'Serbia',\n    capital: 'Belgrade'\n  },\n  {\n    id: '192',\n    country: 'Seychelles',\n    capital: 'Victoria'\n  },\n  {\n    id: '193',\n    country: 'Sierra Leone',\n    capital: 'Freetown'\n  },\n  {\n    id: '194',\n    country: 'Singapore',\n    capital: 'Singapore'\n  },\n  {\n    id: '195',\n    country: 'Slovakia',\n    capital: 'Bratislava'\n  },\n  {\n    id: '196',\n    country: 'Slovenia',\n    capital: 'Ljubljana'\n  },\n  {\n    id: '197',\n    country: 'Solomon Islands',\n    capital: 'Honiara'\n  },\n  {\n    id: '198',\n    country: 'Somalia',\n    capital: 'Mogadishu'\n  },\n  {\n    id: '199',\n    country: 'South Africa',\n    capital: 'Pretoria'\n  },\n  {\n    id: '200',\n    country: 'South Georgia and the South Sandwich Islands'\n  },\n  {\n    id: '201',\n    country: 'South Korea',\n    capital: 'Seoul'\n  },\n  {\n    id: '202',\n    country: 'South Sudan',\n    capital: 'Juba'\n  },\n  {\n    id: '203',\n    country: 'Spain',\n    capital: 'Madrid'\n  },\n  {\n    id: '204',\n    country: 'Sri Lanka',\n    capital: 'Colombo, Sri Jayawardenepura Kotte'\n  },\n  {\n    id: '205',\n    country: 'Sudan',\n    capital: 'Khartum'\n  },\n  {\n    id: '206',\n    country: 'Suriname',\n    capital: 'Paramaribo'\n  },\n  {\n    id: '207',\n    country: 'Svalbard and Jan Mayen',\n    capital: 'Longyearbyen'\n  },\n  {\n    id: '208',\n    country: 'Swaziland',\n    capital: 'Mbabane'\n  },\n  {\n    id: '209',\n    country: 'Sweden',\n    capital: 'Stockholm'\n  },\n  {\n    id: '210',\n    country: 'Switzerland',\n    capital: 'Bern'\n  },\n  {\n    id: '211',\n    country: 'Syria',\n    capital: 'Damascus'\n  },\n  {\n    id: '212',\n    country: 'Tajikistan',\n    capital: 'Dushanbe'\n  },\n  {\n    id: '213',\n    country: 'Tanzania',\n    capital: 'Dodoma'\n  },\n  {\n    id: '214',\n    country: 'Thailand',\n    capital: 'Bangkok'\n  },\n  {\n    id: '215',\n    country: 'The Democratic Republic of Congo',\n    capital: 'Kinshasa'\n  },\n  {\n    id: '216',\n    country: 'Togo',\n    capital: 'Lomé'\n  },\n  {\n    id: '217',\n    country: 'Tokelau',\n    capital: 'Fakaofo'\n  },\n  {\n    id: '218',\n    country: 'Tonga',\n    capital: \"Nuku'alofa\"\n  },\n  {\n    id: '219',\n    country: 'Trinidad and Tobago',\n    capital: 'Port-of-Spain'\n  },\n  {\n    id: '220',\n    country: 'Tunisia',\n    capital: 'Tunis'\n  },\n  {\n    id: '221',\n    country: 'Turkey',\n    capital: 'Ankara'\n  },\n  {\n    id: '222',\n    country: 'Turkmenistan',\n    capital: 'Ashgabat'\n  },\n  {\n    id: '223',\n    country: 'Turks and Caicos Islands',\n    capital: 'Cockburn Town'\n  },\n  {\n    id: '224',\n    country: 'Tuvalu',\n    capital: 'Funafuti'\n  },\n  {\n    id: '225',\n    country: 'Uganda',\n    capital: 'Kampala'\n  },\n  {\n    id: '226',\n    country: 'Ukraine',\n    capital: 'Kyiv'\n  },\n  {\n    id: '227',\n    country: 'United Arab Emirates',\n    capital: 'Abu Dhabi'\n  },\n  {\n    id: '228',\n    country: 'United Kingdom',\n    capital: 'London'\n  },\n  {\n    id: '229',\n    country: 'United States',\n    capital: 'Washington'\n  },\n  {\n    id: '230',\n    country: 'United States Minor Outlying Islands'\n  },\n  {\n    id: '231',\n    country: 'Uruguay',\n    capital: 'Montevideo'\n  },\n  {\n    id: '232',\n    country: 'Uzbekistan',\n    capital: 'Toskent'\n  },\n  {\n    id: '233',\n    country: 'Vanuatu',\n    capital: 'Port-Vila'\n  },\n  {\n    id: '234',\n    country: 'Venezuela',\n    capital: 'Caracas'\n  },\n  {\n    id: '235',\n    country: 'Vietnam',\n    capital: 'Hanoi'\n  },\n  {\n    id: '236',\n    country: 'Virgin Islands, British',\n    capital: 'Road Town'\n  },\n  {\n    id: '237',\n    country: 'Virgin Islands, U.S.',\n    capital: 'Charlotte Amalie'\n  },\n  {\n    id: '238',\n    country: 'Wales',\n    capital: 'Cardiff'\n  },\n  {\n    id: '239',\n    country: 'Wallis and Futuna',\n    capital: 'Mata-Utu'\n  },\n  {\n    id: '240',\n    country: 'Western Sahara',\n    capital: 'El-Aai'\n  },\n  {\n    id: '241',\n    country: 'Yemen',\n    capital: 'Sanaa'\n  },\n  {\n    id: '242',\n    country: 'Zambia',\n    capital: 'Lusaka'\n  },\n  {\n    id: '243',\n    country: 'Zimbabwe',\n    capital: 'Harare'\n  }\n];\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$skeleton-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  /**\n   * @prop --background: The background color of the skeleton.\n   * @prop --highlight: The highlight color of the skeleton.\n   * @prop --speed: The animation speed.\n   */\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  --background: #{cat-token('color.ui.background.skeleton')};\n  --highlight: #{cat-token('color.ui.background.skeletonHighlight')};\n  --speed: 2s;\n}\n\n:host([variant='square']),\n:host([variant='circle']) {\n  display: inline-flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([variant='head']) {\n  margin-bottom: $cat-head-margin-bottom;\n}\n\n:host([variant='body']) {\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n.skeleton {\n  display: block;\n  border-radius: cat-border-radius('m');\n  background: var(--background);\n}\n\n.skeleton-circle {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n@mixin size($size, $lvl) {\n  $-text-offset: 4px;\n  .skeleton-#{$size} {\n    &.skeleton-rectangle {\n      width: var(--width, 100%);\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-square,\n    &.skeleton-circle {\n      width: var(--width, map.get($skeleton-sizes, $size));\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-head,\n    &.skeleton-body {\n      width: var(--width, var(--line-width, 100%));\n    }\n\n    &.skeleton-head {\n      height: calc(#{cat-head-font-size($lvl)} - #{$-text-offset});\n      margin: calc((#{cat-head-line-height($lvl)} - #{cat-head-font-size($lvl)} + #{$-text-offset}) * 0.5) 0;\n    }\n\n    &.skeleton-body {\n      height: calc(#{cat-body-font-size($size)} - #{$-text-offset});\n      margin: calc((#{cat-body-line-height($size)} - #{cat-body-font-size($size)} + #{$-text-offset}) * 0.5) 0;\n    }\n  }\n}\n\n@include size('xs', 5);\n@include size('s', 4);\n@include size('m', 3);\n@include size('l', 2);\n@include size('xl', 1);\n\n// ----- animation\n\n.skeleton-sheen {\n  background: linear-gradient(90deg, var(--background) 33%, var(--highlight) 50%, var(--background) 66%)\n    var(--background);\n  background-size: 300% 100%;\n  animation: sheen var(--speed) ease-in-out infinite;\n}\n\n.skeleton-pulse {\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--highlight);\n    animation: var(--speed) ease-in-out 0.5s infinite normal none running pulse;\n    opacity: 0;\n  }\n}\n\n@keyframes sheen {\n  0% {\n    background-position: right;\n  }\n}\n\n@keyframes pulse {\n  50% {\n    opacity: 1;\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * Skeletons are used to show where content will eventually be drawn.\n */\n@Component({\n  tag: 'cat-skeleton',\n  styleUrl: 'cat-skeleton.scss',\n  shadow: true\n})\nexport class CatSkeleton {\n  /**\n   * The animation style of the skeleton.\n   */\n  @Prop() effect: 'plain' | 'sheen' | 'pulse' = 'sheen';\n\n  /**\n   * The rendering style of the skeleton.\n   */\n  @Prop() variant: 'rectangle' | 'square' | 'circle' | 'head' | 'body' = 'rectangle';\n\n  /**\n   * The size of the skeleton. If the variant is set to \"head\", the size values\n   * \"xs\" to \"xl\" translate to the head levels `h1` to `h5`.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The number of text lines to be rendered for \"head\" and \"body\" variants.\n   * Defaults to 1 for \"head\" and 3 for \"body\". Will be ignored for other\n   * variants.\n   */\n  @Prop() lines?: number;\n\n  render() {\n    return (\n      <Host>\n        {Array.from(Array(this.count)).map(() => (\n          <div\n            style={this.style}\n            class={{\n              skeleton: true,\n              [`skeleton-${this.effect}`]: Boolean(this.effect),\n              [`skeleton-${this.variant}`]: Boolean(this.variant),\n              [`skeleton-${this.size}`]: Boolean(this.size)\n            }}\n          ></div>\n        ))}\n      </Host>\n    );\n  }\n\n  private get count() {\n    switch (this.variant) {\n      case 'head':\n        return Math.max(1, this.lines || 1);\n      case 'body':\n        return Math.max(1, this.lines || 3);\n      default:\n        return 1;\n    }\n  }\n\n  private get style() {\n    return this.variant === 'head' || this.variant === 'body'\n      ? {\n          '--line-width': `${this.random(50, 100)}%`\n        }\n      : undefined;\n  }\n\n  private random(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$spinner-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n\n  &[hidden] {\n    display: none;\n  }\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: none;\n  stroke: currentColor;\n  stroke-dasharray: 135px;\n  stroke-dashoffset: 95px;\n  stroke-linecap: round;\n  stroke-width: 5px;\n  transform-origin: center center;\n  animation: spin 0.75s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite;\n  width: 1em;\n  height: 1em;\n}\n\n// ----- sizes\n\n@mixin size($size) {\n  .spinner-#{$size} svg {\n    font-size: map.get($spinner-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n\n// ----- animation\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n","import { Component, h, Prop } from '@stencil/core';\n\n/**\n * Spinners are used to indicate users that their action is being processed.\n */\n@Component({\n  tag: 'cat-spinner',\n  styleUrl: 'cat-spinner.scss',\n  shadow: true\n})\nexport class CatSpinner {\n  /**\n   * The size of the spinner.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the spinner that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        class={{\n          [`spinner-${this.size}`]: this.size !== 'inline'\n        }}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\n          <circle cx=\"24\" cy=\"24\" r=\"21.5\"></circle>\n        </svg>\n      </span>\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, h, Prop, Event, EventEmitter, Listen, Host, Element } from '@stencil/core';\nimport { Breakpoint } from '../../utils/breakpoints';\n\nlet nextUniqueId = 0;\n\n/**\n * A single tab inside a tabs component.\n */\n@Component({\n  tag: 'cat-tab',\n  styleUrl: 'cat-tab.scss',\n  shadow: true\n})\nexport class CatTab {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The label of the tab.\n   */\n  @Prop({ reflect: true }) label = '';\n\n  /**\n   * The name of an icon to be displayed in the tab.\n   */\n  @Prop({ reflect: true }) icon?: string;\n\n  /**\n   * Hide the actual button content and only display the tab.\n   */\n  @Prop({ reflect: true }) iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop({ reflect: true }) iconRight = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop({ reflect: true }) url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop({ reflect: true }) urlTarget?: '_blank' | '_self';\n\n  /**\n   * Specifies that the tab should be deactivated.\n   */\n  @Prop({ reflect: true }) deactivated = false;\n\n  /**\n   * Emitted when tab is clicked.\n   */\n  @Event() tabClick!: EventEmitter<MouseEvent>;\n\n  connectedCallback() {\n    if (!this.hostElement.id) {\n      this.hostElement.id = `cat-tab-${nextUniqueId++}`;\n    }\n  }\n\n  @Listen('click')\n  onClick(event: MouseEvent) {\n    this.tabClick.emit(event);\n  }\n\n  render() {\n    return <Host></Host>;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: row;\n  box-shadow: inset 0 -1px 0 0 cat-token('color.ui.border.dark');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([tabs-align='center']) {\n  justify-content: center;\n}\n\n:host([tabs-align='right']) {\n  justify-content: end;\n}\n\n:host([tabs-align='justify']) {\n  cat-button {\n    flex: 1 0 auto;\n  }\n}\n\n.cat-tab {\n  padding: 0.5rem 0;\n\n  &.cat-tab-active {\n    box-shadow: inset 0 -3px 0 0 cat-token('color.theme.primary.bg');\n  }\n}\n","import { Component, h, Element, State, Watch, Listen, Host, Prop } from '@stencil/core';\n\n/**\n * Tabs are used to display multiple panels to be contained within a single\n * window, using tabs as a navigational element.\n *\n * @part tab - The header of the tab.\n */\n@Component({\n  tag: 'cat-tabs',\n  styleUrl: 'cat-tabs.scss',\n  shadow: true\n})\nexport class CatTabs {\n  private buttons: HTMLCatButtonElement[] = [];\n  private mutationObserver?: MutationObserver;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() tabs: HTMLCatTabElement[] = [];\n\n  @State() activeTabId?: string;\n\n  /**\n   * The ID of the active tab.\n   */\n  @Prop() activeTab = '';\n\n  /**\n   * The alignment of the tabs.\n   */\n  @Prop() tabsAlign: 'left' | 'center' | 'right' | 'justify' = 'left';\n\n  @Watch('activeTabId')\n  onActiveTabChanged(newActiveTab: string): void {\n    const activeTab = this.tabs.find(value => value.id === newActiveTab);\n    activeTab?.click();\n  }\n\n  componentWillLoad(): void {\n    this.syncTabs();\n    if (this.tabs.length) {\n      this.activeTabId = this.activeTab;\n    }\n  }\n\n  componentDidLoad() {\n    this.mutationObserver = new MutationObserver(\n      mutations => mutations.some(value => value.target.nodeName === 'CAT-TAB') && this.syncTabs()\n    );\n\n    this.mutationObserver?.observe(this.hostElement, {\n      childList: true,\n      attributes: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {\n      const targetElements = this.buttons.filter(button => !button.disabled);\n      const activeElement = this.hostElement.shadowRoot?.activeElement as HTMLCatButtonElement;\n      const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.tabs.map((tab: HTMLCatTabElement) => {\n          return (\n            <cat-button\n              ref={el => el && this.updateButtonsRef(el)}\n              buttonId={tab.id}\n              role=\"tab\"\n              part=\"tab\"\n              class={{\n                'cat-tab': true,\n                'cat-tab-active': Boolean(this.activeTabId && tab.id === this.activeTabId)\n              }}\n              active={Boolean(this.activeTabId && tab.id === this.activeTabId)}\n              color={this.activeTabId && tab.id === this.activeTabId ? 'primary' : 'secondary'}\n              variant=\"text\"\n              icon={tab.icon}\n              iconOnly={tab.iconOnly}\n              iconRight={tab.iconRight}\n              url={tab.url}\n              disabled={tab.deactivated}\n              urlTarget={tab.urlTarget}\n              onCatClick={() => (this.activeTabId = tab.id)}\n            >\n              {tab.label}\n            </cat-button>\n          );\n        })}\n      </Host>\n    );\n  }\n\n  private updateButtonsRef(button: HTMLCatButtonElement) {\n    const indexOf = this.buttons.indexOf(button);\n\n    if (indexOf >= 0) {\n      this.buttons[indexOf] = button;\n    } else {\n      this.buttons.push(button);\n    }\n  }\n\n  private syncTabs() {\n    this.tabs = Array.from(this.hostElement.querySelectorAll('cat-tab'));\n  }\n}\n","var e=new Map;function t(t){var o=e.get(t);o&&o.destroy()}function o(t){var o=e.get(t);o&&o.update()}var r=null;\"undefined\"==typeof window?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return function(t){if(t&&t.nodeName&&\"TEXTAREA\"===t.nodeName&&!e.has(t)){var o,r=null,n=window.getComputedStyle(t),i=(o=t.value,function(){a({testForHeightReduction:\"\"===o||!t.value.startsWith(o),restoreTextAlign:null}),o=t.value}),l=function(o){t.removeEventListener(\"autosize:destroy\",l),t.removeEventListener(\"autosize:update\",s),t.removeEventListener(\"input\",i),window.removeEventListener(\"resize\",s),Object.keys(o).forEach(function(e){return t.style[e]=o[e]}),e.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener(\"autosize:destroy\",l),t.addEventListener(\"autosize:update\",s),t.addEventListener(\"input\",i),window.addEventListener(\"resize\",s),t.style.overflowX=\"hidden\",t.style.wordWrap=\"break-word\",e.set(t,{destroy:l,update:s}),s()}function a(e){var o,i,l=e.restoreTextAlign,s=void 0===l?null:l,d=e.testForHeightReduction,u=void 0===d||d,c=n.overflowY;if(0!==t.scrollHeight&&(\"vertical\"===n.resize?t.style.resize=\"none\":\"both\"===n.resize&&(t.style.resize=\"horizontal\"),u&&(o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],o=e[1];t.style.scrollBehavior=\"auto\",t.scrollTop=o,t.style.scrollBehavior=null})}}(t),t.style.height=\"\"),i=\"content-box\"===n.boxSizing?t.scrollHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):t.scrollHeight+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),\"none\"!==n.maxHeight&&i>parseFloat(n.maxHeight)?(\"hidden\"===n.overflowY&&(t.style.overflow=\"scroll\"),i=parseFloat(n.maxHeight)):\"hidden\"!==n.overflowY&&(t.style.overflow=\"hidden\"),t.style.height=i+\"px\",s&&(t.style.textAlign=s),o&&o(),r!==i&&(t.dispatchEvent(new Event(\"autosize:resized\",{bubbles:!0})),r=i),c!==n.overflow&&!s)){var v=n.textAlign;\"hidden\"===n.overflow&&(t.style.textAlign=\"start\"===v?\"end\":\"start\"),a({restoreTextAlign:v,testForHeightReduction:!0})}}function s(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e});var n=r;export default n;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.textarea-field,\n.textarea-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.textarea-field.textarea-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.textarea-wrapper {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.icon-suffix {\n  position: absolute;\n  top: calc(0.625rem - 2px);\n  right: 0.75rem;\n  background: cat-token('color.ui.background.input', 0.75);\n  border-radius: 100rem;\n\n  .textarea-disabled & {\n    background: cat-token('color.ui.background.muted', 0.75);\n  }\n}\n\ntextarea {\n  margin: 0;\n  padding: 0.625rem 0.75rem;\n  box-sizing: border-box;\n  min-height: form-label.$cat-input-height;\n  font: inherit;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  border: none;\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  resize: vertical;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n    resize: none;\n  }\n\n  &:not(:disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  .textarea-invalid & {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\nimport autosize from 'autosize';\nimport log from 'loglevel';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\n/**\n * Textarea specifies a control that allows user to write text over multiple\n * rows. Used when the expected user input is long. For shorter input, use the\n * input component.\n *\n * @slot hint - Optional hint element to be displayed with the textarea.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-textarea',\n  styleUrl: 'cat-textarea.scss',\n  shadow: true\n})\nexport class CatTextarea {\n  private readonly _id = `cat-textarea-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private textarea!: HTMLTextAreaElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the textarea is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Whether the textarea is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the textarea.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the textarea.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Specifies the initial number of lines in the textarea.\n   */\n  @Prop() rows = 3;\n\n  /**\n   * The initial value of the control.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML textarea element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the textarea received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the textarea loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on textarea', this);\n    }\n  }\n\n  componentDidLoad(): void {\n    autosize(this.textarea);\n  }\n\n  /**\n   * Programmatically move focus to the textarea. Use this method instead of\n   * `textarea.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.textarea.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the textarea. Use this method instead of\n   * `textarea.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.textarea.blur();\n  }\n\n  /**\n   * Clear the textarea.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n    this.catChange.emit(this.value);\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'textarea-field': true,\n            'textarea-horizontal': this.horizontal\n          }}\n        >\n          <div\n            class={{\n              hidden: this.labelHidden,\n              'label-container': true\n            }}\n          >\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n                <span class=\"label-wrapper\" part=\"label\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && this.requiredMarker.startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                    {this.maxLength && (\n                      <div class=\"label-character-count\" aria-hidden=\"true\">\n                        {this.value?.length ?? 0}/{this.maxLength}\n                      </div>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n          <div class=\"textarea-container\">\n            <div\n              class={{\n                'textarea-wrapper': true,\n                'textarea-disabled': this.disabled,\n                'textarea-invalid': this.invalid\n              }}\n            >\n              <textarea\n                {...this.nativeAttributes}\n                ref={el => (this.textarea = el as HTMLTextAreaElement)}\n                id={this.id}\n                disabled={this.disabled}\n                maxlength={this.maxLength}\n                minlength={this.minLength}\n                name={this.name}\n                placeholder={this.placeholder}\n                readonly={this.readonly}\n                required={this.required}\n                rows={this.rows}\n                value={this.value}\n                onInput={this.onInput.bind(this)}\n                onFocus={this.onFocus.bind(this)}\n                onBlur={this.onBlur.bind(this)}\n                aria-invalid={this.invalid ? 'true' : undefined}\n                aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n              ></textarea>\n              {this.invalid && (\n                <cat-icon\n                  icon=\"$cat:input-error\"\n                  class=\"icon-suffix cat-text-danger\"\n                  size=\"l\"\n                  onClick={() => this.textarea.focus()}\n                ></cat-icon>\n              )}\n            </div>\n            {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private onInput() {\n    this.value = this.textarea.value;\n    this.catChange.emit(this.value);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.textarea;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$toggle-width: 2rem;\n$toggle-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\ninput {\n  position: absolute;\n  margin: 0;\n  width: $toggle-width;\n  height: $toggle-height;\n  opacity: 0;\n  cursor: inherit;\n}\n\n.toggle-placeholder {\n  width: calc($toggle-width + 1px);\n}\n\n.toggle {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: $toggle-width;\n  height: $toggle-height;\n  border-radius: 10rem;\n  background-color: cat-token('color.ui.border.dark');\n  transition: background-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 1rem;\n    height: 1rem;\n    background: #fff;\n    border-radius: 10rem;\n    transform: translateX(calc(2px - 0.5rem));\n    transition: transform cat-token('time.transition.s') linear;\n    @include cat-elevation(2);\n\n    :checked + & {\n      transform: translateX(calc(-2px + 0.5rem));\n      background: cat-token('color.theme.primary.fill');\n    }\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n\n:host(.cat-error) {\n  .toggle {\n    background-color: cat-token('color.theme.danger.bg', 0.2);\n  }\n\n  :checked + .toggle {\n    background-color: cat-token('color.theme.danger.bg');\n\n    &::after {\n      background: cat-token('color.theme.danger.fill');\n    }\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Toggles are graphical interface switches that give user control over a\n * feature or option that can be turned on or off.\n *\n * @slot hint - Optional hint element to be displayed with the toggle.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part toggle - The toggle element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-toggle',\n  styleUrls: ['cat-toggle.scss'],\n  shadow: true\n})\nexport class CatToggle {\n  private readonly _id = `cat-toggle-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the toggle.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the toggle.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the toggle that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the toggle.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the toggle.\n   */\n  @Prop() value?: string;\n\n  /**\n   * The resolved value of the toggle, based on the checked state and value.\n   */\n  @Prop({ mutable: true }) resolvedValue: string | boolean | null = null;\n\n  /**\n   * Optional hint text(s) to be displayed with the toggle.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the toggle.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the checked status of the toggle is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string | null>;\n\n  /**\n   * Emitted when the toggle received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the toggle loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.updateResolved();\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on toggle', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the toggle. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the toggle. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            {...this.nativeAttributes}\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            class=\"form-check-input\"\n            role=\"switch\"\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"toggle\" part=\"toggle\"></span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"toggle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onInput() {\n    this.checked = this.input.checked;\n    this.updateResolved();\n    this.catChange.emit(this.resolvedValue);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n\n  private updateResolved() {\n    this.resolvedValue = this.value == null ? this.checked : this.checked ? this.value : null;\n  }\n}\n","const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n\nexport default isTouchDevice;\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-max-width: 20rem;\n$-box-shadow: rgb(0 0 0 / 8%) 0 1px 8px 0;\n$-shift-padding: 0.25rem; // padding given to the shift() middleware\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.tooltip {\n  --cat-font-color-head: cat-token('color.ui.font.tooltip', $wrap: false);\n  --cat-font-color-body: cat-token('color.ui.font.tooltip', $wrap: false);\n  position: fixed;\n  width: max-content;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  @include cat-body('s', 500);\n  background-color: cat-token('color.ui.background.tooltip');\n  border-radius: cat-border-radius('m');\n  color: cat-token('color.ui.font.tooltip');\n  transition: opacity cat-token('time.transition.m') linear, visibility cat-token('time.transition.m') linear;\n  visibility: hidden;\n  opacity: 0;\n  box-shadow: $-box-shadow;\n  z-index: $cat-tooltip-z-index;\n  max-width: min(calc(100vw - 2 * $-shift-padding), $-max-width);\n\n  &-hidden {\n    @include cat-visually-hidden;\n  }\n\n  &-show {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n\n// ----- round\n\n.tooltip-round {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n.tooltip-s {\n  padding: 0.375rem 0.5rem;\n\n  &.tooltip-round {\n    padding: 0.375rem 0.75rem;\n  }\n}\n\n.tooltip-m {\n  padding: 0.75rem;\n\n  &.tooltip-round {\n    padding: 0.75rem 1rem;\n  }\n}\n\n.tooltip-l {\n  padding: 1rem;\n\n  &.tooltip-round {\n    padding: 1rem 1.5rem;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, Placement, shift } from '@floating-ui/dom';\nimport { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\nimport isTouchScreen from '../../utils/is-touch-screen';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-tooltip',\n  styleUrl: 'cat-tooltip.scss',\n  shadow: true\n})\nexport class CatTooltip {\n  private static readonly OFFSET = 4;\n  private static readonly SHIFT_PADDING = 4;\n  private readonly id = `cat-tooltip-${nextUniqueId++}`;\n  private tooltip?: HTMLElement;\n  private trigger?: Element;\n  private showTimeout?: number;\n  private hideTimeout?: number;\n  private touchTimeout?: number;\n  private hidden = false;\n  private cleanupFloatingUi?: () => void;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedContent = false;\n\n  /**\n   * The content of the tooltip.\n   */\n  @Prop() content = '';\n\n  /**\n   * Specifies that the tooltip should be disabled. A disabled tooltip is unusable,\n   * and invisible. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placement of the tooltip.\n   */\n  @Prop() placement: Placement = 'top';\n\n  /**\n   * Use round tooltip edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The size of the tooltip.\n   */\n  @Prop() size: 's' | 'm' | 'l' = 'm';\n\n  /**\n   * The delay time for showing tooltip in ms.\n   */\n  @Prop() showDelay = 250;\n\n  /**\n   * The delay time for hiding tooltip in ms.\n   */\n  @Prop() hideDelay = 0;\n\n  /**\n   * The duration of tap to show the tooltip.\n   */\n  @Prop() longTouchDuration = 1000;\n\n  @Listen('keydown')\n  handleKeyDown({ key }: KeyboardEvent) {\n    key === 'Escape' && this.hideListener();\n  }\n\n  componentDidLoad(): void {\n    const slot = this.hostElement.shadowRoot?.querySelector('slot');\n    this.trigger = slot?.assignedElements?.()?.[0];\n    if (this.trigger && !this.trigger.hasAttribute('aria-describedby')) {\n      this.trigger.setAttribute('aria-describedby', this.id);\n    }\n\n    if (isTouchScreen) {\n      window.addEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.addEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.addEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.addEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.addEventListener('focusout', this.hideListener.bind(this));\n      this.trigger?.addEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.addEventListener('mouseleave', this.hideListener.bind(this));\n    }\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedContent = !!this.hostElement.querySelector('[slot=\"content\"]');\n    this.hidden = this.disabled || (!this.content && !this.hasSlottedContent);\n  }\n\n  disconnectedCallback(): void {\n    if (isTouchScreen) {\n      window.removeEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.removeEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.removeEventListener('mouseleave', this.hideListener.bind(this));\n      this.trigger?.removeEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.removeEventListener('focusout', this.hideListener.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot />\n        <div\n          ref={el => (this.tooltip = el)}\n          id={this.id}\n          aria-hidden={this.hidden}\n          class={{\n            tooltip: true,\n            'tooltip-hidden': this.hidden,\n            'tooltip-round': this.round,\n            [`tooltip-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          {this.hasSlottedContent ? <slot name=\"content\" /> : this.content}\n        </div>\n      </Host>\n    );\n  }\n\n  private async update() {\n    if (this.trigger && this.tooltip) {\n      await computePosition(this.trigger, this.tooltip, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [offset(CatTooltip.OFFSET), flip(), shift({ padding: CatTooltip.SHIFT_PADDING })]\n      }).then(({ x, y }) => {\n        if (this.tooltip) {\n          Object.assign(this.tooltip.style, {\n            left: `${Math.max(0, x)}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private showListener() {\n    window.clearTimeout(this.hideTimeout);\n    this.showTimeout = window.setTimeout(() => {\n      this.showTooltip();\n    }, this.showDelay);\n  }\n\n  private hideListener() {\n    window.clearTimeout(this.showTimeout);\n    this.hideTimeout = window.setTimeout(() => {\n      this.tooltip?.classList.remove('tooltip-show');\n      this.hideTooltip();\n    }, this.hideDelay);\n  }\n\n  private touchStartListener(event: Event) {\n    event.stopPropagation();\n    this.touchTimeout = window.setTimeout(() => {\n      this.showTooltip();\n    }, this.longTouchDuration);\n  }\n\n  private touchEndListener() {\n    if (this.touchTimeout) {\n      window.clearTimeout(this.touchTimeout);\n      this.hideTooltip();\n    }\n  }\n\n  private windowTouchStartListener() {\n    this.tooltip?.classList.remove('tooltip-show');\n  }\n\n  private showTooltip() {\n    if (this.trigger && this.tooltip) {\n      this.cleanupFloatingUi = autoUpdate(this.trigger, this.tooltip, () => this.update());\n    }\n    !this.hidden && this.tooltip?.classList.add('tooltip-show');\n  }\n\n  private hideTooltip() {\n    if (this.cleanupFloatingUi) {\n      this.cleanupFloatingUi();\n    }\n  }\n}\n"],"mappings":"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"}