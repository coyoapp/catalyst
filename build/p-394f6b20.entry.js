import{r as t,h as i,g as a}from"./p-f80e3399.js";import{c as o,f as e}from"./p-60a20ebe.js";const s=":host{display:block}:host([hidden]){display:none}.modal-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgb(rgb(var(--cat-bg-backdrop, 0, 0, 0)), var(--cat-opacity-backdrop, 0.6));z-index:2;display:flex}.modal-wrapper[aria-hidden=true]{display:none}.modal{margin:auto;z-index:2;position:relative;background-color:white;border-radius:var(--cat-border-radius-l, 0.5rem);max-width:100%;padding:32px}.modal-header{display:flex;justify-content:end;align-self:stretch}.modal-header .close-button::part(button){box-shadow:unset}.modal-content{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;margin:16px 0}.modal-s{width:400px}.modal-m{width:600px}.modal-l{width:800px}";const l=class{constructor(i){t(this,i);this.isVisible=false;this.size="m"}componentDidLoad(){if(this.modal){this.trap=o(this.modal,{tabbableOptions:{getShadowRoot:true},initialFocus:e(this.closeButton),allowOutsideClick:true,clickOutsideDeactivates:t=>!this.modal||!t.composedPath().includes(this.modal),onDeactivate:()=>this.isVisible=false,setReturnFocus:t=>t instanceof HTMLElement?e(t):t})}}componentDidUpdate(){var t;if(this.isVisible)(t=this.trap)===null||t===void 0?void 0:t.activate();this.updateAccessibility(this.hostElement)}async show(){this.isVisible=true}render(){return i("div",{"aria-modal":true,role:"dialog","aria-hidden":!this.isVisible?"true":"false",class:"modal-wrapper"},i("div",{ref:t=>this.modal=t,class:{modal:true,[`modal-${this.size}`]:Boolean(this.size)}},i("div",{class:"modal-header"},i("cat-button",{ref:t=>this.closeButton=t,icon:"cross-outlined",class:"close-button",size:"s",iconOnly:true,a11yLabel:"close",onCatClick:this.onClick.bind(this)})),i("div",{class:"modal-content"},i("slot",null))))}onClick(){var t;(t=this.trap)===null||t===void 0?void 0:t.deactivate()}updateAccessibility(t){if(t.parentElement){Array.from(t.parentElement.children).forEach((i=>{if(i!==t){this.isVisible?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}}));if(t.parentElement!==document.body){this.updateAccessibility(t.parentElement)}}}get hostElement(){return a(this)}};l.style=s;export{l as cat_modal};
//# sourceMappingURL=p-394f6b20.entry.js.map