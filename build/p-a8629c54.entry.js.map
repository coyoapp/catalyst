{"version":3,"sources":["../node_modules/autosize/dist/autosize.esm.js","src/components/cat-textarea/cat-textarea.scss?tag=cat-textarea&encapsulation=shadow","src/components/cat-textarea/cat-textarea.tsx"],"names":["e","t","n","Map","has","indexOf","get","set","o","push","delete","splice","Event","bubbles","document","createEvent","initEvent","r","destroy","i","update","l","window","getComputedStyle","Array","prototype","forEach","call","length","nodeName","d","clientWidth","c","a","removeEventListener","Object","keys","style","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","u","width","s","scrollHeight","parentNode","Element","scrollTop","node","documentElement","Math","round","offsetHeight","dispatchEvent","catTextareaCss","nextUniqueId","CatTextarea","[object Object]","hostRef","this","id","disabled","label","labelHidden","name","readonly","required","rows","log","error","autosize","textarea","options","focus","h","Host","htmlFor","class","hidden","part","aria-hidden","ref","el","maxlength","maxLength","minlength","minLength","placeholder","value","onInput","onFocus","onBlur","hint","event","catChange","emit","catFocus","catBlur"],"mappings":"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","sourcesContent":["var e,t,n=\"function\"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event(\"test\")}catch(e){o=function(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;\"undefined\"==typeof window||\"function\"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&\"TEXTAREA\"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,d=function(){e.clientWidth!==i&&c()},a=function(t){window.removeEventListener(\"resize\",d,!1),e.removeEventListener(\"input\",c,!1),e.removeEventListener(\"keyup\",c,!1),e.removeEventListener(\"autosize:destroy\",a,!1),e.removeEventListener(\"autosize:update\",c,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener(\"autosize:destroy\",a,!1),\"onpropertychange\"in e&&\"oninput\"in e&&e.addEventListener(\"keyup\",c,!1),window.addEventListener(\"resize\",d,!1),e.addEventListener(\"input\",c,!1),e.addEventListener(\"autosize:update\",c,!1),e.style.overflowX=\"hidden\",e.style.wordWrap=\"break-word\",n.set(e,{destroy:a,update:c}),\"vertical\"===(t=window.getComputedStyle(e,null)).resize?e.style.resize=\"none\":\"both\"===t.resize&&(e.style.resize=\"horizontal\"),r=\"content-box\"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),c()}function u(t){var n=e.style.width;e.style.width=\"0px\",e.style.width=n,e.style.overflowY=t}function s(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height=\"\",e.style.height=e.scrollHeight+r+\"px\",i=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function c(){s();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?\"hidden\"===n.overflowY&&(u(\"scroll\"),s(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):\"hidden\"!==n.overflowY&&(u(\"hidden\"),s(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o(\"autosize:resized\");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var d=l;export default d;\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\ntextarea {\n  margin: 0;\n  padding: 0.625rem 0.75rem;\n  min-height: cat-size('m');\n  font: inherit;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  border: none;\n  box-shadow: 0 0 0 1px cat-token('color.ui.border.input');\n  transition: box-shadow cat-token('time.transition.s') linear;\n\n  &:disabled {\n    background: cat-token('color.ui.background.inputDisabled');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n    resize: none;\n  }\n\n  &:hover:not(:disabled) {\n    box-shadow: 0 0 0 2px cat-token('color.ui.border.input');\n  }\n\n  &:focus {\n    outline: 2px solid cat-token('color.ui.border.focus');\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n}\n\n.input-hint {\n  @include cat-body('s');\n  margin: 0;\n}\n","import { Component, Event, EventEmitter, h, Host, Method, Prop } from '@stencil/core';\nimport log from 'loglevel';\nimport autosize from 'autosize';\n\nlet nextUniqueId = 0;\n\n/**\n * Textarea specifies a control that allows user to write text over multiple\n * rows. Used when the expected user input is long. For shorter input, use the\n * input component.\n *\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-textarea',\n  styleUrl: 'cat-textarea.scss',\n  shadow: true\n})\nexport class CatTextarea {\n  private readonly id = `cat-textarea-${nextUniqueId++}`;\n  private textarea!: HTMLTextAreaElement;\n\n  /**\n   * Whether the textarea is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text to be displayed with the textarea.\n   */\n  @Prop() hint?: string;\n\n  /**\n   * The label for the textarea.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name = '';\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Specifies the initial number of lines in the textarea.\n   */\n  @Prop() rows = 3;\n\n  /**\n   * The initial value of the control.\n   */\n  @Prop() value?: string | number;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the textarea received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the textarea loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    if (!this.label) {\n      log.error('[A11y] Missing ARIA label on textarea', this);\n    }\n  }\n\n  componentDidLoad(): void {\n    autosize(this.textarea);\n  }\n\n  /**\n   * Sets focus on the textarea. Use this method instead of `textarea.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.textarea.focus(options);\n  }\n\n  // /**\n  //  * Clear the input.\n  //  */\n  // @Method()\n  // async clear(): Promise<void> {\n  //   this.inputValue = '';\n  // }\n\n  render() {\n    return (\n      <Host>\n        {this.label && (\n          <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n            <span part=\"label\">\n              {this.label}\n              {!this.required && (\n                <span class=\"input-optional\" aria-hidden=\"true\">\n                  (Optional)\n                </span>\n              )}\n            </span>\n          </label>\n        )}\n        <textarea\n          ref={el => (this.textarea = el as HTMLTextAreaElement)}\n          id={this.id}\n          disabled={this.disabled}\n          maxlength={this.maxLength}\n          minlength={this.minLength}\n          name={this.name}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          required={this.required}\n          rows={this.rows}\n          value={this.value}\n          onInput={this.onInput.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        ></textarea>\n        {this.hint && <p class=\"input-hint\">{this.hint}</p>}\n      </Host>\n    );\n  }\n\n  private onInput(event: Event) {\n    // this.inputValue = πthis.input.value;\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n"]}