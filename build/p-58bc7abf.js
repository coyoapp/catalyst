var n=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(n,e,o){return o={path:e,exports:{},require:function(n,e){return t()}},n(o,o.exports),o.exports}function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var o=e((function(e){(function(n,t){if(e.exports){e.exports=t()}else{n.log=t()}})(n,(function(){var n=function(){};var e="undefined";var t=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent);var o=["trace","debug","info","warn","error"];function i(n,e){var t=n[e];if(typeof t.bind==="function"){return t.bind(n)}else{try{return Function.prototype.bind.call(t,n)}catch(e){return function(){return Function.prototype.apply.apply(t,[n,arguments])}}}}function r(){if(console.log){if(console.log.apply){console.log.apply(console,arguments)}else{Function.prototype.apply.apply(console.log,[console,arguments])}}if(console.trace)console.trace()}function s(o){if(o==="debug"){o="log"}if(typeof console===e){return false}else if(o==="trace"&&t){return r}else if(console[o]!==undefined){return i(console,o)}else if(console.log!==undefined){return i(console,"log")}else{return n}}function f(e,t){for(var i=0;i<o.length;i++){var r=o[i];this[r]=i<e?n:this.methodFactory(r,e,t)}this.log=this.debug}function c(n,t,o){return function(){if(typeof console!==e){f.call(this,t,o);this[n].apply(this,arguments)}}}function u(n,e,t){return s(n)||c.apply(this,arguments)}function a(n,t,i){var r=this;var s;t=t==null?"WARN":t;var c="loglevel";if(typeof n==="string"){c+=":"+n}else if(typeof n==="symbol"){c=undefined}function a(n){var t=(o[n]||"silent").toUpperCase();if(typeof window===e||!c)return;try{window.localStorage[c]=t;return}catch(n){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(n){}}function l(){var n;if(typeof window===e||!c)return;try{n=window.localStorage[c]}catch(n){}if(typeof n===e){try{var t=window.document.cookie;var o=t.indexOf(encodeURIComponent(c)+"=");if(o!==-1){n=/^([^;]+)/.exec(t.slice(o))[1]}}catch(n){}}if(r.levels[n]===undefined){n=undefined}return n}function d(){if(typeof window===e||!c)return;try{window.localStorage.removeItem(c);return}catch(n){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(n){}}r.name=n;r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};r.methodFactory=i||u;r.getLevel=function(){return s};r.setLevel=function(t,o){if(typeof t==="string"&&r.levels[t.toUpperCase()]!==undefined){t=r.levels[t.toUpperCase()]}if(typeof t==="number"&&t>=0&&t<=r.levels.SILENT){s=t;if(o!==false){a(t)}f.call(r,t,n);if(typeof console===e&&t<r.levels.SILENT){return"No console available for logging"}}else{throw"log.setLevel() called with invalid level: "+t}};r.setDefaultLevel=function(n){t=n;if(!l()){r.setLevel(n,false)}};r.resetLevel=function(){r.setLevel(t,false);d()};r.enableAll=function(n){r.setLevel(r.levels.TRACE,n)};r.disableAll=function(n){r.setLevel(r.levels.SILENT,n)};var w=l();if(w==null){w=t}r.setLevel(w,false)}var l=new a;var d={};l.getLogger=function n(e){if(typeof e!=="symbol"&&typeof e!=="string"||e===""){throw new TypeError("You must supply a name when creating a logger.")}var t=d[e];if(!t){t=d[e]=new a(e,l.getLevel(),l.methodFactory)}return t};var w=typeof window!==e?window.log:undefined;l.noConflict=function(){if(typeof window!==e&&window.log===l){window.log=w}return l};l.getLoggers=function n(){return d};l["default"]=l;return l}))}));class i{constructor(){this.id=(Math.random()+1).toString(36).substring(2);this.i18n=new Map;window.addEventListener("cat-i18n-set",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.set(e.i18n,true)}}));window.addEventListener("cat-i18n-clear",(n=>{const{detail:e}=n||{};if(e&&e.id!==this.id){this.clear(true)}}))}static getInstance(){if(!i.instance){i.instance=new i}return i.instance}getLocale(){return this._locale??window?.navigator?.language??"en"}setLocale(n){try{this._locale=Intl.getCanonicalLocales(n)[0];o.info(`[CatI18nRegistry] Set locale: ${this._locale}`)}catch(e){o.error(`[CatI18nRegistry] Invalid locale: ${n}`)}}set(n,e=false){const t=Object.entries(n);t.forEach((([n,e])=>this.i18n.set(n,e)));o.info(`[CatI18nRegistry] Registered ${t.length!==1?"messages":"message"}`);!e&&window.dispatchEvent(this.buildEvent("cat-i18n-set",{i18n:n,id:this.id}))}clear(n=false){this.i18n.clear();o.info(`[CatI18nRegistry] Cleared messages`);!n&&window.dispatchEvent(this.buildEvent("cat-i18n-clear"))}t(n,e){const t=this.i18n.get(n);if(t===undefined){o.error(`[CatI18nRegistry] Unknown message key: ${n}`);return n}return t.replace(/{{\s*([-a-zA-Z._]+)\s*}}/g,((n,t)=>`${e?.[t]??""}`))}buildEvent(n,e){return new CustomEvent(n,{bubbles:true,composed:true,detail:e})}}const r=i.getInstance();export{i as C,n as a,r as b,e as c,o as l};
//# sourceMappingURL=p-58bc7abf.js.map