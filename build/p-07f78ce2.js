function n(n){return typeof n==="function"}function t(n){const t=n=>{Error.call(n);n.stack=(new Error).stack};const r=n(t);r.prototype=Object.create(Error.prototype);r.prototype.constructor=r;return r}const r=t((n=>function t(r){n(this);this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map(((n,t)=>`${t+1}) ${n.toString()}`)).join("\n  ")}`:"";this.name="UnsubscriptionError";this.errors=r}));function e(n,t){if(n){const r=n.indexOf(t);0<=r&&n.splice(r,1)}}class i{constructor(n){this.initialTeardown=n;this.closed=false;this._parentage=null;this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=true;const{_parentage:e}=this;if(e){this._parentage=null;if(Array.isArray(e)){for(const n of e){n.remove(this)}}else{e.remove(this)}}const{initialTeardown:i}=this;if(n(i)){try{i()}catch(n){t=n instanceof r?n.errors:[n]}}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const n of o){try{s(n)}catch(n){t=t!==null&&t!==void 0?t:[];if(n instanceof r){t=[...t,...n.errors]}else{t.push(n)}}}}if(t){throw new r(t)}}}add(n){var t;if(n&&n!==this){if(this.closed){s(n)}else{if(n instanceof i){if(n.closed||n._hasParent(this)){return}n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;if(t===n){this._parentage=null}else if(Array.isArray(t)){e(t,n)}}remove(n){const{_finalizers:t}=this;t&&e(t,n);if(n instanceof i){n._removeParent(this)}}}i.EMPTY=(()=>{const n=new i;n.closed=true;return n})();const o=i.EMPTY;function u(t){return t instanceof i||t&&"closed"in t&&n(t.remove)&&n(t.add)&&n(t.unsubscribe)}function s(t){if(n(t)){t()}else{t.unsubscribe()}}const c={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};const f={setTimeout(n,t,...r){const{delegate:e}=f;if(e===null||e===void 0?void 0:e.setTimeout){return e.setTimeout(n,t,...r)}return setTimeout(n,t,...r)},clearTimeout(n){const{delegate:t}=f;return((t===null||t===void 0?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:undefined};function l(n){f.setTimeout((()=>{const{onUnhandledError:t}=c;if(t){t(n)}else{throw n}}))}function a(){}const h=(()=>b("C",undefined,undefined))();function d(n){return b("E",undefined,n)}function y(n){return b("N",n,undefined)}function b(n,t,r){return{kind:n,value:t,error:r}}function v(n){{n()}}class p extends i{constructor(n){super();this.isStopped=false;if(n){this.destination=n;if(u(n)){n.add(this)}}else{this.destination=T}}static create(n,t,r){return new x(n,t,r)}next(n){if(this.isStopped){P(y(n),this)}else{this._next(n)}}error(n){if(this.isStopped){P(d(n),this)}else{this.isStopped=true;this._error(n)}}complete(){if(this.isStopped){P(h,this)}else{this.isStopped=true;this._complete()}}unsubscribe(){if(!this.closed){this.isStopped=true;super.unsubscribe();this.destination=null}}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function m(n,t){return w.call(n,t)}class S{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next){try{t.next(n)}catch(n){E(n)}}}error(n){const{partialObserver:t}=this;if(t.error){try{t.error(n)}catch(n){E(n)}}else{E(n)}}complete(){const{partialObserver:n}=this;if(n.complete){try{n.complete()}catch(n){E(n)}}}}class x extends p{constructor(t,r,e){super();let i;if(n(t)||!t){i={next:t!==null&&t!==void 0?t:undefined,error:r!==null&&r!==void 0?r:undefined,complete:e!==null&&e!==void 0?e:undefined}}else{let n;if(this&&c.useDeprecatedNextContext){n=Object.create(t);n.unsubscribe=()=>this.unsubscribe();i={next:t.next&&m(t.next,n),error:t.error&&m(t.error,n),complete:t.complete&&m(t.complete,n)}}else{i=t}}this.destination=new S(i)}}function E(n){{l(n)}}function _(n){throw n}function P(n,t){const{onStoppedNotification:r}=c;r&&f.setTimeout((()=>r(n,t)))}const T={closed:true,next:a,error:_,complete:a};const g=(()=>typeof Symbol==="function"&&Symbol.observable||"@@observable")();function O(n){return n}function j(n){if(n.length===0){return O}if(n.length===1){return n[0]}return function t(r){return n.reduce(((n,t)=>t(n)),r)}}class A{constructor(n){if(n){this._subscribe=n}}lift(n){const t=new A;t.source=this;t.operator=n;return t}subscribe(n,t,r){const e=N(n)?n:new x(n,t,r);v((()=>{const{operator:n,source:t}=this;e.add(n?n.call(e,t):t?this._subscribe(e):this._trySubscribe(e))}));return e}_trySubscribe(n){try{return this._subscribe(n)}catch(t){n.error(t)}}forEach(n,t){t=$(t);return new t(((t,r)=>{const e=new x({next:t=>{try{n(t)}catch(n){r(n);e.unsubscribe()}},error:r,complete:t});this.subscribe(e)}))}_subscribe(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)}[g](){return this}pipe(...n){return j(n)(this)}toPromise(n){n=$(n);return new n(((n,t)=>{let r;this.subscribe((n=>r=n),(n=>t(n)),(()=>n(r)))}))}}A.create=n=>new A(n);function $(n){var t;return(t=n!==null&&n!==void 0?n:c.Promise)!==null&&t!==void 0?t:Promise}function I(t){return t&&n(t.next)&&n(t.error)&&n(t.complete)}function N(n){return n&&n instanceof p||I(n)&&u(n)}function U(t){return n(t===null||t===void 0?void 0:t.lift)}function k(n){return t=>{if(U(t)){return t.lift((function(t){try{return n(t,this)}catch(n){this.error(n)}}))}throw new TypeError("Unable to lift unknown Observable type")}}function z(n,t,r,e,i){return new C(n,t,r,e,i)}class C extends p{constructor(n,t,r,e,i,o){super(n);this.onFinalize=i;this.shouldUnsubscribe=o;this._next=t?function(r){try{t(r)}catch(t){n.error(t)}}:super._next;this._error=e?function(t){try{e(t)}catch(t){n.error(t)}finally{this.unsubscribe()}}:super._error;this._complete=r?function(){try{r()}catch(t){n.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe();!t&&((n=this.onFinalize)===null||n===void 0?void 0:n.call(this))}}}function D(t){return t&&n(t.schedule)}function Y(n){return n[n.length-1]}function F(n){return D(Y(n))?n.pop():undefined}function H(n,t){return typeof Y(n)==="number"?n.pop():t}function R(n,t,r,e){function i(n){return n instanceof r?n:new r((function(t){t(n)}))}return new(r||(r=Promise))((function(r,o){function u(n){try{c(e.next(n))}catch(n){o(n)}}function s(n){try{c(e["throw"](n))}catch(n){o(n)}}function c(n){n.done?r(n.value):i(n.value).then(u,s)}c((e=e.apply(n,t||[])).next())}))}function q(n){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&n[t],e=0;if(r)return r.call(n);if(n&&typeof n.length==="number")return{next:function(){if(n&&e>=n.length)n=void 0;return{value:n&&n[e++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(n){return this instanceof B?(this.v=n,this):new B(n)}function G(n,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r.apply(n,t||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(n){if(e[n])i[n]=function(t){return new Promise((function(r,e){o.push([n,t,r,e])>1||s(n,t)}))}}function s(n,t){try{c(e[n](t))}catch(n){a(o[0][3],n)}}function c(n){n.value instanceof B?Promise.resolve(n.value.v).then(f,l):a(o[0][2],n)}function f(n){s("next",n)}function l(n){s("throw",n)}function a(n,t){if(n(t),o.shift(),o.length)s(o[0][0],o[0][1])}}function J(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],r;return t?t.call(n):(n=typeof q==="function"?q(n):n[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r);function e(t){r[t]=n[t]&&function(r){return new Promise((function(e,o){r=n[t](r),i(e,o,r.done,r.value)}))}}function i(n,t,r,e){Promise.resolve(e).then((function(t){n({value:t,done:r})}),t)}}const K=n=>n&&typeof n.length==="number"&&typeof n!=="function";function L(t){return n(t===null||t===void 0?void 0:t.then)}function M(t){return n(t[g])}function Q(t){return Symbol.asyncIterator&&n(t===null||t===void 0?void 0:t[Symbol.asyncIterator])}function V(n){return new TypeError(`You provided ${n!==null&&typeof n==="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function W(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}const X=W();function Z(t){return n(t===null||t===void 0?void 0:t[X])}function nn(n){return G(this,arguments,(function*t(){const r=n.getReader();try{while(true){const{value:n,done:t}=yield B(r.read());if(t){return yield B(void 0)}yield yield B(n)}}finally{r.releaseLock()}}))}function tn(t){return n(t===null||t===void 0?void 0:t.getReader)}function rn(n){if(n instanceof A){return n}if(n!=null){if(M(n)){return en(n)}if(K(n)){return on(n)}if(L(n)){return un(n)}if(Q(n)){return cn(n)}if(Z(n)){return sn(n)}if(tn(n)){return fn(n)}}throw V(n)}function en(t){return new A((r=>{const e=t[g]();if(n(e.subscribe)){return e.subscribe(r)}throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function on(n){return new A((t=>{for(let r=0;r<n.length&&!t.closed;r++){t.next(n[r])}t.complete()}))}function un(n){return new A((t=>{n.then((n=>{if(!t.closed){t.next(n);t.complete()}}),(n=>t.error(n))).then(null,l)}))}function sn(n){return new A((t=>{for(const r of n){t.next(r);if(t.closed){return}}t.complete()}))}function cn(n){return new A((t=>{ln(n,t).catch((n=>t.error(n)))}))}function fn(n){return cn(nn(n))}function ln(n,t){var r,e;var i,o;return R(this,void 0,void 0,(function*(){try{for(r=J(n);e=yield r.next(),!e.done;){const n=e.value;t.next(n);if(t.closed){return}}}catch(n){i={error:n}}finally{try{if(e&&!e.done&&(o=r.return))yield o.call(r)}finally{if(i)throw i.error}}t.complete()}))}function an(n,t,r,e=0,i=false){const o=t.schedule((function(){r();if(i){n.add(this.schedule(null,e))}else{this.unsubscribe()}}),e);n.add(o);if(!i){return o}}function hn(n,t=0){return k(((r,e)=>{r.subscribe(z(e,(r=>an(e,n,(()=>e.next(r)),t)),(()=>an(e,n,(()=>e.complete()),t)),(r=>an(e,n,(()=>e.error(r)),t))))}))}function dn(n,t=0){return k(((r,e)=>{e.add(n.schedule((()=>r.subscribe(e)),t))}))}function yn(n,t){return rn(n).pipe(dn(t),hn(t))}function bn(n,t){return rn(n).pipe(dn(t),hn(t))}function vn(n,t){return new A((r=>{let e=0;return t.schedule((function(){if(e===n.length){r.complete()}else{r.next(n[e++]);if(!r.closed){this.schedule()}}}))}))}function pn(t,r){return new A((e=>{let i;an(e,r,(()=>{i=t[X]();an(e,r,(()=>{let n;let t;try{({value:n,done:t}=i.next())}catch(n){e.error(n);return}if(t){e.complete()}else{e.next(n)}}),0,true)}));return()=>n(i===null||i===void 0?void 0:i.return)&&i.return()}))}function wn(n,t){if(!n){throw new Error("Iterable cannot be null")}return new A((r=>{an(r,t,(()=>{const e=n[Symbol.asyncIterator]();an(r,t,(()=>{e.next().then((n=>{if(n.done){r.complete()}else{r.next(n.value)}}))}),0,true)}))}))}function mn(n,t){return wn(nn(n),t)}function Sn(n,t){if(n!=null){if(M(n)){return yn(n,t)}if(K(n)){return vn(n,t)}if(L(n)){return bn(n,t)}if(Q(n)){return wn(n,t)}if(Z(n)){return pn(n,t)}if(tn(n)){return mn(n,t)}}throw V(n)}function xn(n,t){return t?Sn(n,t):rn(n)}function En(...n){const t=F(n);return xn(n,t)}export{o as E,A as O,i as S,e as a,z as b,t as c,an as d,v as e,n as f,O as g,xn as h,rn as i,K as j,D as k,H as l,En as m,a as n,k as o,F as p};
//# sourceMappingURL=p-07f78ce2.js.map