import{r as t,c as e,h as i,H as n,g as s}from"./p-ce6a1db2.js";import{c as r,a as o,b as c,l as a}from"./p-58bc7abf.js";var d=r((function(t,e){!function(e,i){t.exports=i()}(o,(function(){var t=1e3,e=6e4,i=36e5,n="millisecond",s="second",r="minute",o="hour",c="day",a="week",d="month",h="quarter",u="year",f="date",l="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},b=function(t,e,i){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(i)+t},y={s:b,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),n=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(s,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var n=12*(i.year()-e.year())+(i.month()-e.month()),s=e.clone().add(n,d),r=i-s<0,o=e.clone().add(n+(r?-1:1),d);return+(-(n+(i-s)/(r?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:u,w:a,d:c,D:f,h:o,m:r,s,ms:n,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",g={};g[m]=w;var v=function(t){return t instanceof S},D=function t(e,i,n){var s;if(!e)return m;if("string"==typeof e){var r=e.toLowerCase();g[r]&&(s=r),i&&(g[r]=i,s=r);var o=e.split("-");if(!s&&o.length>1)return t(o[0])}else{var c=e.name;g[c]=e,s=c}return!n&&s&&(m=s),s||!n&&m},x=function(t,e){if(v(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new S(i)},M=y;M.l=D,M.i=v,M.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function w(t){this.$L=D(t.locale,null,!0),this.parse(t)}var b=w.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var s=n[2]-1||0,r=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return M},b.isValid=function(){return!(this.$d.toString()===l)},b.isSame=function(t,e){var i=x(t);return this.startOf(e)<=i&&i<=this.endOf(e)},b.isAfter=function(t,e){return x(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<x(t)},b.$g=function(t,e,i){return M.u(t)?this[e]:this.set(i,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var i=this,n=!!M.u(e)||e,h=M.p(t),l=function(t,e){var s=M.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return n?s:s.endOf(c)},p=function(t,e){return M.w(i.toDate()[t].apply(i.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},k=this.$W,w=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case u:return n?l(1,0):l(31,11);case d:return n?l(1,w):l(0,w+1);case a:var m=this.$locale().weekStart||0,g=(k<m?k+7:k)-m;return l(n?b-g:b+(6-g),w);case c:case f:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case r:return p(y+"Seconds",2);case s:return p(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var i,a=M.p(t),h="set"+(this.$u?"UTC":""),l=(i={},i[c]=h+"Date",i[f]=h+"Date",i[d]=h+"Month",i[u]=h+"FullYear",i[o]=h+"Hours",i[r]=h+"Minutes",i[s]=h+"Seconds",i[n]=h+"Milliseconds",i)[a],p=a===c?this.$D+(e-this.$W):e;if(a===d||a===u){var k=this.clone().set(f,1);k.$d[l](p),k.init(),this.$d=k.set(f,Math.min(this.$D,k.daysInMonth())).$d}else l&&this.$d[l](p);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[M.p(t)]()},b.add=function(n,h){var f,l=this;n=Number(n);var p=M.p(h),k=function(t){var e=x(l);return M.w(e.date(e.date()+Math.round(t*n)),l)};if(p===d)return this.set(d,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===c)return k(1);if(p===a)return k(7);var w=(f={},f[r]=e,f[o]=i,f[s]=t,f)[p]||1,b=this.$d.getTime()+n*w;return M.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||l;var n=t||"YYYY-MM-DDTHH:mm:ssZ",s=M.z(this),r=this.$H,o=this.$m,c=this.$M,a=i.weekdays,d=i.months,h=function(t,i,s,r){return t&&(t[i]||t(e,n))||s[i].slice(0,r)},u=function(t){return M.s(r%12||12,t,"0")},f=i.meridiem||function(t,e,i){var n=t<12?"AM":"PM";return i?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:M.s(this.$y,4,"0"),M:c+1,MM:M.s(c+1,2,"0"),MMM:h(i.monthsShort,c,d,3),MMMM:h(d,c),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,a,2),ddd:h(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(r),HH:M.s(r,2,"0"),h:u(1),hh:u(2),a:f(r,o,!0),A:f(r,o,!1),m:String(o),mm:M.s(o,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:s};return n.replace(k,(function(t,e){return e||p[t]||s.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,f,l){var p,k=M.p(f),w=x(n),b=(w.utcOffset()-this.utcOffset())*e,y=this-w,m=M.m(this,w);return m=(p={},p[u]=m/12,p[d]=m,p[h]=m/3,p[a]=(y-b)/6048e5,p[c]=(y-b)/864e5,p[o]=y/i,p[r]=y/e,p[s]=y/t,p)[k]||y,l?m:M.a(m)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return g[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),n=D(t,e,!0);return n&&(i.$L=n),i},b.clone=function(){return M.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},w}(),O=S.prototype;return x.prototype=O,[["$ms",n],["$s",s],["$m",r],["$H",o],["$W",c],["$M",d],["$y",u],["$D",f]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,S,x),t.$i=!0),x},x.locale=D,x.isDayjs=v,x.unix=function(t){return x(1e3*t)},x.en=g[m],x.Ls=g,x.p={},x}))}));var h=r((function(t,e){!function(e,i){t.exports=i()}(o,(function(){var t="day";return function(e,i,n){var s=function(e){return e.add(4-e.isoWeekday(),t)},r=i.prototype;r.isoWeekYear=function(){return s(this).year()},r.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var i,r,o,c,a=s(this),d=(i=this.isoWeekYear(),r=this.$u,o=(r?n.utc:n)().year(i).startOf("year"),c=4-o.isoWeekday(),o.isoWeekday()>4&&(c+=7),o.add(c,t));return a.diff(d,"week")+1},r.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var o=r.startOf;r.startOf=function(t,e){var i=this.$utils(),n=!!i.u(e)||e;return"isoweek"===i.p(t)?n?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(t,e)}}}))}));var u=r((function(t,e){!function(e,i){t.exports=i()}(o,(function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(n,s,r){var o=s.prototype;r.utc=function(t){var e={date:t,utc:!0,args:arguments};return new s(e)},o.utc=function(e){var i=r(this.toDate(),{locale:this.$L,utc:!0});return e?i.add(this.utcOffset(),t):i},o.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var c=o.parse;o.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),c.call(this,t)};var a=o.init;o.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else a.call(this)};var d=o.utcOffset;o.utcOffset=function(n,s){var r=this.$utils().u;if(r(n))return this.$u?0:r(this.$offset)?d.call(this):this.$offset;if("string"==typeof n&&(n=function(t){void 0===t&&(t="");var n=t.match(e);if(!n)return null;var s=(""+n[0]).match(i)||["-",0,0],r=s[0],o=60*+s[1]+ +s[2];return 0===o?0:"+"===r?o:-o}(n),null===n))return this;var o=Math.abs(n)<=16?60*n:n,c=this;if(s)return c.$offset=o,c.$u=0===n,c;if(0!==n){var a=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(c=this.local().add(o+a,t)).$offset=o,c.$x.$localOffset=a}else c=this.utc();return c};var h=o.format;o.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,e)},o.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var u=o.toDate;o.toDate=function(t){return"s"===t&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var f=o.diff;o.diff=function(t,e,i){if(t&&this.$u===t.$u)return f.call(this,t,e,i);var n=this.local(),s=r(t).local();return f.call(n,s,e,i)}}}))}));d.extend(h);d.extend(u);const f=()=>d().utc().startOf("day").toDate();function l(t){return t[t.length-1]}function p(t,...e){e.forEach((e=>{if(t.includes(e)){return}t.push(e)}));return t}function k(t,e){return t?t.split(e):[]}function w(t,e,i){const n=e===undefined||t>=e;const s=i===undefined||t<=i;return n&&s}function b(t,e,i){if(t<e){return e}if(t>i){return i}return t}function y(t,e,i={},n=0,s=""){const r=Object.keys(i).reduce(((t,e)=>{let s=i[e];if(typeof s==="function"){s=s(n)}return`${t} ${e}="${s}"`}),t);s+=`<${r}></${t}>`;const o=n+1;return o<e?y(t,e,i,o,s):s}function m(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function g(t){return new Date(t).setHours(0,0,0,0)}function v(){return(new Date).setHours(0,0,0,0)}function D(...t){switch(t.length){case 0:return v();case 1:return g(t[0])}const e=new Date(0);e.setFullYear(...t);return e.setHours(0,0,0,0)}function x(t,e){const i=new Date(t);return i.setDate(i.getDate()+e)}function M(t,e){return x(t,e*7)}function S(t,e){const i=new Date(t);const n=i.getMonth()+e;let s=n%12;if(s<0){s+=12}const r=i.setMonth(n);return i.getMonth()!==s?i.setDate(0):r}function O(t,e){const i=new Date(t);const n=i.getMonth();const s=i.setFullYear(i.getFullYear()+e);return n===1&&i.getMonth()===2?i.setDate(0):s}function N(t,e){return(t-e+7)%7}function A(t,e,i=0){const n=new Date(t).getDay();return x(t,N(e,i)-N(n,i))}function B(t,e){return Math.round((t-e)/6048e5)+1}function C(t){const e=A(t,4,1);const i=A(new Date(e).setMonth(0,4),4,1);return B(e,i)}function F(t,e){const i=A(new Date(t).setMonth(0,1),e,e);const n=A(t,e,e);const s=B(n,i);if(s<53){return s}const r=A(new Date(t).setDate(32),e,e);return n===r?1:s}function $(t){return F(t,0)}function j(t){return F(t,6)}function T(t,e){const i=new Date(t).getFullYear();return Math.floor(i/e)*e}function H(t,e,i){if(e!==1&&e!==2){return t}const n=new Date(t);if(e===1){i?n.setMonth(n.getMonth()+1,0):n.setDate(1)}else{i?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1)}return n.setHours(0,0,0,0)}const W=/dd?|DD?|mm?|MM?|yy?(?:yy)?/;const I=/[\s!-/:-@[-`{-~年月日]+/;let Y={};const _={y(t,e){return new Date(t).setFullYear(parseInt(e,10))},m(t,e,i){const n=new Date(t);let s=parseInt(e,10)-1;if(isNaN(s)){if(!e){return NaN}const t=e.toLowerCase();const n=e=>e.toLowerCase().startsWith(t);s=i.monthsShort.findIndex(n);if(s<0){s=i.months.findIndex(n)}if(s<0){return NaN}}n.setMonth(s);return n.getMonth()!==V(s)?n.setDate(0):n.getTime()},d(t,e){return new Date(t).setDate(parseInt(e,10))}};const E={d(t){return t.getDate()},dd(t){return z(t.getDate(),2)},D(t,e){return e.daysShort[t.getDay()]},DD(t,e){return e.days[t.getDay()]},m(t){return t.getMonth()+1},mm(t){return z(t.getMonth()+1,2)},M(t,e){return e.monthsShort[t.getMonth()]},MM(t,e){return e.months[t.getMonth()]},y(t){return t.getFullYear()},yy(t){return z(t.getFullYear(),2).slice(-2)},yyyy(t){return z(t.getFullYear(),4)}};function V(t){return t>-1?t%12:V(t+12)}function z(t,e){return t.toString().padStart(e,"0")}function L(t){if(typeof t!=="string"){throw new Error("Invalid date format.")}if(t in Y){return Y[t]}const e=t.split(W);const i=t.match(new RegExp(W,"g"));if(e.length===0||!i){throw new Error("Invalid date format.")}const n=i.map((t=>E[t]));const s=Object.keys(_).reduce(((t,e)=>{const n=i.find((t=>t[0]!=="D"&&t[0].toLowerCase()===e));if(n){t.push(e)}return t}),[]);return Y[t]={parser(t,e){const n=t.split(I).reduce(((t,e,n)=>{if(e.length>0&&i[n]){const s=i[n][0];if(s==="M"){t.m=e}else if(s!=="D"){t[s]=e}}return t}),{});return s.reduce(((t,i)=>{const s=_[i](t,n[i],e);return isNaN(s)?t:s}),v())},formatter(t,i){let s=n.reduce(((n,s,r)=>n+=`${e[r]}${s(t,i)}`),"");return s+=l(e)}}}function K(t,e,i){if(t instanceof Date||typeof t==="number"){const e=g(t);return isNaN(e)?undefined:e}if(!t){return undefined}if(t==="today"){return v()}if(e&&e.toValue){const n=e.toValue(t,e,i);return isNaN(n)?undefined:g(n)}return L(e).parser(t,i)}function R(t,e,i){if(isNaN(t)||!t&&t!==0){return""}const n=typeof t==="number"?new Date(t):t;if(e.toDisplay){return e.toDisplay(n,e,i)}return L(e).formatter(n,i)}const J=document.createRange();function U(t){return J.createContextualFragment(t)}function P(t){return t.parentElement||(t.parentNode instanceof ShadowRoot?t.parentNode.host:undefined)}function Z(t){return t.getRootNode().activeElement===t}function q(t){if(t.style.display==="none"){return}if(t.style.display){t.dataset.styleDisplay=t.style.display}t.style.display="none"}function Q(t){if(t.style.display!=="none"){return}if(t.dataset.styleDisplay){t.style.display=t.dataset.styleDisplay;delete t.dataset.styleDisplay}else{t.style.display=""}}function G(t){if(t.firstChild){t.removeChild(t.firstChild);G(t)}}function X(t,e){G(t);if(e instanceof DocumentFragment){t.appendChild(e)}else if(typeof e==="string"){t.appendChild(U(e))}else if(typeof e.forEach==="function"){e.forEach((e=>{t.appendChild(e)}))}}const tt=new WeakMap;const{addEventListener:et,removeEventListener:it}=EventTarget.prototype;function nt(t,e){let i=tt.get(t);if(!i){i=[];tt.set(t,i)}e.forEach((t=>{et.call(...t);i.push(t)}))}function st(t){let e=tt.get(t);if(!e){return}e.forEach((t=>{it.call(...t)}));tt.delete(t)}if(!Event.prototype.composedPath){const t=(e,i=[])=>{i.push(e);let n;if(e.parentNode){n=e.parentNode}else if(e.host){n=e.host}else if(e.defaultView){n=e.defaultView}return n?t(n,i):i};Event.prototype.composedPath=function(){return t(this.target)}}function rt(t,e,i){const[n,...s]=t;if(e(n)){return n}if(n===i||n.tagName==="HTML"||s.length===0){return}return rt(s,e,i)}function ot(t,e){const i=typeof e==="function"?e:t=>t instanceof Element&&t.matches(e);return rt(t.composedPath(),i,t.currentTarget)}const ct={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}};const at={autohide:false,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:false,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:undefined,disableTouchKeyboard:false,enableOnReadonly:true,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:true,showOnClick:true,showOnFocus:true,startView:0,title:"",todayButton:false,todayButtonMode:0,todayHighlight:false,updateOnBlur:true,weekNumbers:0,weekStart:0};const{language:dt,format:ht,weekStart:ut}=at;function ft(t,e){return t.length<6&&e>=0&&e<7?p(t,e):t}function lt(t,e){const i=t===4?e===6?3:!e+1:t;switch(i){case 1:return C;case 2:return $;case 3:return j}}function pt(t,e,i){e.weekStart=t;e.weekEnd=(t+6)%7;if(i===4){e.getWeekNumber=lt(4,t)}return t}function kt(t,e,i,n){const s=K(t,e,i);return s!==undefined?s:n}function wt(t,e,i=3){const n=parseInt(t,10);return n>=0&&n<=i?n:e}function bt(t,e,i,n=undefined){if(e in t){if(!(i in t)){t[i]=n?n(t[e]):t[e]}delete t[e]}}function yt(t,e){const i=Object.assign({},t);const n={};const s=e.constructor.locales;const r=!!e.rangeSideIndex;let{datesDisabled:o,format:c,language:a,locale:d,maxDate:h,maxView:u,minDate:f,pickLevel:l,startView:k,weekNumbers:w,weekStart:b}=e.config||{};bt(i,"calendarWeeks","weekNumbers",(t=>t?1:0));bt(i,"clearBtn","clearButton");bt(i,"todayBtn","todayButton");bt(i,"todayBtnMode","todayButtonMode");if(i.language){let t;if(i.language!==a){if(s[i.language]){t=i.language}else{t=i.language.split("-")[0];if(!s[t]){t=false}}}delete i.language;if(t){a=n.language=t;const e=d||s[dt];d=Object.assign({format:ht,weekStart:ut},s[dt]);if(a!==dt){Object.assign(d,s[a])}n.locale=d;if(c===e.format){c=n.format=d.format}if(b===e.weekStart){b=pt(d.weekStart,n,w)}}}if(i.format){const t=typeof i.format.toDisplay==="function";const e=typeof i.format.toValue==="function";const s=W.test(i.format);if(t&&e||s){c=n.format=i.format}delete i.format}let y=l;if("pickLevel"in i){y=wt(i.pickLevel,l,2);delete i.pickLevel}if(y!==l){if(y>l){if(!("minDate"in i)){i.minDate=f}if(!("maxDate"in i)){i.maxDate=h}}if(o&&!i.datesDisabled){i.datesDisabled=[]}l=n.pickLevel=y}let m=f;let g=h;if("minDate"in i){const t=D(0,0,1);m=i.minDate===null?t:kt(i.minDate,c,d,m);if(m!==t){m=H(m,l,false)}delete i.minDate}if("maxDate"in i){g=i.maxDate===null?undefined:kt(i.maxDate,c,d,g);if(g!==undefined){g=H(g,l,true)}delete i.maxDate}if(g<m){f=n.minDate=g;h=n.maxDate=m}else{if(f!==m){f=n.minDate=m}if(h!==g){h=n.maxDate=g}}if(i.datesDisabled){const t=i.datesDisabled;if(typeof t==="function"){n.datesDisabled=null;n.checkDisabled=(e,i)=>t(new Date(e),i,r)}else{const e=n.datesDisabled=t.reduce(((t,e)=>{const i=K(e,c,d);return i!==undefined?p(t,H(i,l,r)):t}),[]);n.checkDisabled=t=>e.includes(t)}delete i.datesDisabled}if("defaultViewDate"in i){const t=K(i.defaultViewDate,c,d);if(t!==undefined){n.defaultViewDate=t}delete i.defaultViewDate}if("weekStart"in i){const t=Number(i.weekStart)%7;if(!isNaN(t)){b=pt(t,n,w)}delete i.weekStart}if(i.daysOfWeekDisabled){n.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(ft,[]);delete i.daysOfWeekDisabled}if(i.daysOfWeekHighlighted){n.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(ft,[]);delete i.daysOfWeekHighlighted}if("weekNumbers"in i){let t=i.weekNumbers;if(t){const e=typeof t==="function"?(e,i)=>t(new Date(e),i):lt(t=parseInt(t,10),b);if(e){w=n.weekNumbers=t;n.getWeekNumber=e}}else{w=n.weekNumbers=0;n.getWeekNumber=null}delete i.weekNumbers}if("maxNumberOfDates"in i){const t=parseInt(i.maxNumberOfDates,10);if(t>=0){n.maxNumberOfDates=t;n.multidate=t!==1}delete i.maxNumberOfDates}if(i.dateDelimiter){n.dateDelimiter=String(i.dateDelimiter);delete i.dateDelimiter}let v=u;if("maxView"in i){v=wt(i.maxView,u);delete i.maxView}v=l>v?l:v;if(v!==u){u=n.maxView=v}let x=k;if("startView"in i){x=wt(i.startView,x);delete i.startView}if(x<l){x=l}else if(x>u){x=u}if(x!==k){n.startView=x}if(i.prevArrow){const t=U(i.prevArrow);if(t.childNodes.length>0){n.prevArrow=t.childNodes}delete i.prevArrow}if(i.nextArrow){const t=U(i.nextArrow);if(t.childNodes.length>0){n.nextArrow=t.childNodes}delete i.nextArrow}if("disableTouchKeyboard"in i){n.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard;delete i.disableTouchKeyboard}if(i.orientation){const t=i.orientation.toLowerCase().split(/\s+/g);n.orientation={x:t.find((t=>t==="left"||t==="right"))||"auto",y:t.find((t=>t==="top"||t==="bottom"))||"auto"};delete i.orientation}if("todayButtonMode"in i){switch(i.todayButtonMode){case 0:case 1:n.todayButtonMode=i.todayButtonMode}delete i.todayButtonMode}Object.entries(i).forEach((([t,e])=>{if(e!==undefined&&t in at){n[t]=e}}));return n}const mt={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:true},nextButton:{key:"ArrowRight",ctrlOrMetaKey:true},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:true},clearButton:{key:"Backspace",ctrlOrMetaKey:true},todayButton:{key:".",ctrlOrMetaKey:true},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:true}};function gt(t){return Object.keys(mt).reduce(((e,i)=>{const n=t[i]===undefined?mt[i]:t[i];const s=n&&n.key;if(!s||typeof s!=="string"){return e}const r={key:s,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};if(s.length>1){r.altKey=!!n.altKey;r.shiftKey=!!n.shiftKey}e[i]=r;return e}),{})}const vt=m(`<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-button prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-button next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-button today-btn"></button>\n        <button type="button" class="%buttonClass% clear-button clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>`);const Dt=m(`<div class="days">\n  <div class="days-of-week">${y("span",7,{class:"dow"})}</div>\n  <div class="datepicker-grid">${y("span",42)}</div>\n</div>`);const xt=m(`<div class="week-numbers calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">${y("span",6,{class:"week"})}</div>\n</div>`);class Mt{constructor(t,e){Object.assign(this,e,{picker:t,element:U(`<div class="datepicker-view"></div>`).firstChild,selected:[],isRangeEnd:!!t.datepicker.rangeSideIndex});this.init(this.picker.datepicker.config)}init(t){if("pickLevel"in t){this.isMinView=this.id===t.pickLevel}this.setOptions(t);this.updateFocus();this.updateSelection()}prepareForRender(t,e,i){this.disabled=[];const n=this.picker;n.setViewSwitchLabel(t);n.setPrevButtonDisabled(e);n.setNextButtonDisabled(i)}setDisabled(t,e){e.add("disabled");p(this.disabled,t)}performBeforeHook(t,e){let i=this.beforeShow(new Date(e));switch(typeof i){case"boolean":i={enabled:i};break;case"string":i={classes:i}}if(i){const n=t.classList;if(i.enabled===false){this.setDisabled(e,n)}if(i.classes){const t=i.classes.split(/\s+/);n.add(...t);if(t.includes("disabled")){this.setDisabled(e,n)}}if(i.content){X(t,i.content)}}}renderCell(t,e,i,n,{selected:s,range:r},o,c=[]){t.textContent=e;if(this.isMinView){t.dataset.date=n}const a=t.classList;t.className=`datepicker-cell ${this.cellClass}`;if(i<this.first){a.add("prev")}else if(i>this.last){a.add("next")}a.add(...c);if(o||this.checkDisabled(n,this.id)){this.setDisabled(n,a)}if(r){const[t,e]=r;if(i>t&&i<e){a.add("range")}if(i===t){a.add("range-start")}if(i===e){a.add("range-end")}}if(s.includes(i)){a.add("selected")}if(i===this.focused){a.add("focused")}if(this.beforeShow){this.performBeforeHook(t,n)}}refreshCell(t,e,i,[n,s]){const r=t.classList;r.remove("range","range-start","range-end","selected","focused");if(e>n&&e<s){r.add("range")}if(e===n){r.add("range-start")}if(e===s){r.add("range-end")}if(i.includes(e)){r.add("selected")}if(e===this.focused){r.add("focused")}}changeFocusedCell(t){this.grid.querySelectorAll(".focused").forEach((t=>{t.classList.remove("focused")}));this.grid.children[t].classList.add("focused")}}class St extends Mt{constructor(t){super(t,{id:0,name:"days",cellClass:"day"})}init(t,e=true){if(e){const t=U(Dt).firstChild;this.dow=t.firstChild;this.grid=t.lastChild;this.element.appendChild(t)}super.init(t)}setOptions(t){let e;if("minDate"in t){this.minDate=t.minDate}if("maxDate"in t){this.maxDate=t.maxDate}if(t.checkDisabled){this.checkDisabled=t.checkDisabled}if(t.daysOfWeekDisabled){this.daysOfWeekDisabled=t.daysOfWeekDisabled;e=true}if(t.daysOfWeekHighlighted){this.daysOfWeekHighlighted=t.daysOfWeekHighlighted}if("todayHighlight"in t){this.todayHighlight=t.todayHighlight}if("weekStart"in t){this.weekStart=t.weekStart;this.weekEnd=t.weekEnd;e=true}if(t.locale){const i=this.locale=t.locale;this.dayNames=i.daysMin;this.switchLabelFormat=i.titleFormat;e=true}if("beforeShowDay"in t){this.beforeShow=typeof t.beforeShowDay==="function"?t.beforeShowDay:undefined}if("weekNumbers"in t){if(t.weekNumbers&&!this.weekNumbers){const t=U(xt).firstChild;this.weekNumbers={element:t,dow:t.firstChild,weeks:t.lastChild};this.element.insertBefore(t,this.element.firstChild)}else if(this.weekNumbers&&!t.weekNumbers){this.element.removeChild(this.weekNumbers.element);this.weekNumbers=null}}if("getWeekNumber"in t){this.getWeekNumber=t.getWeekNumber}if("showDaysOfWeek"in t){if(t.showDaysOfWeek){Q(this.dow);if(this.weekNumbers){Q(this.weekNumbers.dow)}}else{q(this.dow);if(this.weekNumbers){q(this.weekNumbers.dow)}}}if(e){Array.from(this.dow.children).forEach(((t,e)=>{const i=(this.weekStart+e)%7;t.textContent=this.dayNames[i];t.className=this.daysOfWeekDisabled.includes(i)?"dow disabled":"dow"}))}}updateFocus(){const t=new Date(this.picker.viewDate);const e=t.getFullYear();const i=t.getMonth();const n=D(e,i,1);const s=A(n,this.weekStart,this.weekStart);this.first=n;this.last=D(e,i+1,0);this.start=s;this.focused=this.picker.viewDate}updateSelection(){const{dates:t,rangepicker:e}=this.picker.datepicker;this.selected=t;if(e){this.range=e.dates}}render(){this.today=this.todayHighlight?v():undefined;this.prepareForRender(R(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate);if(this.weekNumbers){const t=this.weekStart;const e=A(this.first,t,t);Array.from(this.weekNumbers.weeks.children).forEach(((i,n)=>{const s=M(e,n);i.textContent=this.getWeekNumber(s,t);if(n>3){i.classList[s>this.last?"add":"remove"]("next")}}))}Array.from(this.grid.children).forEach(((t,e)=>{const i=x(this.start,e);const n=new Date(i);const s=n.getDay();const r=[];if(this.today===i){r.push("today")}if(this.daysOfWeekHighlighted.includes(s)){r.push("highlighted")}this.renderCell(t,n.getDate(),i,i,this,i<this.minDate||i>this.maxDate||this.daysOfWeekDisabled.includes(s),r)}))}refresh(){const t=this.range||[];Array.from(this.grid.children).forEach((e=>{this.refreshCell(e,Number(e.dataset.date),this.selected,t)}))}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function Ot(t,e){if(!t||!t[0]||!t[1]){return}const[[i,n],[s,r]]=t;if(i>e||s<e){return}return[i===e?n:-1,s===e?r:12]}class Nt extends Mt{constructor(t){super(t,{id:1,name:"months",cellClass:"month"})}init(t,e=true){if(e){this.grid=this.element;this.element.classList.add("months","datepicker-grid");this.grid.appendChild(U(y("span",12,{"data-month":t=>t})));this.first=0;this.last=11}super.init(t)}setOptions(t){if(t.locale){this.monthNames=t.locale.monthsShort}if("minDate"in t){if(t.minDate===undefined){this.minYear=this.minMonth=this.minDate=undefined}else{const e=new Date(t.minDate);this.minYear=e.getFullYear();this.minMonth=e.getMonth();this.minDate=e.setDate(1)}}if("maxDate"in t){if(t.maxDate===undefined){this.maxYear=this.maxMonth=this.maxDate=undefined}else{const e=new Date(t.maxDate);this.maxYear=e.getFullYear();this.maxMonth=e.getMonth();this.maxDate=D(this.maxYear,this.maxMonth+1,0)}}if(t.checkDisabled){this.checkDisabled=this.isMinView||t.datesDisabled===null?t.checkDisabled:()=>false}if("beforeShowMonth"in t){this.beforeShow=typeof t.beforeShowMonth==="function"?t.beforeShowMonth:undefined}}updateFocus(){const t=new Date(this.picker.viewDate);this.year=t.getFullYear();this.focused=t.getMonth()}updateSelection(){const{dates:t,rangepicker:e}=this.picker.datepicker;this.selected=t.reduce(((t,e)=>{const i=new Date(e);const n=i.getFullYear();const s=i.getMonth();if(t[n]===undefined){t[n]=[s]}else{p(t[n],s)}return t}),{});if(e&&e.dates){this.range=e.dates.map((t=>{const e=new Date(t);return isNaN(e)?undefined:[e.getFullYear(),e.getMonth()]}))}}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const t=this.selected[this.year]||[];const e=this.year<this.minYear||this.year>this.maxYear;const i=this.year===this.minYear;const n=this.year===this.maxYear;const s=Ot(this.range,this.year);Array.from(this.grid.children).forEach(((r,o)=>{const c=H(new Date(this.year,o,1),1,this.isRangeEnd);this.renderCell(r,this.monthNames[o],o,c,{selected:t,range:s},e||i&&o<this.minMonth||n&&o>this.maxMonth)}))}refresh(){const t=this.selected[this.year]||[];const e=Ot(this.range,this.year)||[];Array.from(this.grid.children).forEach(((i,n)=>{this.refreshCell(i,n,t,e)}))}refreshFocus(){this.changeFocusedCell(this.focused)}}function At(t){return[...t].reduce(((t,e,i)=>t+=i?e:e.toUpperCase()),"")}class Bt extends Mt{constructor(t,e){super(t,e)}init(t,e=true){if(e){this.navStep=this.step*10;this.beforeShowOption=`beforeShow${At(this.cellClass)}`;this.grid=this.element;this.element.classList.add(this.name,"datepicker-grid");this.grid.appendChild(U(y("span",12)))}super.init(t)}setOptions(t){if("minDate"in t){if(t.minDate===undefined){this.minYear=this.minDate=undefined}else{this.minYear=T(t.minDate,this.step);this.minDate=D(this.minYear,0,1)}}if("maxDate"in t){if(t.maxDate===undefined){this.maxYear=this.maxDate=undefined}else{this.maxYear=T(t.maxDate,this.step);this.maxDate=D(this.maxYear,11,31)}}if(t.checkDisabled){this.checkDisabled=this.isMinView||t.datesDisabled===null?t.checkDisabled:()=>false}if(this.beforeShowOption in t){const e=t[this.beforeShowOption];this.beforeShow=typeof e==="function"?e:undefined}}updateFocus(){const t=new Date(this.picker.viewDate);const e=T(t,this.navStep);const i=e+9*this.step;this.first=e;this.last=i;this.start=e-this.step;this.focused=T(t,this.step)}updateSelection(){const{dates:t,rangepicker:e}=this.picker.datepicker;this.selected=t.reduce(((t,e)=>p(t,T(e,this.step))),[]);if(e&&e.dates){this.range=e.dates.map((t=>{if(t!==undefined){return T(t,this.step)}}))}}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear);Array.from(this.grid.children).forEach(((t,e)=>{const i=this.start+e*this.step;const n=H(new Date(i,0,1),2,this.isRangeEnd);t.dataset.year=i;this.renderCell(t,i,i,n,this,i<this.minYear||i>this.maxYear)}))}refresh(){const t=this.range||[];Array.from(this.grid.children).forEach((e=>{this.refreshCell(e,Number(e.textContent),this.selected,t)}))}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Ct(t,e){const i={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:i}))}function Ft(t,e){const{config:i,picker:n}=t;const{currentView:s,viewDate:r}=n;let o;switch(s.id){case 0:o=S(r,e);break;case 1:o=O(r,e);break;default:o=O(r,e*s.navStep)}o=b(o,i.minDate,i.maxDate);n.changeFocus(o).render()}function $t(t){const e=t.picker.currentView.id;if(e===t.config.maxView){return}t.picker.changeView(e+1).render()}function jt(t){t.setDate({clear:true})}function Tt(t){const e=v();if(t.config.todayButtonMode===1){t.setDate(e,{forceRefresh:true,viewDate:e})}else{t.setFocusedDate(e,true)}}function Ht(t){const e=()=>{if(t.config.updateOnBlur){t.update({revert:true})}else{t.refresh("input")}t.hide()};const i=t.element;if(Z(i)){i.addEventListener("blur",e,{once:true})}else{e()}}function Wt(t,e){const i=t.picker;const n=new Date(i.viewDate);const s=i.currentView.id;const r=s===1?S(n,e-n.getMonth()):O(n,e-n.getFullYear());i.changeFocus(r).changeView(s-1).render()}function It(t){$t(t)}function Yt(t){Ft(t,-1)}function _t(t){Ft(t,1)}function Et(t,e){const i=ot(e,".datepicker-cell");if(!i||i.classList.contains("disabled")){return}const{id:n,isMinView:s}=t.picker.currentView;const r=i.dataset;if(s){t.setDate(Number(r.date))}else if(n===1){Wt(t,Number(r.month))}else{Wt(t,Number(r.year))}}function Vt(t){t.preventDefault()}const zt=["left","top","right","bottom"].reduce(((t,e)=>{t[e]=`datepicker-orient-${e}`;return t}),{});const Lt=t=>t?`${t}px`:t;function Kt(t,e){if("title"in e){if(e.title){t.controls.title.textContent=e.title;Q(t.controls.title)}else{t.controls.title.textContent="";q(t.controls.title)}}if(e.prevArrow){const i=t.controls.prevButton;G(i);e.prevArrow.forEach((t=>{i.appendChild(t.cloneNode(true))}))}if(e.nextArrow){const i=t.controls.nextButton;G(i);e.nextArrow.forEach((t=>{i.appendChild(t.cloneNode(true))}))}if(e.locale){t.controls.todayButton.textContent=e.locale.today;t.controls.clearButton.textContent=e.locale.clear}if("todayButton"in e){if(e.todayButton){Q(t.controls.todayButton)}else{q(t.controls.todayButton)}}if("minDate"in e||"maxDate"in e){const{minDate:e,maxDate:i}=t.datepicker.config;t.controls.todayButton.disabled=!w(v(),e,i)}if("clearButton"in e){if(e.clearButton){Q(t.controls.clearButton)}else{q(t.controls.clearButton)}}}function Rt(t){const{dates:e,config:i,rangeSideIndex:n}=t;const s=e.length>0?l(e):H(i.defaultViewDate,i.pickLevel,n);return b(s,i.minDate,i.maxDate)}function Jt(t,e){if(!("_oldViewDate"in t)&&e!==t.viewDate){t._oldViewDate=t.viewDate}t.viewDate=e;const{id:i,year:n,first:s,last:r}=t.currentView;const o=new Date(e).getFullYear();switch(i){case 0:return e<s||e>r;case 1:return o!==n;default:return o<s||o>r}}function Ut(t){return window.getComputedStyle(t).direction}function Pt(t){const e=P(t);if(e===document.body||!e){return}return window.getComputedStyle(e).overflow!=="visible"?e:Pt(e)}class Zt{constructor(t){const{config:e,inputField:i}=this.datepicker=t;const n=vt.replace(/%buttonClass%/g,e.buttonClass);const s=this.element=U(n).firstChild;const[r,o,c]=s.firstChild.children;const a=r.firstElementChild;const[d,h,u]=r.lastElementChild.children;const[f,l]=c.firstChild.children;const p={title:a,prevButton:d,viewSwitch:h,nextButton:u,todayButton:f,clearButton:l};this.main=o;this.controls=p;const k=i?"dropdown":"inline";s.classList.add(`datepicker-${k}`);Kt(this,e);this.viewDate=Rt(t);nt(t,[[s,"mousedown",Vt],[o,"click",Et.bind(null,t)],[p.viewSwitch,"click",It.bind(null,t)],[p.prevButton,"click",Yt.bind(null,t)],[p.nextButton,"click",_t.bind(null,t)],[p.todayButton,"click",Tt.bind(null,t)],[p.clearButton,"click",jt.bind(null,t)]]);this.views=[new St(this),new Nt(this),new Bt(this,{id:2,name:"years",cellClass:"year",step:1}),new Bt(this,{id:3,name:"decades",cellClass:"decade",step:10})];this.currentView=this.views[e.startView];this.currentView.render();this.main.appendChild(this.currentView.element);if(e.container){e.container.appendChild(this.element)}else{i.after(this.element)}}setOptions(t){Kt(this,t);this.views.forEach((e=>{e.init(t,false)}));this.currentView.render()}detach(){this.element.remove()}show(){if(this.active){return}const{datepicker:t,element:e}=this;const i=t.inputField;if(i){const n=Ut(i);if(n!==Ut(P(e))){e.dir=n}else if(e.dir){e.removeAttribute("dir")}e.style.visibility="hidden";e.classList.add("active");this.place();e.style.visibility="";if(t.config.disableTouchKeyboard){i.blur()}}else{e.classList.add("active")}this.active=true;Ct(t,"show")}hide(){if(!this.active){return}this.datepicker.exitEditMode();this.element.classList.remove("active");this.active=false;Ct(this.datepicker,"hide")}place(){const{classList:t,offsetParent:e,style:i}=this.element;const{config:n,inputField:s}=this.datepicker;const{width:r,height:o}=this.element.getBoundingClientRect();const{left:c,top:a,right:d,bottom:h,width:u,height:f}=s.getBoundingClientRect();let{x:l,y:p}=n.orientation;let k=c;let w=a;if(e===document.body||!e){k+=window.scrollX;w+=window.scrollY}else{const t=e.getBoundingClientRect();k-=t.left-e.scrollLeft;w-=t.top-e.scrollTop}const b=Pt(s);let y=0;let m=0;let{clientWidth:g,clientHeight:v}=document.documentElement;if(b){const t=b.getBoundingClientRect();if(t.top>0){m=t.top}if(t.left>0){y=t.left}if(t.right<g){g=t.right}if(t.bottom<v){v=t.bottom}}let D=0;if(l==="auto"){if(c<y){l="left";D=y-c}else if(c+r>g){l="right";if(g<d){D=g-d}}else if(Ut(s)==="rtl"){l=d-r<y?"left":"right"}else{l="left"}}if(l==="right"){k+=u-r}k+=D;if(p==="auto"){if(a-o>m){p=h+o>v?"top":"bottom"}else{p="bottom"}}if(p==="top"){w-=o}else{w+=f}t.remove(...Object.values(zt));t.add(zt[l],zt[p]);i.left=Lt(k);i.top=Lt(w)}setViewSwitchLabel(t){this.controls.viewSwitch.textContent=t}setPrevButtonDisabled(t){this.controls.prevButton.disabled=t}setNextButtonDisabled(t){this.controls.nextButton.disabled=t}changeView(t){const e=this.currentView;if(t!==e.id){if(!this._oldView){this._oldView=e}this.currentView=this.views[t];this._renderMethod="render"}return this}changeFocus(t){this._renderMethod=Jt(this,t)?"render":"refreshFocus";this.views.forEach((t=>{t.updateFocus()}));return this}update(t=undefined){const e=t===undefined?Rt(this.datepicker):t;this._renderMethod=Jt(this,e)?"render":"refresh";this.views.forEach((t=>{t.updateFocus();t.updateSelection()}));return this}render(t=true){const{currentView:e,datepicker:i,_oldView:n}=this;const s=new Date(this._oldViewDate);const r=t&&this._renderMethod||"render";delete this._oldView;delete this._oldViewDate;delete this._renderMethod;e[r]();if(n){this.main.replaceChild(e.element,n.element);Ct(i,"changeView")}if(!isNaN(s)){const t=new Date(this.viewDate);if(t.getFullYear()!==s.getFullYear()){Ct(i,"changeYear")}if(t.getMonth()!==s.getMonth()){Ct(i,"changeMonth")}}}}function qt(t,e,i,n,s,r){if(!w(t,s,r)){return}if(n(t)){const o=e(t,i);return qt(o,e,i,n,s,r)}return t}function Qt(t,e,i){const n=t.picker;const s=n.currentView;const r=s.step||1;let o=n.viewDate;let c;switch(s.id){case 0:o=x(o,i?e*7:e);c=x;break;case 1:o=S(o,i?e*4:e);c=S;break;default:o=O(o,e*(i?4:1)*r);c=O}o=qt(o,c,e<0?-r:r,(t=>s.disabled.includes(t)),s.minDate,s.maxDate);if(o!==undefined){n.changeFocus(o).render()}}function Gt(t,e){const{config:i,picker:n,editMode:s}=t;const r=n.active;const{key:o,altKey:c,shiftKey:a}=e;const d=e.ctrlKey||e.metaKey;const h=()=>{e.preventDefault();e.stopPropagation()};if(o==="Tab"){Ht(t);return}if(o==="Enter"){if(!r){t.update()}else if(s){t.exitEditMode({update:true,autohide:i.autohide})}else{const e=n.currentView;if(e.isMinView){t.setDate(n.viewDate)}else{n.changeView(e.id-1).render();h()}}return}const u=i.shortcutKeys;const f={key:o,ctrlOrMetaKey:d,altKey:c,shiftKey:a};const l=Object.keys(u).find((t=>{const e=u[t];return!Object.keys(e).find((t=>e[t]!==f[t]))}));if(l){let e;if(l==="toggle"){e=l}else if(s){if(l==="exitEditMode"){e=l}}else if(r){if(l==="hide"){e=l}else if(l==="prevButton"){e=[Ft,[t,-1]]}else if(l==="nextButton"){e=[Ft,[t,1]]}else if(l==="viewSwitch"){e=[$t,[t]]}else if(i.clearButton&&l==="clearButton"){e=[jt,[t]]}else if(i.todayButton&&l==="todayButton"){e=[Tt,[t]]}}else if(l==="show"){e=l}if(e){if(Array.isArray(e)){e[0].apply(null,e[1])}else{t[e]()}h();return}}if(!r||s){return}const p=(i,n)=>{if(a||d||c){t.enterEditMode()}else{Qt(t,i,n);e.preventDefault()}};if(o==="ArrowLeft"){p(-1,false)}else if(o==="ArrowRight"){p(1,false)}else if(o==="ArrowUp"){p(-1,true)}else if(o==="ArrowDown"){p(1,true)}else if(o==="Backspace"||o==="Delete"||o&&o.length===1&&!d){t.enterEditMode()}}function Xt(t){if(t.config.showOnFocus&&!t._showing){t.show()}}function te(t,e){const i=e.target;if(t.picker.active||t.config.showOnClick){i._active=Z(i);i._clicking=setTimeout((()=>{delete i._active;delete i._clicking}),2e3)}}function ee(t,e){const i=e.target;if(!i._clicking){return}clearTimeout(i._clicking);delete i._clicking;if(i._active){t.enterEditMode()}delete i._active;if(t.config.showOnClick){t.show()}}function ie(t,e){if(e.clipboardData.types.includes("text/plain")){t.enterEditMode()}}function ne(t,e){const{element:i,picker:n}=t;if(!n.active&&!Z(i)){return}const s=n.element;if(ot(e,(t=>t===i||t===s))){return}Ht(t)}function se(t,e){return t.map((t=>R(t,e.format,e.locale))).join(e.dateDelimiter)}function re(t,e,i=false){if(e.length===0){return i?[]:undefined}const{config:n,dates:s,rangeSideIndex:r}=t;const{pickLevel:o,maxNumberOfDates:c}=n;let a=e.reduce(((t,e)=>{let i=K(e,n.format,n.locale);if(i===undefined){return t}i=H(i,o,r);if(w(i,n.minDate,n.maxDate)&&!t.includes(i)&&!n.checkDisabled(i,o)&&(o>0||!n.daysOfWeekDisabled.includes(new Date(i).getDay()))){t.push(i)}return t}),[]);if(a.length===0){return}if(n.multidate&&!i){a=a.reduce(((t,e)=>{if(!s.includes(e)){t.push(e)}return t}),s.filter((t=>!a.includes(t))))}return c&&a.length>c?a.slice(c*-1):a}function oe(t,e=3,i=true,n=undefined){const{config:s,picker:r,inputField:o}=t;if(e&2){const t=r.active?s.pickLevel:s.startView;r.update(n).changeView(t).render(i)}if(e&1&&o){o.value=se(t.dates,s)}}function ce(t,e,i){const n=t.config;let{clear:s,render:r,autohide:o,revert:c,forceRefresh:a,viewDate:d}=i;if(r===undefined){r=true}if(!r){o=a=false}else if(o===undefined){o=n.autohide}d=K(d,n.format,n.locale);const h=re(t,e,s);if(!h&&!c){return}if(h&&h.toString()!==t.dates.toString()){t.dates=h;oe(t,r?3:1,true,d);Ct(t,"changeDate")}else{oe(t,a?3:1,true,d)}if(o){t.hide()}}function ae(t,e){return e?i=>R(i,e,t.config.locale):t=>new Date(t)}class de{constructor(t,e={},i=undefined){t.datepicker=this;this.element=t;this.dates=[];const n=this.config=Object.assign({buttonClass:e.buttonClass&&String(e.buttonClass)||"button",container:null,defaultViewDate:v(),maxDate:undefined,minDate:undefined},yt(at,this));let s;if(t.tagName==="INPUT"){s=this.inputField=t;s.classList.add("datepicker-input");if(e.container){n.container=e.container instanceof HTMLElement?e.container:document.querySelector(e.container)}}else{n.container=t}if(i){const t=i.inputs.indexOf(s);const e=i.datepickers;if(t<0||t>1||!Array.isArray(e)){throw Error("Invalid rangepicker object.")}e[t]=this;this.rangepicker=i;this.rangeSideIndex=t}this._options=e;Object.assign(n,yt(e,this));n.shortcutKeys=gt(e.shortcutKeys||{});const r=k(t.value||t.dataset.date,n.dateDelimiter);delete t.dataset.date;const o=re(this,r);if(o&&o.length>0){this.dates=o}if(s){s.value=se(this.dates,n)}const c=this.picker=new Zt(this);const a=[t,"keydown",Gt.bind(null,this)];if(s){nt(this,[a,[s,"focus",Xt.bind(null,this)],[s,"mousedown",te.bind(null,this)],[s,"click",ee.bind(null,this)],[s,"paste",ie.bind(null,this)],[document,"mousedown",ne.bind(null,this)],[window,"resize",c.place.bind(c)]])}else{nt(this,[a]);this.show()}}static formatDate(t,e,i){return R(t,e,i&&ct[i]||ct.en)}static parseDate(t,e,i){return K(t,e,i&&ct[i]||ct.en)}static get locales(){return ct}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:undefined}setOptions(t){const e=yt(t,this);Object.assign(this._options,t);Object.assign(this.config,e);this.picker.setOptions(e);oe(this,3)}show(){if(this.inputField){const{config:t,inputField:e}=this;if(e.disabled||e.readOnly&&!t.enableOnReadonly){return}if(!Z(e)&&!t.disableTouchKeyboard){this._showing=true;e.focus();delete this._showing}}this.picker.show()}hide(){if(!this.inputField){return}this.picker.hide();this.picker.update().changeView(this.config.startView).render()}toggle(){if(!this.picker.active){this.show()}else if(this.inputField){this.picker.hide()}}destroy(){this.hide();st(this);this.picker.detach();const t=this.element;t.classList.remove("datepicker-input");delete t.datepicker;return this}getDate(t=undefined){const e=ae(this,t);if(this.config.multidate){return this.dates.map(e)}if(this.dates.length>0){return e(this.dates[0])}}setDate(...t){const e=[...t];const i={};const n=l(t);if(n&&typeof n==="object"&&!Array.isArray(n)&&!(n instanceof Date)){Object.assign(i,e.pop())}const s=Array.isArray(e[0])?e[0]:e;ce(this,s,i)}update(t=undefined){if(!this.inputField){return}const e=Object.assign(t||{},{clear:true,render:true,viewDate:undefined});const i=k(this.inputField.value,this.config.dateDelimiter);ce(this,i,e)}getFocusedDate(t=undefined){return ae(this,t)(this.picker.viewDate)}setFocusedDate(t,e=false){const{config:i,picker:n,active:s,rangeSideIndex:r}=this;const o=i.pickLevel;const c=K(t,i.format,i.locale);if(c===undefined){return}n.changeFocus(H(c,o,r));if(s&&e){n.changeView(o)}n.render()}refresh(t=undefined,e=false){if(t&&typeof t!=="string"){e=t;t=undefined}let i;if(t==="picker"){i=2}else if(t==="input"){i=1}else{i=3}oe(this,i,!e)}enterEditMode(){const t=this.inputField;if(!t||t.readOnly||!this.picker.active||this.editMode){return}this.editMode=true;t.classList.add("in-edit")}exitEditMode(t=undefined){if(!this.inputField||!this.editMode){return}const e=Object.assign({update:false},t);delete this.editMode;this.inputField.classList.remove("in-edit");if(e.update){this.update(e)}}}var he;(function(t){t[t["date"]=0]="date";t[t["month"]=1]="month";t[t["year"]=2]="year";t[t["week"]=3]="week"})(he||(he={}));const ue=window?.navigator?.language??"en";const fe=(t,e)=>{const i=e?d(e).toDate():f();return t==="week"?d(i).startOf("isoWeek").toDate():i};function le(t,e){const i={enableOnReadonly:false,pickLevel:he[t],todayButton:true,todayButtonMode:1,todayHighlight:true,weekStart:1,language:"browser",defaultViewDate:fe(t,e)};return i}function pe(t="long"){const e=new Date;const i=new Date(e.setUTCDate(e.getUTCDate()-e.getUTCDay()));const n=new Intl.DateTimeFormat(ue,{weekday:t}).format;return[...Array(7).keys()].map((t=>n(i.setUTCDate(i.getUTCDate()+t))))}function ke(t="long"){const e=new Date;const i=new Intl.DateTimeFormat(ue,{month:t}).format;return[...Array(12).keys()].map((t=>i(e.setUTCMonth(t))))}if(de?.locales?.browser){de.locales.browser={days:pe("long"),daysShort:pe("short"),daysMin:pe("narrow"),months:ke("long"),monthsShort:ke("short"),today:c.t("input.today")}}const we='.datepicker{width:min-content}.datepicker:not(.active){display:none}.datepicker-dropdown{position:absolute;z-index:20;padding-top:4px}.datepicker-dropdown.datepicker-orient-top{padding-top:0;padding-bottom:4px}.datepicker-picker{display:flex;flex-direction:column;border-radius:var(--cat-border-radius-m, 0.25rem);background-color:white}.datepicker-dropdown .datepicker-picker{box-shadow:0 4px 6px -2px rgba(27, 31, 38, 0.03), 0 12px 16px -4px rgba(27, 31, 38, 0.08)}.datepicker-main{flex:auto;padding:2px}.datepicker-footer{box-shadow:none;background-color:transparent}.datepicker-title{box-shadow:none;background-color:hsl(0, 0%, 96%);padding:0.375rem 0.75rem;text-align:center;font-weight:700}.datepicker-controls{display:flex}.datepicker-header .datepicker-controls{padding:2px 2px 0}.datepicker-controls .button{display:inline-flex;position:relative;align-items:center;justify-content:center;margin:0;border:1px solid rgb(var(--cat-border-color, 235, 236, 240));border-radius:var(--cat-border-radius-m, 0.25rem);box-shadow:none;background-color:hsl(0, 0%, 100%);cursor:pointer;padding:calc(0.375em - 1px) 0.75em;height:2.25em;vertical-align:top;text-align:center;line-height:1.5;white-space:nowrap;color:hsl(0, 0%, 21%);font-size:0.9375rem}.datepicker-controls .button:focus,.datepicker-controls .button:active{outline:none}.datepicker-controls .button:hover{border-color:#b8b8b8;color:hsl(0, 0%, 21%)}.datepicker-controls .button:focus{border-color:hsl(217, 71%, 53%);color:hsl(0, 0%, 21%)}.datepicker-controls .button:focus:not(:active){box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25)}.datepicker-controls .button:active{border-color:#474747;color:hsl(0, 0%, 21%)}.datepicker-controls .button[disabled]{cursor:not-allowed}.datepicker-header .datepicker-controls .button{border-color:transparent;font-weight:bold}.datepicker-header .datepicker-controls .button:hover{background-color:#f2f4f7}.datepicker-header .datepicker-controls .button:active{background-color:#f2f4f7}.datepicker-footer .datepicker-controls .button{flex:auto;margin:calc(0.375rem - 1px) 0.375rem;border-radius:var(--cat-border-radius-s, 0.125rem);font-size:0.875rem}.datepicker-controls .view-switch{flex:auto}.datepicker-controls .prev-button,.datepicker-controls .next-button{padding-right:0.375rem;padding-left:0.375rem;flex:0 0 14.2857142857%}.datepicker-controls .prev-button.disabled,.datepicker-controls .next-button.disabled{visibility:hidden}.datepicker-view,.datepicker-grid{display:flex}.datepicker-view{align-items:stretch;width:17.5rem}.datepicker-grid{flex-wrap:wrap;flex:auto}.datepicker .days{display:flex;flex-direction:column;flex:auto}.datepicker .days-of-week{display:flex}.datepicker .week-numbers{display:flex;flex-direction:column;flex:0 0 9.6774193548%}.datepicker .weeks{display:flex;flex-direction:column;align-items:stretch;flex:auto}.datepicker span{display:flex;align-items:center;justify-content:center;border-radius:var(--cat-border-radius-m, 0.25rem);cursor:default;-webkit-touch-callout:none;user-select:none}.datepicker .dow{height:2rem;font-size:0.875rem0.9375rem/2;font-weight:700}.datepicker .week{flex:auto;color:rgb(var(--cat-font-color-muted, 81, 92, 108));font-size:0.875rem}.datepicker-cell,.datepicker .days .dow{flex-basis:14.2857142857%}.datepicker-cell{height:2.5rem}.datepicker-cell:not(.day){flex-basis:25%;height:5rem}.datepicker-cell:not(.disabled):hover{background-color:transparent;cursor:pointer}.datepicker-cell.focused:not(.selected){background-color:#f2f4f7}.datepicker-cell.selected,.datepicker-cell.selected:hover{background-color:rgb(var(--cat-primary-bg, 0, 129, 148));color:rgb(var(--cat-primary-fill, 255, 255, 255));font-weight:700}.datepicker-cell.disabled{color:rgb(var(--cat-font-color-muted, 81, 92, 108))}.datepicker-cell.prev:not(.disabled),.datepicker-cell.next:not(.disabled){color:rgb(var(--cat-font-color-muted, 81, 92, 108))}.datepicker-cell.prev.selected,.datepicker-cell.next.selected{color:rgb(var(--cat-primary-fill, 255, 255, 255))}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today){border-radius:0;background-color:#f2f4f7}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today):not(.disabled):hover{background-color:#f2f4f7}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today).focused{background-color:#f2f4f7}.datepicker-cell.today:not(.selected){background-color:transparent}.datepicker-cell.today:not(.selected):not(.disabled){color:rgb(var(--cat-primary-text, 0, 129, 148))}.datepicker-cell.today.focused:not(.selected){background-color:#f2f4f7}.datepicker-cell.range-end:not(.selected),.datepicker-cell.range-start:not(.selected){background-color:#b8b8b8;color:rgb(var(--cat-primary-fill, 255, 255, 255))}.datepicker-cell.range-end.focused:not(.selected),.datepicker-cell.range-start.focused:not(.selected){background-color:#b3b3b3}.datepicker-cell.range-start:not(.range-end){border-radius:var(--cat-border-radius-m, 0.25rem) 0 0 var(--cat-border-radius-m, 0.25rem)}.datepicker-cell.range-end:not(.range-start){border-radius:0 var(--cat-border-radius-m, 0.25rem) var(--cat-border-radius-m, 0.25rem) 0}.datepicker-cell.range{border-radius:0;background-color:gainsboro}.datepicker-cell.range:not(.disabled):not(.focused):not(.today):hover{background-color:#d7d7d7}.datepicker-cell.range.disabled{color:#c6c6c6}.datepicker-cell.range.focused{background-color:#d1d1d1}.datepicker-input.in-edit{border-color:#276bda}.datepicker-input.in-edit:focus,.datepicker-input.in-edit:active{box-shadow:none}.datepicker-picker{border:1px solid rgb(var(--cat-border-color, 235, 236, 240))}.datepicker-main{padding:0.5rem 1rem}.datepicker-view:has(.week-numbers){width:19.375rem}.datepicker-view.months,.datepicker-view.years{width:20rem}.datepicker .dow,.datepicker .week{font-size:0.75rem;line-height:1rem;font-weight:700;color:rgb(var(--cat-font-color-muted, 81, 92, 108))}.datepicker-cell.today:not(.selected){box-shadow:inset 0 0 0 2px rgb(var(--cat-primary-bg, 0, 129, 148))}.datepicker-cell.focused:not(.selected),.datepicker-cell:not(.selected):not(.disabled):hover{background-color:#f2f4f7}.datepicker-controls{gap:0.5rem}.datepicker-header .datepicker-controls{padding:1rem 1rem 0}.datepicker-header .datepicker-controls .button{height:2.5rem}.datepicker-header .datepicker-controls .prev-button,.datepicker-header .datepicker-controls .next-button{flex-basis:2.5rem;font-size:1.25rem}.datepicker-footer .datepicker-controls{padding:0 1rem 1rem}.datepicker-footer .datepicker-controls .button{margin:0;height:2.5rem;font-size:0.9375rem}.datepicker-footer .datepicker-controls .button:hover,.datepicker-footer .datepicker-controls .button:active{border-color:rgb(var(--cat-border-color-dark, 215, 219, 224))}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1)::before{content:"";width:700%;height:100%;border-radius:var(--cat-border-radius-m, 0.25rem);position:absolute;top:0;left:0;opacity:0;z-index:1}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).today:not(.selected)::before{box-shadow:inset 0 0 0 1.5px #008194;border-radius:var(--cat-border-radius-m, 0.25rem);opacity:1}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1):not(:hover)::before{background:none}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1):hover::before{opacity:1;background-color:transparent}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).selected,.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).selected.focused{color:white}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).selected::before,.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).selected.focused::before{opacity:1;background-color:rgb(var(--cat-primary-bg, 0, 129, 148));z-index:-1}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).focused{background:none}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid :nth-child(7n+1).focused::before{opacity:1;background-color:#f2f4f7;z-index:-1}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell{position:relative}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell.selected,.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell.focused{z-index:2}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell.today:not(.selected){box-shadow:none}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell:not(.disabled):hover{background-color:inherit}.datepicker.weekly .datepicker-view:not(.months):not(.years) .datepicker-grid .datepicker-cell.focused{background:none}';const be=class{constructor(i){t(this,i);this.catChange=e(this,"catChange",7);this.catFocus=e(this,"catFocus",7);this.catBlur=e(this,"catBlur",7);this.hasSlottedLabel=false;this.hasSlottedHint=false;this.requiredMarker="optional";this.horizontal=false;this.autoComplete=undefined;this.clearable=false;this.disabled=false;this.hint=undefined;this.icon=undefined;this.iconLeft=false;this.identifier=undefined;this.label="";this.labelHidden=false;this.max=undefined;this.min=undefined;this.name=undefined;this.placeholder=undefined;this.textPrefix=undefined;this.textSuffix=undefined;this.readonly=false;this.required=false;this.format="mm/dd/yyyy";this.weekNumbers=true;this.type="date";this.datesDisabled=undefined;this.value=undefined;this.errors=undefined;this.errorUpdate=0;this.nativeAttributes=undefined}async doFocus(t){this.input.focus(t)}async doBlur(){this.input.blur()}async doClick(){this.input.click()}async clear(){this.value=""}componentWillRender(){this.hasSlottedLabel=!!this.hostElement.querySelector('[slot="label"]');this.hasSlottedHint=!!this.hostElement.querySelector('[slot="hint"]')}render(){return i(n,null,i("cat-input",{ref:t=>this.catInput=t,requiredMarker:this.requiredMarker,horizontal:this.horizontal,autoComplete:this.autoComplete,clearable:this.clearable,disabled:this.disabled,hint:this.hint,icon:this.icon,iconRight:!this.iconLeft,identifier:this.identifier,label:this.label,labelHidden:this.labelHidden,name:this.name,placeholder:this.placeholder,textPrefix:this.textPrefix,textSuffix:this.textSuffix,readonly:this.readonly,required:this.required,value:this.value,errors:this.errors,errorUpdate:this.errorUpdate,nativeAttributes:this.nativeAttributes,onCatChange:t=>this.onCatChange(t),onCatFocus:t=>this.onCatFocus(t.detail),onCatBlur:t=>this.onCatBlur(t.detail)},this.hasSlottedLabel&&i("span",{slot:"label"},i("slot",{name:"label"})),this.hasSlottedHint&&i("span",{slot:"hint"},i("slot",{name:"hint"}))))}componentDidLoad(){if(this.hostElement){const t=this.catInput.shadowRoot?.querySelector(".input-wrapper");const e=t?.querySelector("input");if(e){this.input=e}else{a.error("[CatInput] Missing input element",this);return}this.datepicker=new de(e,{...le(this.type,this.value),container:t,maxDate:this.max,minDate:this.min,datesDisabled:this.datesDisabled,prevArrow:"←",nextArrow:"→",weekNumbers:this.weekNumbers?1:0,format:{toValue:t=>this.type==="week"?this.fromISOWeek(t):de.parseDate(t,this.dateFormat),toDisplay:t=>this.type==="week"?this.toISOWeek(t).toString():de.formatDate(t,this.dateFormat)},beforeShowDay:t=>this.shouldHighlightAsToday(t)?"today":null,beforeShowMonth:t=>this.shouldHighlightAsToday(t)?"today":null,beforeShowYear:t=>this.shouldHighlightAsToday(t)?"today":null});if(this.type==="week"){this.datepicker.pickerElement.classList.add("weekly")}this.input.addEventListener("show",this.handleWeekDays.bind(this));this.input.addEventListener("changeDate",this.handleDateChange.bind(this));this.input.addEventListener("changeMonth",this.handleWeekDays.bind(this));this.input.addEventListener("changeView",this.handleWeekDays.bind(this));this.input.addEventListener("keydown",this.focusAllWeekDays.bind(this))}}disconnectedCallback(){this.input.removeEventListener("show",this.handleWeekDays.bind(this));this.input.removeEventListener("changeDate",this.handleDateChange.bind(this));this.input.removeEventListener("changeMonth",this.handleWeekDays.bind(this));this.input.removeEventListener("changeView",this.handleWeekDays.bind(this));this.input.removeEventListener("keydown",this.focusAllWeekDays.bind(this))}handleDateChange(t){this.selectAllWeekDays(t.detail.date);this.value=this.input.value;this.catChange.emit()}handleWeekDays(t){this.selectAllWeekDays(t);this.focusAllWeekDays()}selectAllWeekDays(t){const e=t instanceof Date?t:t.detail?.date;if(this.type!=="week"){return}if(this.input?.value){const t=d(e).startOf("isoWeek");if(!t.isSame(d(e).startOf("day"))){this.datepicker.setDate(t.toDate())}else{this.addClassToAllWeekDays("selected")}}}focusAllWeekDays(){const t=d(this.datepicker.picker.viewDate);if(this.type!=="week"||!t){return}const e=d(t).startOf("isoWeek");if(!e.isSame(d(t).startOf("day"))){this.datepicker.setFocusedDate(e.toDate())}this.addClassToAllWeekDays("focused")}addClassToAllWeekDays(t){let e=7;const i=this.datepicker.pickerElement;let n=i.querySelector(`.datepicker-cell:not(.month):not(.year).${t}`);while(e>1){if(n){n=n.nextElementSibling;n?.classList.add(t);e--}else{break}}}onCatChange(t){this.value=this.input.value;this.catChange.emit(t)}onCatFocus(t){this.catFocus.emit(t)}onCatBlur(t){this.catBlur.emit(t)}shouldHighlightAsToday(t){const e=new Date;const i=e.getFullYear()===t.getFullYear();const n=e.getMonth()===t.getMonth();const s=e.getDate()===t.getDate();switch(this.type){case"date":return i&&n&&s;case"week":return i&&this.toISOWeek(e)===this.toISOWeek(t);case"month":return i&&n;case"year":return i;default:return false}}get dateFormat(){const t=new Date(Date.UTC(3333,10,22));const e=new Intl.DateTimeFormat("en-US",{year:"numeric",month:this.type!=="year"?"numeric":undefined,day:this.type==="date"||this.type==="week"?"numeric":undefined}).format(t);return e.replace("22","dd").replace("11","mm").replace("3333","yyyy")}fromISOWeek(t){if(typeof t==="string"||typeof t==="number"){const e=parseInt(t.toString(),10);return isNaN(e)?new Date:this.fromISOWeekNumber(e)}return t}fromISOWeekNumber(t,e=(new Date).getFullYear()){const i=new Date(Date.UTC(e,0,4));const n=(t-1)*7-(i.getUTCDay()||7)+1;const s=new Date(i);s.setUTCDate(s.getUTCDate()+n);return s}toISOWeek(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)}get hostElement(){return s(this)}};be.style=we;export{be as cat_datepicker};
//# sourceMappingURL=p-a2baeb51.entry.js.map