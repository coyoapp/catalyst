import{r as t,c as n,h as e,H as i,g as o}from"./p-659073b5.js";import{l as r}from"./p-2ad6f8d8.js";import{C as a}from"./p-6fce43dd.js";var s,h,l="function"==typeof Map?new Map:(s=[],h=[],{has:function(t){return s.indexOf(t)>-1},get:function(t){return h[s.indexOf(t)]},set:function(t,n){-1===s.indexOf(t)&&(s.push(t),h.push(n))},delete:function(t){var n=s.indexOf(t);n>-1&&(s.splice(n,1),h.splice(n,1))}}),c=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(s){c=function(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!1),n}}function u(t){var n=l.get(t);n&&n.destroy()}function d(t){var n=l.get(t);n&&n.update()}var f=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((f=function(t){return t}).destroy=function(t){return t},f.update=function(t){return t}):((f=function(t,n){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return function(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!l.has(t)){var n,e=null,i=null,o=null,r=function(){t.clientWidth!==i&&u()},a=function(n){window.removeEventListener("resize",r,!1),t.removeEventListener("input",u,!1),t.removeEventListener("keyup",u,!1),t.removeEventListener("autosize:destroy",a,!1),t.removeEventListener("autosize:update",u,!1),Object.keys(n).forEach((function(e){t.style[e]=n[e]})),l.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",a,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",u,!1),window.addEventListener("resize",r,!1),t.addEventListener("input",u,!1),t.addEventListener("autosize:update",u,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",l.set(t,{destroy:a,update:u}),"vertical"===(n=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===n.resize&&(t.style.resize="horizontal"),e="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(e)&&(e=0),u()}function s(n){var e=t.style.width;t.style.width="0px",t.style.width=e,t.style.overflowY=n}function h(){if(0!==t.scrollHeight){var n=function(t){for(var n=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&n.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return n}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+e+"px",i=t.clientWidth,n.forEach((function(t){t.node.scrollTop=t.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function u(){h();var n=Math.round(parseFloat(t.style.height)),e=window.getComputedStyle(t,null),i="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):t.offsetHeight;if(i<n?"hidden"===e.overflowY&&(s("scroll"),h(),i="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==e.overflowY&&(s("hidden"),h(),i="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),o!==i){o=i;var r=c("autosize:resized");try{t.dispatchEvent(r)}catch(t){}}}}(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],u),t},f.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],d),t});var p=f;const m=".hint-section{display:flex;gap:0.5rem;flex-direction:column}.hint-section .input-hint,.hint-section ::slotted([slot=hint]){font-size:0.875rem;line-height:1rem;font-weight:var(--cat-font-weight-body, 400);margin:0}:host{display:flex;flex-direction:column;gap:0.5rem;font-size:0.9375rem;line-height:1.25rem;font-weight:var(--cat-font-weight-body, 400);margin-bottom:1rem}:host([hidden]){display:none}label{align-self:flex-start}label.hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}.input-optional{margin-left:0.25rem;font-size:0.75rem;line-height:1rem;font-weight:var(--cat-font-weight-body, 400);color:rgb(var(--cat-font-color-muted, 105, 118, 135))}textarea{margin:0;padding:0.625rem 0.75rem;min-height:2.5rem;font:inherit;background:white;border-radius:0.25rem;border:none;box-shadow:0 0 0 1px #d7dbe0;transition:box-shadow 0.13s linear}textarea:disabled{background:#f8f8fb;cursor:not-allowed;color:rgb(var(--cat-font-color-muted, 105, 118, 135));resize:none}textarea:hover:not(:disabled){box-shadow:0 0 0 2px #d7dbe0}textarea:focus{outline:2px solid rgb(var(--cat-border-color-focus, 0, 113, 255))}textarea::placeholder{color:rgb(var(--cat-font-color-muted, 105, 118, 135))}";let b=0;const w=class{constructor(e){t(this,e);this.catChange=n(this,"catChange",7);this.catFocus=n(this,"catFocus",7);this.catBlur=n(this,"catBlur",7);this.id=`cat-textarea-${b++}`;this.hasSlottedLabel=false;this.disabled=false;this.label="";this.labelHidden=false;this.name="";this.readonly=false;this.required=false;this.rows=3}componentWillRender(){this.hasSlottedLabel=!!this.hostElement.querySelector('[slot="label"]');if(!this.label&&!this.hasSlottedLabel){r.error("[A11y] Missing ARIA label on textarea",this)}}componentDidLoad(){p(this.textarea)}async setFocus(t){this.textarea.focus(t)}render(){return e(i,null,(this.hasSlottedLabel||this.label)&&e("label",{htmlFor:this.id,class:{hidden:this.labelHidden}},e("span",{part:"label"},this.hasSlottedLabel&&e("slot",{name:"label"})||this.label,!this.required&&e("span",{class:"input-optional","aria-hidden":"true"},"(Optional)"))),e("textarea",{ref:t=>this.textarea=t,id:this.id,disabled:this.disabled,maxlength:this.maxLength,minlength:this.minLength,name:this.name,placeholder:this.placeholder,readonly:this.readonly,required:this.required,rows:this.rows,value:this.value,onInput:this.onInput.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),this.hintSection)}get hintSection(){const t=!!this.hostElement.querySelector('[slot="hint"]');return(this.hint||t)&&e(a,{hint:this.hint,slottedHint:t&&e("slot",{name:"hint"})})}onInput(t){this.value=this.textarea.value;this.catChange.emit(t)}onFocus(t){this.catFocus.emit(t)}onBlur(t){this.catBlur.emit(t)}get hostElement(){return o(this)}};w.style=m;export{w as cat_textarea};
//# sourceMappingURL=p-5ba5e33c.entry.js.map