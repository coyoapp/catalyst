import{l as t}from"./p-2ad6f8d8.js";class e{constructor(){this._locale="en";this._dicts=new Map}static getInstance(){if(!e.instance){e.instance=new e}return e.instance}locale(e){if(e){this._locale=e;t.info(`[CatI18nRegistry] Locale set to ${e}`);window.dispatchEvent(this.buildEvent("cat-i18n-locale",{locale:e}))}return this._locale}register(e,s){const i=this.getDict(e);Object.entries(s).forEach((([t,e])=>i.set(t,e)));t.info(`[CatI18nRegistry] Registered messages for ${e}`,s);window.dispatchEvent(this.buildEvent("cat-i18n-register",{i18n:s}))}clear(e){if(e){this.getDict(e).clear();t.info(`[CatI18nRegistry] Cleared messages for ${e}`);window.dispatchEvent(this.buildEvent("cat-i18n-clear",{locale:e}))}else{this._dicts.clear();t.info(`[CatI18nRegistry] Cleared messages`);window.dispatchEvent(this.buildEvent("cat-i18n-clear"))}}t(e,s){var i;const n=(i=this._dicts.get(this._locale))===null||i===void 0?void 0:i.get(e);if(!n){t.error(`[CatI18nRegistry] Unknown message for ${this._locale}: ${e}`)}return(n===null||n===void 0?void 0:n.replace(/{{\s*([-a-zA-Z._]+)\s*}}/g,((t,e)=>{var i;return`${(i=s===null||s===void 0?void 0:s[e])!==null&&i!==void 0?i:""}`})))||""}buildEvent(t,e){return new CustomEvent(t,{bubbles:true,composed:true,detail:e})}getDict(t){let e=this._dicts.get(t);if(!e){e=new Map;this._dicts.set(t,e)}return e}}class s{constructor(){this.icons=new Map}static getInstance(){if(!s.instance){s.instance=new s}return s.instance}getIcon(e,s){const i=this.icons.get(this.buildName(e,s));if(!i){t.error(`[CatIconRegistry] Unknown icon${s?` in set ${s}`:""}: ${e}`)}return i}addIcon(e,s,i){this.icons.set(this.buildName(e,i),s);t.info(`[CatIconRegistry] Added icon${i?` to set ${i}`:""}: ${e}`);window.dispatchEvent(this.buildEvent("cat-icon-added",{name:e,setName:i}));return this}addIcons(e,s){Object.entries(e).forEach((([t,e])=>this.icons.set(this.buildName(t,s),e)));t.info(`[CatIconRegistry] Added icons${s?` to set ${s}`:""}: ${Object.keys(e).concat(", ")}`);window.dispatchEvent(this.buildEvent("cat-icons-added",{names:Object.keys(e),setName:s}));return this}removeIcon(e,s){this.icons.delete(this.buildName(e,s));t.info(`[CatIconRegistry] Removed icon${s?` from set ${s}`:""}: ${e}`);window.dispatchEvent(this.buildEvent("cat-icon-removed",{name:e,setName:s}));return this}removeIcons(e,s){e.forEach((t=>this.icons.delete(this.buildName(t,s))));t.info(`[CatIconRegistry] Removed icons${s?` from set ${s}`:""}: ${e.concat(", ")}`);window.dispatchEvent(this.buildEvent("cat-icons-removed",{names:e,setName:s}));return this}buildName(t,e){return e?`${e}:name`:t}buildEvent(t,e){return new CustomEvent(t,{bubbles:true,composed:true,detail:e})}}export{s as C,e as a};
//# sourceMappingURL=p-f45bcfd6.js.map